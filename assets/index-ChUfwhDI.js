(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function Fp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zr={exports:{}},Qi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Jy(){if(sm)return Qi;sm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,c,d){var g=null;if(d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:n,type:a,key:g,ref:c!==void 0?c:null,props:d}}return Qi.Fragment=e,Qi.jsx=i,Qi.jsxs=i,Qi}var rm;function Qy(){return rm||(rm=1,zr.exports=Jy()),zr.exports}var E=Qy(),Or={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function Xy(){if(um)return he;um=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=C&&S[C]||S["@@iterator"],typeof S=="function"?S:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,O={};function J(S,A,N){this.props=S,this.context=A,this.refs=O,this.updater=N||D}J.prototype.isReactComponent={},J.prototype.setState=function(S,A){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,A,"setState")},J.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function W(){}W.prototype=J.prototype;function K(S,A,N){this.props=S,this.context=A,this.refs=O,this.updater=N||D}var $=K.prototype=new W;$.constructor=K,H($,J.prototype),$.isPureReactComponent=!0;var Z=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function ee(S,A,N,w,L,G){return N=G.ref,{$$typeof:n,type:S,key:A,ref:N!==void 0?N:null,props:G}}function xe(S,A){return ee(S.type,A,void 0,void 0,void 0,S.props)}function ie(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function j(S){var A={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(N){return A[N]})}var ne=/\/+/g;function se(S,A){return typeof S=="object"&&S!==null&&S.key!=null?j(""+S.key):A.toString(36)}function Te(){}function Re(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Te,Te):(S.status="pending",S.then(function(A){S.status==="pending"&&(S.status="fulfilled",S.value=A)},function(A){S.status==="pending"&&(S.status="rejected",S.reason=A)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function ge(S,A,N,w,L){var G=typeof S;(G==="undefined"||G==="boolean")&&(S=null);var V=!1;if(S===null)V=!0;else switch(G){case"bigint":case"string":case"number":V=!0;break;case"object":switch(S.$$typeof){case n:case e:V=!0;break;case v:return V=S._init,ge(V(S._payload),A,N,w,L)}}if(V)return L=L(S),V=w===""?"."+se(S,0):w,Z(L)?(N="",V!=null&&(N=V.replace(ne,"$&/")+"/"),ge(L,A,N,"",function(_e){return _e})):L!=null&&(ie(L)&&(L=xe(L,N+(L.key==null||S&&S.key===L.key?"":(""+L.key).replace(ne,"$&/")+"/")+V)),A.push(L)),1;V=0;var ue=w===""?".":w+":";if(Z(S))for(var me=0;me<S.length;me++)w=S[me],G=ue+se(w,me),V+=ge(w,A,N,G,L);else if(me=_(S),typeof me=="function")for(S=me.call(S),me=0;!(w=S.next()).done;)w=w.value,G=ue+se(w,me++),V+=ge(w,A,N,G,L);else if(G==="object"){if(typeof S.then=="function")return ge(Re(S),A,N,w,L);throw A=String(S),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return V}function k(S,A,N){if(S==null)return S;var w=[],L=0;return ge(S,w,"","",function(G){return A.call(N,G,L++)}),w}function Q(S){if(S._status===-1){var A=S._result;A=A(),A.then(function(N){(S._status===0||S._status===-1)&&(S._status=1,S._result=N)},function(N){(S._status===0||S._status===-1)&&(S._status=2,S._result=N)}),S._status===-1&&(S._status=0,S._result=A)}if(S._status===1)return S._result.default;throw S._result}var le=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function X(){}return he.Children={map:k,forEach:function(S,A,N){k(S,function(){A.apply(this,arguments)},N)},count:function(S){var A=0;return k(S,function(){A++}),A},toArray:function(S){return k(S,function(A){return A})||[]},only:function(S){if(!ie(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},he.Component=J,he.Fragment=i,he.Profiler=c,he.PureComponent=K,he.StrictMode=a,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,he.__COMPILER_RUNTIME={__proto__:null,c:function(S){return F.H.useMemoCache(S)}},he.cache=function(S){return function(){return S.apply(null,arguments)}},he.cloneElement=function(S,A,N){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var w=H({},S.props),L=S.key,G=void 0;if(A!=null)for(V in A.ref!==void 0&&(G=void 0),A.key!==void 0&&(L=""+A.key),A)!re.call(A,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&A.ref===void 0||(w[V]=A[V]);var V=arguments.length-2;if(V===1)w.children=N;else if(1<V){for(var ue=Array(V),me=0;me<V;me++)ue[me]=arguments[me+2];w.children=ue}return ee(S.type,L,void 0,void 0,G,w)},he.createContext=function(S){return S={$$typeof:g,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},he.createElement=function(S,A,N){var w,L={},G=null;if(A!=null)for(w in A.key!==void 0&&(G=""+A.key),A)re.call(A,w)&&w!=="key"&&w!=="__self"&&w!=="__source"&&(L[w]=A[w]);var V=arguments.length-2;if(V===1)L.children=N;else if(1<V){for(var ue=Array(V),me=0;me<V;me++)ue[me]=arguments[me+2];L.children=ue}if(S&&S.defaultProps)for(w in V=S.defaultProps,V)L[w]===void 0&&(L[w]=V[w]);return ee(S,G,void 0,void 0,null,L)},he.createRef=function(){return{current:null}},he.forwardRef=function(S){return{$$typeof:h,render:S}},he.isValidElement=ie,he.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:Q}},he.memo=function(S,A){return{$$typeof:p,type:S,compare:A===void 0?null:A}},he.startTransition=function(S){var A=F.T,N={};F.T=N;try{var w=S(),L=F.S;L!==null&&L(N,w),typeof w=="object"&&w!==null&&typeof w.then=="function"&&w.then(X,le)}catch(G){le(G)}finally{F.T=A}},he.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},he.use=function(S){return F.H.use(S)},he.useActionState=function(S,A,N){return F.H.useActionState(S,A,N)},he.useCallback=function(S,A){return F.H.useCallback(S,A)},he.useContext=function(S){return F.H.useContext(S)},he.useDebugValue=function(){},he.useDeferredValue=function(S,A){return F.H.useDeferredValue(S,A)},he.useEffect=function(S,A,N){var w=F.H;if(typeof N=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return w.useEffect(S,A)},he.useId=function(){return F.H.useId()},he.useImperativeHandle=function(S,A,N){return F.H.useImperativeHandle(S,A,N)},he.useInsertionEffect=function(S,A){return F.H.useInsertionEffect(S,A)},he.useLayoutEffect=function(S,A){return F.H.useLayoutEffect(S,A)},he.useMemo=function(S,A){return F.H.useMemo(S,A)},he.useOptimistic=function(S,A){return F.H.useOptimistic(S,A)},he.useReducer=function(S,A,N){return F.H.useReducer(S,A,N)},he.useRef=function(S){return F.H.useRef(S)},he.useState=function(S){return F.H.useState(S)},he.useSyncExternalStore=function(S,A,N){return F.H.useSyncExternalStore(S,A,N)},he.useTransition=function(){return F.H.useTransition()},he.version="19.1.1",he}var cm;function ru(){return cm||(cm=1,Or.exports=Xy()),Or.exports}var ce=ru();const Ky=Fp(ce);var Yr={exports:{}},Xi={},Fr={exports:{}},Jr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Zy(){return fm||(fm=1,function(n){function e(k,Q){var le=k.length;k.push(Q);e:for(;0<le;){var X=le-1>>>1,S=k[X];if(0<c(S,Q))k[X]=Q,k[le]=S,le=X;else break e}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var Q=k[0],le=k.pop();if(le!==Q){k[0]=le;e:for(var X=0,S=k.length,A=S>>>1;X<A;){var N=2*(X+1)-1,w=k[N],L=N+1,G=k[L];if(0>c(w,le))L<S&&0>c(G,w)?(k[X]=G,k[L]=le,X=L):(k[X]=w,k[N]=le,X=N);else if(L<S&&0>c(G,le))k[X]=G,k[L]=le,X=L;else break e}}return Q}function c(k,Q){var le=k.sortIndex-Q.sortIndex;return le!==0?le:k.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var g=Date,h=g.now();n.unstable_now=function(){return g.now()-h}}var y=[],p=[],v=1,C=null,_=3,D=!1,H=!1,O=!1,J=!1,W=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Z(k){for(var Q=i(p);Q!==null;){if(Q.callback===null)a(p);else if(Q.startTime<=k)a(p),Q.sortIndex=Q.expirationTime,e(y,Q);else break;Q=i(p)}}function F(k){if(O=!1,Z(k),!H)if(i(y)!==null)H=!0,re||(re=!0,se());else{var Q=i(p);Q!==null&&ge(F,Q.startTime-k)}}var re=!1,ee=-1,xe=5,ie=-1;function j(){return J?!0:!(n.unstable_now()-ie<xe)}function ne(){if(J=!1,re){var k=n.unstable_now();ie=k;var Q=!0;try{e:{H=!1,O&&(O=!1,K(ee),ee=-1),D=!0;var le=_;try{t:{for(Z(k),C=i(y);C!==null&&!(C.expirationTime>k&&j());){var X=C.callback;if(typeof X=="function"){C.callback=null,_=C.priorityLevel;var S=X(C.expirationTime<=k);if(k=n.unstable_now(),typeof S=="function"){C.callback=S,Z(k),Q=!0;break t}C===i(y)&&a(y),Z(k)}else a(y);C=i(y)}if(C!==null)Q=!0;else{var A=i(p);A!==null&&ge(F,A.startTime-k),Q=!1}}break e}finally{C=null,_=le,D=!1}Q=void 0}}finally{Q?se():re=!1}}}var se;if(typeof $=="function")se=function(){$(ne)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Re=Te.port2;Te.port1.onmessage=ne,se=function(){Re.postMessage(null)}}else se=function(){W(ne,0)};function ge(k,Q){ee=W(function(){k(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(k){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var le=_;_=Q;try{return k()}finally{_=le}},n.unstable_requestPaint=function(){J=!0},n.unstable_runWithPriority=function(k,Q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var le=_;_=k;try{return Q()}finally{_=le}},n.unstable_scheduleCallback=function(k,Q,le){var X=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?X+le:X):le=X,k){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=le+S,k={id:v++,callback:Q,priorityLevel:k,startTime:le,expirationTime:S,sortIndex:-1},le>X?(k.sortIndex=le,e(p,k),i(y)===null&&k===i(p)&&(O?(K(ee),ee=-1):O=!0,ge(F,le-X))):(k.sortIndex=S,e(y,k),H||D||(H=!0,re||(re=!0,se()))),k},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(k){var Q=_;return function(){var le=_;_=Q;try{return k.apply(this,arguments)}finally{_=le}}}}(Jr)),Jr}var dm;function $y(){return dm||(dm=1,Fr.exports=Zy()),Fr.exports}var Qr={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function Wy(){if(mm)return ot;mm=1;var n=ru();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:p,implementation:v}}var g=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ot.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return d(y,p,null,v)},ot.flushSync=function(y){var p=g.T,v=a.p;try{if(g.T=null,a.p=2,y)return y()}finally{g.T=p,a.p=v,a.d.f()}},ot.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},ot.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ot.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,C=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:D}):v==="script"&&a.d.X(y,{crossOrigin:C,integrity:_,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ot.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},ot.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=h(v,p.crossOrigin);a.d.L(y,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ot.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},ot.requestFormReset=function(y){a.d.r(y)},ot.unstable_batchedUpdates=function(y,p){return y(p)},ot.useFormState=function(y,p,v){return g.H.useFormState(y,p,v)},ot.useFormStatus=function(){return g.H.useHostTransitionStatus()},ot.version="19.1.1",ot}var pm;function jy(){if(pm)return Qr.exports;pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qr.exports=Wy(),Qr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function e0(){if(gm)return Xi;gm=1;var n=$y(),e=ru(),i=jy();function a(t){var l="https://react.dev/errors/"+t;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var l=t,o=t;if(t.alternate)for(;l.return;)l=l.return;else{t=l;do l=t,(l.flags&4098)!==0&&(o=l.return),t=l.return;while(t)}return l.tag===3?o:null}function g(t){if(t.tag===13){var l=t.memoizedState;if(l===null&&(t=t.alternate,t!==null&&(l=t.memoizedState)),l!==null)return l.dehydrated}return null}function h(t){if(d(t)!==t)throw Error(a(188))}function y(t){var l=t.alternate;if(!l){if(l=d(t),l===null)throw Error(a(188));return l!==t?null:t}for(var o=t,u=l;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return h(f),t;if(m===u)return h(f),l;m=m.sibling}throw Error(a(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,x=f.child;x;){if(x===o){T=!0,o=f,u=m;break}if(x===u){T=!0,u=f,o=m;break}x=x.sibling}if(!T){for(x=m.child;x;){if(x===o){T=!0,o=m,u=f;break}if(x===u){T=!0,u=m,o=f;break}x=x.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:l}function p(t){var l=t.tag;if(l===5||l===26||l===27||l===6)return t;for(t=t.child;t!==null;){if(l=p(t),l!==null)return l;t=t.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Symbol.for("react.client.reference");function Re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Te?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case J:return"Profiler";case O:return"StrictMode";case F:return"Suspense";case re:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case $:return(t.displayName||"Context")+".Provider";case K:return(t._context.displayName||"Context")+".Consumer";case Z:var l=t.render;return t=t.displayName,t||(t=l.displayName||l.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return l=t.displayName||null,l!==null?l:Re(t.type)||"Memo";case xe:l=t._payload,t=t._init;try{return Re(t(l))}catch{}}return null}var ge=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},X=[],S=-1;function A(t){return{current:t}}function N(t){0>S||(t.current=X[S],X[S]=null,S--)}function w(t,l){S++,X[S]=t.current,t.current=l}var L=A(null),G=A(null),V=A(null),ue=A(null);function me(t,l){switch(w(V,l),w(G,t),w(L,null),l.nodeType){case 9:case 11:t=(t=l.documentElement)&&(t=t.namespaceURI)?Pd(t):0;break;default:if(t=l.tagName,l=l.namespaceURI)l=Pd(l),t=Vd(l,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}N(L),w(L,t)}function _e(){N(L),N(G),N(V)}function Le(t){t.memoizedState!==null&&w(ue,t);var l=L.current,o=Vd(l,t.type);l!==o&&(w(G,t),w(L,o))}function ke(t){G.current===t&&(N(L),N(G)),ue.current===t&&(N(ue),zi._currentValue=le)}var Et=Object.prototype.hasOwnProperty,st=n.unstable_scheduleCallback,Xl=n.unstable_cancelCallback,Kl=n.unstable_shouldYield,Ag=n.unstable_requestPaint,Gt=n.unstable_now,Mg=n.unstable_getCurrentPriorityLevel,pu=n.unstable_ImmediatePriority,gu=n.unstable_UserBlockingPriority,to=n.unstable_NormalPriority,Rg=n.unstable_LowPriority,hu=n.unstable_IdlePriority,bg=n.log,Ng=n.unstable_setDisableYieldValue,Zl=null,pt=null;function sn(t){if(typeof bg=="function"&&Ng(t),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Zl,t)}catch{}}var gt=Math.clz32?Math.clz32:Ug,wg=Math.log,Dg=Math.LN2;function Ug(t){return t>>>=0,t===0?32:31-(wg(t)/Dg|0)|0}var no=256,lo=4194304;function In(t){var l=t&42;if(l!==0)return l;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function io(t,l,o){var u=t.pendingLanes;if(u===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var x=u&134217727;return x!==0?(u=x&~m,u!==0?f=In(u):(T&=x,T!==0?f=In(T):o||(o=x&~t,o!==0&&(f=In(o))))):(x=u&~m,x!==0?f=In(x):T!==0?f=In(T):o||(o=u&~t,o!==0&&(f=In(o)))),f===0?0:l!==0&&l!==f&&(l&m)===0&&(m=f&-f,o=l&-l,m>=o||m===32&&(o&4194048)!==0)?l:f}function $l(t,l){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&l)===0}function Ig(t,l){switch(t){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=no;return no<<=1,(no&4194048)===0&&(no=256),t}function vu(){var t=lo;return lo<<=1,(lo&62914560)===0&&(lo=4194304),t}function Da(t){for(var l=[],o=0;31>o;o++)l.push(t);return l}function Wl(t,l){t.pendingLanes|=l,l!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lg(t,l,o,u,f,m){var T=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var x=t.entanglements,M=t.expirationTimes,I=t.hiddenUpdates;for(o=T&~o;0<o;){var B=31-gt(o),Y=1<<B;x[B]=0,M[B]=-1;var P=I[B];if(P!==null)for(I[B]=null,B=0;B<P.length;B++){var q=P[B];q!==null&&(q.lane&=-536870913)}o&=~Y}u!==0&&Tu(t,u,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~l))}function Tu(t,l,o){t.pendingLanes|=l,t.suspendedLanes&=~l;var u=31-gt(l);t.entangledLanes|=l,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function Cu(t,l){var o=t.entangledLanes|=l;for(t=t.entanglements;o;){var u=31-gt(o),f=1<<u;f&l|t[u]&l&&(t[u]|=l),o&=~f}}function Ua(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:tm(t.type))}function Pg(t,l){var o=Q.p;try{return Q.p=t,l()}finally{Q.p=o}}var rn=Math.random().toString(36).slice(2),lt="__reactFiber$"+rn,ut="__reactProps$"+rn,el="__reactContainer$"+rn,La="__reactEvents$"+rn,Vg="__reactListeners$"+rn,qg="__reactHandles$"+rn,xu="__reactResources$"+rn,jl="__reactMarker$"+rn;function Pa(t){delete t[lt],delete t[ut],delete t[La],delete t[Vg],delete t[qg]}function tl(t){var l=t[lt];if(l)return l;for(var o=t.parentNode;o;){if(l=o[el]||o[lt]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(t=Hd(t);t!==null;){if(o=t[lt])return o;t=Hd(t)}return l}t=o,o=t.parentNode}return null}function nl(t){if(t=t[lt]||t[el]){var l=t.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return t}return null}function ei(t){var l=t.tag;if(l===5||l===26||l===27||l===6)return t.stateNode;throw Error(a(33))}function ll(t){var l=t[xu];return l||(l=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ze(t){t[jl]=!0}var Eu=new Set,_u={};function Ln(t,l){il(t,l),il(t+"Capture",l)}function il(t,l){for(_u[t]=l,t=0;t<l.length;t++)Eu.add(l[t])}var Gg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},Mu={};function kg(t){return Et.call(Mu,t)?!0:Et.call(Au,t)?!1:Gg.test(t)?Mu[t]=!0:(Au[t]=!0,!1)}function oo(t,l,o){if(kg(l))if(o===null)t.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(l);return;case"boolean":var u=l.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(l);return}}t.setAttribute(l,""+o)}}function ao(t,l,o){if(o===null)t.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttribute(l,""+o)}}function Yt(t,l,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(l,o,""+u)}}var Va,Ru;function ol(t){if(Va===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);Va=l&&l[1]||"",Ru=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+t+Ru}var qa=!1;function Ga(t,l){if(!t||qa)return"";qa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(l){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],x=m[1];if(T&&x){var M=T.split(`
`),I=x.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===I.length)for(u=M.length-1,f=I.length-1;1<=u&&0<=f&&M[u]!==I[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==I[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==I[f]){var B=`
`+M[u].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=u&&0<=f);break}}}finally{qa=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?ol(o):""}function Hg(t){switch(t.tag){case 26:case 27:case 5:return ol(t.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 15:return Ga(t.type,!1);case 11:return Ga(t.type.render,!1);case 1:return Ga(t.type,!0);case 31:return ol("Activity");default:return""}}function bu(t){try{var l="";do l+=Hg(t),t=t.return;while(t);return l}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function _t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nu(t){var l=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Bg(t){var l=Nu(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,l),u=""+t[l];if(!t.hasOwnProperty(l)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,l,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(t,l,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[l]}}}}function so(t){t._valueTracker||(t._valueTracker=Bg(t))}function wu(t){if(!t)return!1;var l=t._valueTracker;if(!l)return!0;var o=l.getValue(),u="";return t&&(u=Nu(t)?t.checked?"true":"false":t.value),t=u,t!==o?(l.setValue(t),!0):!1}function ro(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zg=/[\n"\\]/g;function At(t){return t.replace(zg,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ka(t,l,o,u,f,m,T,x){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),l!=null?T==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+_t(l)):t.value!==""+_t(l)&&(t.value=""+_t(l)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),l!=null?Ha(t,T,_t(l)):o!=null?Ha(t,T,_t(o)):u!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+_t(x):t.removeAttribute("name")}function Du(t,l,o,u,f,m,T,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),l!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||l!=null))return;o=o!=null?""+_t(o):"",l=l!=null?""+_t(l):o,x||l===t.value||(t.value=l),t.defaultValue=l}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=x?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Ha(t,l,o){l==="number"&&ro(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function al(t,l,o,u){if(t=t.options,l){l={};for(var f=0;f<o.length;f++)l["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=l.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+_t(o),l=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}l!==null||t[f].disabled||(l=t[f])}l!==null&&(l.selected=!0)}}function Uu(t,l,o){if(l!=null&&(l=""+_t(l),l!==t.value&&(t.value=l),o==null)){t.defaultValue!==l&&(t.defaultValue=l);return}t.defaultValue=o!=null?""+_t(o):""}function Iu(t,l,o,u){if(l==null){if(u!=null){if(o!=null)throw Error(a(92));if(ge(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),l=o}o=_t(l),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function sl(t,l){if(l){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=l;return}}t.textContent=l}var Og=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(t,l,o){var u=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="":u?t.setProperty(l,o):typeof o!="number"||o===0||Og.has(l)?l==="float"?t.cssFloat=o:t[l]=(""+o).trim():t[l]=o+"px"}function Pu(t,l,o){if(l!=null&&typeof l!="object")throw Error(a(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||l!=null&&l.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in l)u=l[f],l.hasOwnProperty(f)&&o[f]!==u&&Lu(t,f,u)}else for(var m in l)l.hasOwnProperty(m)&&Lu(t,m,l[m])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(t){return Fg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var za=null;function Oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rl=null,ul=null;function Vu(t){var l=nl(t);if(l&&(t=l.stateNode)){var o=t[ut]||null;e:switch(t=l.stateNode,l.type){case"input":if(ka(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+At(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var u=o[l];if(u!==t&&u.form===t.form){var f=u[ut]||null;if(!f)throw Error(a(90));ka(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(l=0;l<o.length;l++)u=o[l],u.form===t.form&&wu(u)}break e;case"textarea":Uu(t,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&al(t,!!o.multiple,l,!1)}}}var Ya=!1;function qu(t,l,o){if(Ya)return t(l,o);Ya=!0;try{var u=t(l);return u}finally{if(Ya=!1,(rl!==null||ul!==null)&&(Ko(),rl&&(l=rl,t=ul,ul=rl=null,Vu(l),t)))for(l=0;l<t.length;l++)Vu(t[l])}}function ti(t,l){var o=t.stateNode;if(o===null)return null;var u=o[ut]||null;if(u===null)return null;o=u[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,l,typeof o));return o}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Ft)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Fa=!1}var un=null,Ja=null,co=null;function Gu(){if(co)return co;var t,l=Ja,o=l.length,u,f="value"in un?un.value:un.textContent,m=f.length;for(t=0;t<o&&l[t]===f[t];t++);var T=o-t;for(u=1;u<=T&&l[o-u]===f[m-u];u++);return co=f.slice(t,1<u?1-u:void 0)}function fo(t){var l=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&l===13&&(t=13)):t=l,t===10&&(t=13),32<=t||t===13?t:0}function mo(){return!0}function ku(){return!1}function ct(t){function l(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(o=t[x],this[x]=o?o(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?mo:ku,this.isPropagationStopped=ku,this}return v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),l}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=ct(Pn),li=v({},Pn,{view:0,detail:0}),Jg=ct(li),Qa,Xa,ii,go=v({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(Qa=t.screenX-ii.screenX,Xa=t.screenY-ii.screenY):Xa=Qa=0,ii=t),Qa)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),Hu=ct(go),Qg=v({},go,{dataTransfer:0}),Xg=ct(Qg),Kg=v({},li,{relatedTarget:0}),Ka=ct(Kg),Zg=v({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),$g=ct(Zg),Wg=v({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jg=ct(Wg),eh=v({},Pn,{data:0}),Bu=ct(eh),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(t){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(t):(t=lh[t])?!!l[t]:!1}function Za(){return ih}var oh=v({},li,{key:function(t){if(t.key){var l=th[t.key]||t.key;if(l!=="Unidentified")return l}return t.type==="keypress"?(t=fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(t){return t.type==="keypress"?fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ah=ct(oh),sh=v({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=ct(sh),rh=v({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),uh=ct(rh),ch=v({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fh=ct(ch),dh=v({},go,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mh=ct(dh),ph=v({},Pn,{newState:0,oldState:0}),gh=ct(ph),hh=[9,13,27,32],$a=Ft&&"CompositionEvent"in window,oi=null;Ft&&"documentMode"in document&&(oi=document.documentMode);var yh=Ft&&"TextEvent"in window&&!oi,Ou=Ft&&(!$a||oi&&8<oi&&11>=oi),Yu=" ",Fu=!1;function Ju(t,l){switch(t){case"keyup":return hh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cl=!1;function vh(t,l){switch(t){case"compositionend":return Qu(l);case"keypress":return l.which!==32?null:(Fu=!0,Yu);case"textInput":return t=l.data,t===Yu&&Fu?null:t;default:return null}}function Th(t,l){if(cl)return t==="compositionend"||!$a&&Ju(t,l)?(t=Gu(),co=Ja=un=null,cl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ou&&l.locale!=="ko"?null:l.data;default:return null}}var Ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(t){var l=t&&t.nodeName&&t.nodeName.toLowerCase();return l==="input"?!!Ch[t.type]:l==="textarea"}function Ku(t,l,o,u){rl?ul?ul.push(u):ul=[u]:rl=u,l=ta(l,"onChange"),0<l.length&&(o=new po("onChange","change",null,o,u),t.push({event:o,listeners:l}))}var ai=null,si=null;function Sh(t){wd(t,0)}function ho(t){var l=ei(t);if(wu(l))return t}function Zu(t,l){if(t==="change")return l}var $u=!1;if(Ft){var Wa;if(Ft){var ja="oninput"in document;if(!ja){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),ja=typeof Wu.oninput=="function"}Wa=ja}else Wa=!1;$u=Wa&&(!document.documentMode||9<document.documentMode)}function ju(){ai&&(ai.detachEvent("onpropertychange",ec),si=ai=null)}function ec(t){if(t.propertyName==="value"&&ho(si)){var l=[];Ku(l,si,t,Oa(t)),qu(Sh,l)}}function xh(t,l,o){t==="focusin"?(ju(),ai=l,si=o,ai.attachEvent("onpropertychange",ec)):t==="focusout"&&ju()}function Eh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ho(si)}function _h(t,l){if(t==="click")return ho(l)}function Ah(t,l){if(t==="input"||t==="change")return ho(l)}function Mh(t,l){return t===l&&(t!==0||1/t===1/l)||t!==t&&l!==l}var ht=typeof Object.is=="function"?Object.is:Mh;function ri(t,l){if(ht(t,l))return!0;if(typeof t!="object"||t===null||typeof l!="object"||l===null)return!1;var o=Object.keys(t),u=Object.keys(l);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Et.call(l,f)||!ht(t[f],l[f]))return!1}return!0}function tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nc(t,l){var o=tc(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=l&&u>=l)return{node:o,offset:l-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=tc(o)}}function lc(t,l){return t&&l?t===l?!0:t&&t.nodeType===3?!1:l&&l.nodeType===3?lc(t,l.parentNode):"contains"in t?t.contains(l):t.compareDocumentPosition?!!(t.compareDocumentPosition(l)&16):!1:!1}function ic(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var l=ro(t.document);l instanceof t.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)t=l.contentWindow;else break;l=ro(t.document)}return l}function es(t){var l=t&&t.nodeName&&t.nodeName.toLowerCase();return l&&(l==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||l==="textarea"||t.contentEditable==="true")}var Rh=Ft&&"documentMode"in document&&11>=document.documentMode,fl=null,ts=null,ui=null,ns=!1;function oc(t,l,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ns||fl==null||fl!==ro(u)||(u=fl,"selectionStart"in u&&es(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ui&&ri(ui,u)||(ui=u,u=ta(ts,"onSelect"),0<u.length&&(l=new po("onSelect","select",null,l,o),t.push({event:l,listeners:u}),l.target=fl)))}function Vn(t,l){var o={};return o[t.toLowerCase()]=l.toLowerCase(),o["Webkit"+t]="webkit"+l,o["Moz"+t]="moz"+l,o}var dl={animationend:Vn("Animation","AnimationEnd"),animationiteration:Vn("Animation","AnimationIteration"),animationstart:Vn("Animation","AnimationStart"),transitionrun:Vn("Transition","TransitionRun"),transitionstart:Vn("Transition","TransitionStart"),transitioncancel:Vn("Transition","TransitionCancel"),transitionend:Vn("Transition","TransitionEnd")},ls={},ac={};Ft&&(ac=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function qn(t){if(ls[t])return ls[t];if(!dl[t])return t;var l=dl[t],o;for(o in l)if(l.hasOwnProperty(o)&&o in ac)return ls[t]=l[o];return t}var sc=qn("animationend"),rc=qn("animationiteration"),uc=qn("animationstart"),bh=qn("transitionrun"),Nh=qn("transitionstart"),wh=qn("transitioncancel"),cc=qn("transitionend"),fc=new Map,is="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");is.push("scrollEnd");function Lt(t,l){fc.set(t,l),Ln(l,[t])}var dc=new WeakMap;function Mt(t,l){if(typeof t=="object"&&t!==null){var o=dc.get(t);return o!==void 0?o:(l={value:t,source:l,stack:bu(l)},dc.set(t,l),l)}return{value:t,source:l,stack:bu(l)}}var Rt=[],ml=0,os=0;function yo(){for(var t=ml,l=os=ml=0;l<t;){var o=Rt[l];Rt[l++]=null;var u=Rt[l];Rt[l++]=null;var f=Rt[l];Rt[l++]=null;var m=Rt[l];if(Rt[l++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&mc(o,f,m)}}function vo(t,l,o,u){Rt[ml++]=t,Rt[ml++]=l,Rt[ml++]=o,Rt[ml++]=u,os|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function as(t,l,o,u){return vo(t,l,o,u),To(t)}function pl(t,l){return vo(t,null,null,l),To(t)}function mc(t,l,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=t.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&l!==null&&(f=31-gt(o),t=m.hiddenUpdates,u=t[f],u===null?t[f]=[l]:u.push(l),l.lane=o|536870912),m):null}function To(t){if(50<Li)throw Li=0,dr=null,Error(a(185));for(var l=t.return;l!==null;)t=l,l=t.return;return t.tag===3?t.stateNode:null}var gl={};function Dh(t,l,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,l,o,u){return new Dh(t,l,o,u)}function ss(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jt(t,l){var o=t.alternate;return o===null?(o=yt(t.tag,l,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=l,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,l=t.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function pc(t,l){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=l,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,l=o.dependencies,t.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),t}function Co(t,l,o,u,f,m){var T=0;if(u=t,typeof t=="function")ss(t)&&(T=1);else if(typeof t=="string")T=Iy(t,o,L.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=yt(31,o,l,f),t.elementType=ie,t.lanes=m,t;case H:return Gn(o.children,f,m,l);case O:T=8,f|=24;break;case J:return t=yt(12,o,l,f|2),t.elementType=J,t.lanes=m,t;case F:return t=yt(13,o,l,f),t.elementType=F,t.lanes=m,t;case re:return t=yt(19,o,l,f),t.elementType=re,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case $:T=10;break e;case K:T=9;break e;case Z:T=11;break e;case ee:T=14;break e;case xe:T=16,u=null;break e}T=29,o=Error(a(130,t===null?"null":typeof t,"")),u=null}return l=yt(T,o,l,f),l.elementType=t,l.type=u,l.lanes=m,l}function Gn(t,l,o,u){return t=yt(7,t,u,l),t.lanes=o,t}function rs(t,l,o){return t=yt(6,t,null,l),t.lanes=o,t}function us(t,l,o){return l=yt(4,t.children!==null?t.children:[],t.key,l),l.lanes=o,l.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},l}var hl=[],yl=0,So=null,xo=0,bt=[],Nt=0,kn=null,Qt=1,Xt="";function Hn(t,l){hl[yl++]=xo,hl[yl++]=So,So=t,xo=l}function gc(t,l,o){bt[Nt++]=Qt,bt[Nt++]=Xt,bt[Nt++]=kn,kn=t;var u=Qt;t=Xt;var f=32-gt(u)-1;u&=~(1<<f),o+=1;var m=32-gt(l)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Qt=1<<32-gt(l)+f|o<<f|u,Xt=m+t}else Qt=1<<m|o<<f|u,Xt=t}function cs(t){t.return!==null&&(Hn(t,1),gc(t,1,0))}function fs(t){for(;t===So;)So=hl[--yl],hl[yl]=null,xo=hl[--yl],hl[yl]=null;for(;t===kn;)kn=bt[--Nt],bt[Nt]=null,Xt=bt[--Nt],bt[Nt]=null,Qt=bt[--Nt],bt[Nt]=null}var rt=null,Be=null,Me=!1,Bn=null,kt=!1,ds=Error(a(519));function zn(t){var l=Error(a(418,""));throw di(Mt(l,t)),ds}function hc(t){var l=t.stateNode,o=t.type,u=t.memoizedProps;switch(l[lt]=t,l[ut]=u,o){case"dialog":Se("cancel",l),Se("close",l);break;case"iframe":case"object":case"embed":Se("load",l);break;case"video":case"audio":for(o=0;o<Vi.length;o++)Se(Vi[o],l);break;case"source":Se("error",l);break;case"img":case"image":case"link":Se("error",l),Se("load",l);break;case"details":Se("toggle",l);break;case"input":Se("invalid",l),Du(l,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),so(l);break;case"select":Se("invalid",l);break;case"textarea":Se("invalid",l),Iu(l,u.value,u.defaultValue,u.children),so(l)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||u.suppressHydrationWarning===!0||Ld(l.textContent,o)?(u.popover!=null&&(Se("beforetoggle",l),Se("toggle",l)),u.onScroll!=null&&Se("scroll",l),u.onScrollEnd!=null&&Se("scrollend",l),u.onClick!=null&&(l.onclick=na),l=!0):l=!1,l||zn(t)}function yc(t){for(rt=t.return;rt;)switch(rt.tag){case 5:case 13:kt=!1;return;case 27:case 3:kt=!0;return;default:rt=rt.return}}function ci(t){if(t!==rt)return!1;if(!Me)return yc(t),Me=!0,!1;var l=t.tag,o;if((o=l!==3&&l!==27)&&((o=l===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||br(t.type,t.memoizedProps)),o=!o),o&&Be&&zn(t),yc(t),l===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,l=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(l===0){Be=Vt(t.nextSibling);break e}l--}else o!=="$"&&o!=="$!"&&o!=="$?"||l++;t=t.nextSibling}Be=null}}else l===27?(l=Be,An(t.type)?(t=Ur,Ur=null,Be=t):Be=l):Be=rt?Vt(t.stateNode.nextSibling):null;return!0}function fi(){Be=rt=null,Me=!1}function vc(){var t=Bn;return t!==null&&(mt===null?mt=t:mt.push.apply(mt,t),Bn=null),t}function di(t){Bn===null?Bn=[t]:Bn.push(t)}var ms=A(null),On=null,Kt=null;function cn(t,l,o){w(ms,l._currentValue),l._currentValue=o}function Zt(t){t._currentValue=ms.current,N(ms)}function ps(t,l,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&l)!==l?(t.childLanes|=l,u!==null&&(u.childLanes|=l)):u!==null&&(u.childLanes&l)!==l&&(u.childLanes|=l),t===o)break;t=t.return}}function gs(t,l,o,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=f;for(var M=0;M<l.length;M++)if(x.context===l[M]){m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),ps(m.return,o,t),u||(T=null);break e}m=x.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),ps(T,o,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function mi(t,l,o,u){t=null;for(var f=l,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var x=f.type;ht(f.pendingProps.value,T.value)||(t!==null?t.push(x):t=[x])}}else if(f===ue.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zi):t=[zi])}f=f.return}t!==null&&gs(l,t,o,u),l.flags|=262144}function Eo(t){for(t=t.firstContext;t!==null;){if(!ht(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yn(t){On=t,Kt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function it(t){return Tc(On,t)}function _o(t,l){return On===null&&Yn(t),Tc(t,l)}function Tc(t,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},Kt===null){if(t===null)throw Error(a(308));Kt=l,t.dependencies={lanes:0,firstContext:l},t.flags|=524288}else Kt=Kt.next=l;return o}var Uh=typeof AbortController<"u"?AbortController:function(){var t=[],l=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){l.aborted=!0,t.forEach(function(o){return o()})}},Ih=n.unstable_scheduleCallback,Lh=n.unstable_NormalPriority,Xe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hs(){return{controller:new Uh,data:new Map,refCount:0}}function pi(t){t.refCount--,t.refCount===0&&Ih(Lh,function(){t.controller.abort()})}var gi=null,ys=0,vl=0,Tl=null;function Ph(t,l){if(gi===null){var o=gi=[];ys=0,vl=Tr(),Tl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ys++,l.then(Cc,Cc),l}function Cc(){if(--ys===0&&gi!==null){Tl!==null&&(Tl.status="fulfilled");var t=gi;gi=null,vl=0,Tl=null;for(var l=0;l<t.length;l++)(0,t[l])()}}function Vh(t,l){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){u.status="fulfilled",u.value=l;for(var f=0;f<o.length;f++)(0,o[f])(l)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Sc=k.S;k.S=function(t,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Ph(t,l),Sc!==null&&Sc(t,l)};var Fn=A(null);function vs(){var t=Fn.current;return t!==null?t:Ve.pooledCache}function Ao(t,l){l===null?w(Fn,Fn.current):w(Fn,l.pool)}function xc(){var t=vs();return t===null?null:{parent:Xe._currentValue,pool:t}}var hi=Error(a(460)),Ec=Error(a(474)),Mo=Error(a(542)),Ts={then:function(){}};function _c(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ro(){}function Ac(t,l,o){switch(o=t[o],o===void 0?t.push(l):o!==l&&(l.then(Ro,Ro),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw t=l.reason,Rc(t),t;default:if(typeof l.status=="string")l.then(Ro,Ro);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=l,t.status="pending",t.then(function(u){if(l.status==="pending"){var f=l;f.status="fulfilled",f.value=u}},function(u){if(l.status==="pending"){var f=l;f.status="rejected",f.reason=u}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw t=l.reason,Rc(t),t}throw yi=l,hi}}var yi=null;function Mc(){if(yi===null)throw Error(a(459));var t=yi;return yi=null,t}function Rc(t){if(t===hi||t===Mo)throw Error(a(483))}var fn=!1;function Cs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ss(t,l){t=t.updateQueue,l.updateQueue===t&&(l.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mn(t,l,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(be&2)!==0){var f=u.pending;return f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l,l=To(t),mc(t,null,o),l}return vo(t,u,l,o),To(t)}function vi(t,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194048)!==0)){var u=l.lanes;u&=t.pendingLanes,o|=u,l.lanes=o,Cu(t,o)}}function xs(t,l){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=l:m=m.next=l}else f=m=l;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=l:t.next=l,o.lastBaseUpdate=l}var Es=!1;function Ti(){if(Es){var t=Tl;if(t!==null)throw t}}function Ci(t,l,o,u){Es=!1;var f=t.updateQueue;fn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var M=x,I=M.next;M.next=null,T===null?m=I:T.next=I,T=M;var B=t.alternate;B!==null&&(B=B.updateQueue,x=B.lastBaseUpdate,x!==T&&(x===null?B.firstBaseUpdate=I:x.next=I,B.lastBaseUpdate=M))}if(m!==null){var Y=f.baseState;T=0,B=I=M=null,x=m;do{var P=x.lane&-536870913,q=P!==x.lane;if(q?(Ee&P)===P:(u&P)===P){P!==0&&P===vl&&(Es=!0),B!==null&&(B=B.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var pe=t,fe=x;P=l;var Ie=o;switch(fe.tag){case 1:if(pe=fe.payload,typeof pe=="function"){Y=pe.call(Ie,Y,P);break e}Y=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=fe.payload,P=typeof pe=="function"?pe.call(Ie,Y,P):pe,P==null)break e;Y=v({},Y,P);break e;case 2:fn=!0}}P=x.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=f.callbacks,q===null?f.callbacks=[P]:q.push(P))}else q={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},B===null?(I=B=q,M=Y):B=B.next=q,T|=P;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;q=x,x=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);B===null&&(M=Y),f.baseState=M,f.firstBaseUpdate=I,f.lastBaseUpdate=B,m===null&&(f.shared.lanes=0),Sn|=T,t.lanes=T,t.memoizedState=Y}}function bc(t,l){if(typeof t!="function")throw Error(a(191,t));t.call(l)}function Nc(t,l){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)bc(o[t],l)}var Cl=A(null),bo=A(0);function wc(t,l){t=ln,w(bo,t),w(Cl,l),ln=t|l.baseLanes}function _s(){w(bo,ln),w(Cl,Cl.current)}function As(){ln=bo.current,N(Cl),N(bo)}var pn=0,ye=null,De=null,Je=null,No=!1,Sl=!1,Jn=!1,wo=0,Si=0,xl=null,qh=0;function Ye(){throw Error(a(321))}function Ms(t,l){if(l===null)return!1;for(var o=0;o<l.length&&o<t.length;o++)if(!ht(t[o],l[o]))return!1;return!0}function Rs(t,l,o,u,f,m){return pn=m,ye=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,k.H=t===null||t.memoizedState===null?pf:gf,Jn=!1,m=o(u,f),Jn=!1,Sl&&(m=Uc(l,o,u,f)),Dc(t),m}function Dc(t){k.H=Vo;var l=De!==null&&De.next!==null;if(pn=0,Je=De=ye=null,No=!1,Si=0,xl=null,l)throw Error(a(300));t===null||$e||(t=t.dependencies,t!==null&&Eo(t)&&($e=!0))}function Uc(t,l,o,u){ye=t;var f=0;do{if(Sl&&(xl=null),Si=0,Sl=!1,25<=f)throw Error(a(301));if(f+=1,Je=De=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=Yh,m=l(o,u)}while(Sl);return m}function Gh(){var t=k.H,l=t.useState()[0];return l=typeof l.then=="function"?xi(l):l,t=t.useState()[0],(De!==null?De.memoizedState:null)!==t&&(ye.flags|=1024),l}function bs(){var t=wo!==0;return wo=0,t}function Ns(t,l,o){l.updateQueue=t.updateQueue,l.flags&=-2053,t.lanes&=~o}function ws(t){if(No){for(t=t.memoizedState;t!==null;){var l=t.queue;l!==null&&(l.pending=null),t=t.next}No=!1}pn=0,Je=De=ye=null,Sl=!1,Si=wo=0,xl=null}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ye.memoizedState=Je=t:Je=Je.next=t,Je}function Qe(){if(De===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var l=Je===null?ye.memoizedState:Je.next;if(l!==null)Je=l,De=t;else{if(t===null)throw ye.alternate===null?Error(a(467)):Error(a(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Je===null?ye.memoizedState=Je=t:Je=Je.next=t}return Je}function Ds(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xi(t){var l=Si;return Si+=1,xl===null&&(xl=[]),t=Ac(xl,t,l),l=ye,(Je===null?l.memoizedState:Je.next)===null&&(l=l.alternate,k.H=l===null||l.memoizedState===null?pf:gf),t}function Do(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xi(t);if(t.$$typeof===$)return it(t)}throw Error(a(438,String(t)))}function Us(t){var l=null,o=ye.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var u=ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(l={data:u.data.map(function(f){return f.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=Ds(),ye.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(t),u=0;u<t;u++)o[u]=j;return l.index++,o}function $t(t,l){return typeof l=="function"?l(t):l}function Uo(t){var l=Qe();return Is(l,De,t)}function Is(t,l,o){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var f=t.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}l.baseQueue=f=m,u.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{l=f.next;var x=T=null,M=null,I=l,B=!1;do{var Y=I.lane&-536870913;if(Y!==I.lane?(Ee&Y)===Y:(pn&Y)===Y){var P=I.revertLane;if(P===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Y===vl&&(B=!0);else if((pn&P)===P){I=I.next,P===vl&&(B=!0);continue}else Y={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},M===null?(x=M=Y,T=m):M=M.next=Y,ye.lanes|=P,Sn|=P;Y=I.action,Jn&&o(m,Y),m=I.hasEagerState?I.eagerState:o(m,Y)}else P={lane:Y,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},M===null?(x=M=P,T=m):M=M.next=P,ye.lanes|=Y,Sn|=Y;I=I.next}while(I!==null&&I!==l);if(M===null?T=m:M.next=x,!ht(m,t.memoizedState)&&($e=!0,B&&(o=Tl,o!==null)))throw o;t.memoizedState=m,t.baseState=T,t.baseQueue=M,u.lastRenderedState=m}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Ls(t){var l=Qe(),o=l.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,m=l.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);ht(m,l.memoizedState)||($e=!0),l.memoizedState=m,l.baseQueue===null&&(l.baseState=m),o.lastRenderedState=m}return[m,u]}function Ic(t,l,o){var u=ye,f=Qe(),m=Me;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=l();var T=!ht((De||f).memoizedState,o);T&&(f.memoizedState=o,$e=!0),f=f.queue;var x=Vc.bind(null,u,f,t);if(Ei(2048,8,x,[t]),f.getSnapshot!==l||T||Je!==null&&Je.memoizedState.tag&1){if(u.flags|=2048,El(9,Io(),Pc.bind(null,u,f,o,l),null),Ve===null)throw Error(a(349));m||(pn&124)!==0||Lc(u,l,o)}return o}function Lc(t,l,o){t.flags|=16384,t={getSnapshot:l,value:o},l=ye.updateQueue,l===null?(l=Ds(),ye.updateQueue=l,l.stores=[t]):(o=l.stores,o===null?l.stores=[t]:o.push(t))}function Pc(t,l,o,u){l.value=o,l.getSnapshot=u,qc(l)&&Gc(t)}function Vc(t,l,o){return o(function(){qc(l)&&Gc(t)})}function qc(t){var l=t.getSnapshot;t=t.value;try{var o=l();return!ht(t,o)}catch{return!0}}function Gc(t){var l=pl(t,2);l!==null&&xt(l,t,2)}function Ps(t){var l=ft();if(typeof t=="function"){var o=t;if(t=o(),Jn){sn(!0);try{o()}finally{sn(!1)}}}return l.memoizedState=l.baseState=t,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:t},l}function kc(t,l,o,u){return t.baseState=o,Is(t,De,typeof u=="function"?u:$t)}function kh(t,l,o,u,f){if(Po(t))throw Error(a(485));if(t=l.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};k.T!==null?o(!0):m.isTransition=!1,u(m),o=l.pending,o===null?(m.next=l.pending=m,Hc(l,m)):(m.next=o.next,l.pending=o.next=m)}}function Hc(t,l){var o=l.action,u=l.payload,f=t.state;if(l.isTransition){var m=k.T,T={};k.T=T;try{var x=o(f,u),M=k.S;M!==null&&M(T,x),Bc(t,l,x)}catch(I){Vs(t,l,I)}finally{k.T=m}}else try{m=o(f,u),Bc(t,l,m)}catch(I){Vs(t,l,I)}}function Bc(t,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){zc(t,l,u)},function(u){return Vs(t,l,u)}):zc(t,l,o)}function zc(t,l,o){l.status="fulfilled",l.value=o,Oc(l),t.state=o,l=t.pending,l!==null&&(o=l.next,o===l?t.pending=null:(o=o.next,l.next=o,Hc(t,o)))}function Vs(t,l,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do l.status="rejected",l.reason=o,Oc(l),l=l.next;while(l!==u)}t.action=null}function Oc(t){t=t.listeners;for(var l=0;l<t.length;l++)(0,t[l])()}function Yc(t,l){return l}function Fc(t,l){if(Me){var o=Ve.formState;if(o!==null){e:{var u=ye;if(Me){if(Be){t:{for(var f=Be,m=kt;f.nodeType!==8;){if(!m){f=null;break t}if(f=Vt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Be=Vt(f.nextSibling),u=f.data==="F!";break e}}zn(u)}u=!1}u&&(l=o[0])}}return o=ft(),o.memoizedState=o.baseState=l,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:l},o.queue=u,o=ff.bind(null,ye,u),u.dispatch=o,u=Ps(!1),m=Bs.bind(null,ye,!1,u.queue),u=ft(),f={state:l,dispatch:null,action:t,pending:null},u.queue=f,o=kh.bind(null,ye,f,m,o),f.dispatch=o,u.memoizedState=t,[l,o,!1]}function Jc(t){var l=Qe();return Qc(l,De,t)}function Qc(t,l,o){if(l=Is(t,l,Yc)[0],t=Uo($t)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var u=xi(l)}catch(T){throw T===hi?Mo:T}else u=l;l=Qe();var f=l.queue,m=f.dispatch;return o!==l.memoizedState&&(ye.flags|=2048,El(9,Io(),Hh.bind(null,f,o),null)),[u,m,t]}function Hh(t,l){t.action=l}function Xc(t){var l=Qe(),o=De;if(o!==null)return Qc(l,o,t);Qe(),l=l.memoizedState,o=Qe();var u=o.queue.dispatch;return o.memoizedState=t,[l,u,!1]}function El(t,l,o,u){return t={tag:t,create:o,deps:u,inst:l,next:null},l=ye.updateQueue,l===null&&(l=Ds(),ye.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,l.lastEffect=t),t}function Io(){return{destroy:void 0,resource:void 0}}function Kc(){return Qe().memoizedState}function Lo(t,l,o,u){var f=ft();u=u===void 0?null:u,ye.flags|=t,f.memoizedState=El(1|l,Io(),o,u)}function Ei(t,l,o,u){var f=Qe();u=u===void 0?null:u;var m=f.memoizedState.inst;De!==null&&u!==null&&Ms(u,De.memoizedState.deps)?f.memoizedState=El(l,m,o,u):(ye.flags|=t,f.memoizedState=El(1|l,m,o,u))}function Zc(t,l){Lo(8390656,8,t,l)}function $c(t,l){Ei(2048,8,t,l)}function Wc(t,l){return Ei(4,2,t,l)}function jc(t,l){return Ei(4,4,t,l)}function ef(t,l){if(typeof l=="function"){t=t();var o=l(t);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return t=t(),l.current=t,function(){l.current=null}}function tf(t,l,o){o=o!=null?o.concat([t]):null,Ei(4,4,ef.bind(null,l,t),o)}function qs(){}function nf(t,l){var o=Qe();l=l===void 0?null:l;var u=o.memoizedState;return l!==null&&Ms(l,u[1])?u[0]:(o.memoizedState=[t,l],t)}function lf(t,l){var o=Qe();l=l===void 0?null:l;var u=o.memoizedState;if(l!==null&&Ms(l,u[1]))return u[0];if(u=t(),Jn){sn(!0);try{t()}finally{sn(!1)}}return o.memoizedState=[u,l],u}function Gs(t,l,o){return o===void 0||(pn&1073741824)!==0?t.memoizedState=l:(t.memoizedState=o,t=sd(),ye.lanes|=t,Sn|=t,o)}function of(t,l,o,u){return ht(o,l)?o:Cl.current!==null?(t=Gs(t,o,u),ht(t,l)||($e=!0),t):(pn&42)===0?($e=!0,t.memoizedState=o):(t=sd(),ye.lanes|=t,Sn|=t,l)}function af(t,l,o,u,f){var m=Q.p;Q.p=m!==0&&8>m?m:8;var T=k.T,x={};k.T=x,Bs(t,!1,l,o);try{var M=f(),I=k.S;if(I!==null&&I(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var B=Vh(M,u);_i(t,l,B,St(t))}else _i(t,l,u,St(t))}catch(Y){_i(t,l,{then:function(){},status:"rejected",reason:Y},St())}finally{Q.p=m,k.T=T}}function Bh(){}function ks(t,l,o,u){if(t.tag!==5)throw Error(a(476));var f=sf(t).queue;af(t,f,l,le,o===null?Bh:function(){return rf(t),o(u)})}function sf(t){var l=t.memoizedState;if(l!==null)return l;l={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:le},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:o},next:null},t.memoizedState=l,t=t.alternate,t!==null&&(t.memoizedState=l),l}function rf(t){var l=sf(t).next.queue;_i(t,l,{},St())}function Hs(){return it(zi)}function uf(){return Qe().memoizedState}function cf(){return Qe().memoizedState}function zh(t){for(var l=t.return;l!==null;){switch(l.tag){case 24:case 3:var o=St();t=dn(o);var u=mn(l,t,o);u!==null&&(xt(u,l,o),vi(u,l,o)),l={cache:hs()},t.payload=l;return}l=l.return}}function Oh(t,l,o){var u=St();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Po(t)?df(l,o):(o=as(t,l,o,u),o!==null&&(xt(o,t,u),mf(o,l,u)))}function ff(t,l,o){var u=St();_i(t,l,o,u)}function _i(t,l,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Po(t))df(l,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=l.lastRenderedReducer,m!==null))try{var T=l.lastRenderedState,x=m(T,o);if(f.hasEagerState=!0,f.eagerState=x,ht(x,T))return vo(t,l,f,0),Ve===null&&yo(),!1}catch{}finally{}if(o=as(t,l,f,u),o!==null)return xt(o,t,u),mf(o,l,u),!0}return!1}function Bs(t,l,o,u){if(u={lane:2,revertLane:Tr(),action:u,hasEagerState:!1,eagerState:null,next:null},Po(t)){if(l)throw Error(a(479))}else l=as(t,o,u,2),l!==null&&xt(l,t,2)}function Po(t){var l=t.alternate;return t===ye||l!==null&&l===ye}function df(t,l){Sl=No=!0;var o=t.pending;o===null?l.next=l:(l.next=o.next,o.next=l),t.pending=l}function mf(t,l,o){if((o&4194048)!==0){var u=l.lanes;u&=t.pendingLanes,o|=u,l.lanes=o,Cu(t,o)}}var Vo={readContext:it,use:Do,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},pf={readContext:it,use:Do,useCallback:function(t,l){return ft().memoizedState=[t,l===void 0?null:l],t},useContext:it,useEffect:Zc,useImperativeHandle:function(t,l,o){o=o!=null?o.concat([t]):null,Lo(4194308,4,ef.bind(null,l,t),o)},useLayoutEffect:function(t,l){return Lo(4194308,4,t,l)},useInsertionEffect:function(t,l){Lo(4,2,t,l)},useMemo:function(t,l){var o=ft();l=l===void 0?null:l;var u=t();if(Jn){sn(!0);try{t()}finally{sn(!1)}}return o.memoizedState=[u,l],u},useReducer:function(t,l,o){var u=ft();if(o!==void 0){var f=o(l);if(Jn){sn(!0);try{o(l)}finally{sn(!1)}}}else f=l;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=Oh.bind(null,ye,t),[u.memoizedState,t]},useRef:function(t){var l=ft();return t={current:t},l.memoizedState=t},useState:function(t){t=Ps(t);var l=t.queue,o=ff.bind(null,ye,l);return l.dispatch=o,[t.memoizedState,o]},useDebugValue:qs,useDeferredValue:function(t,l){var o=ft();return Gs(o,t,l)},useTransition:function(){var t=Ps(!1);return t=af.bind(null,ye,t.queue,!0,!1),ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,l,o){var u=ye,f=ft();if(Me){if(o===void 0)throw Error(a(407));o=o()}else{if(o=l(),Ve===null)throw Error(a(349));(Ee&124)!==0||Lc(u,l,o)}f.memoizedState=o;var m={value:o,getSnapshot:l};return f.queue=m,Zc(Vc.bind(null,u,m,t),[t]),u.flags|=2048,El(9,Io(),Pc.bind(null,u,m,o,l),null),o},useId:function(){var t=ft(),l=Ve.identifierPrefix;if(Me){var o=Xt,u=Qt;o=(u&~(1<<32-gt(u)-1)).toString(32)+o,l=""+l+"R"+o,o=wo++,0<o&&(l+="H"+o.toString(32)),l+=""}else o=qh++,l=""+l+"r"+o.toString(32)+"";return t.memoizedState=l},useHostTransitionStatus:Hs,useFormState:Fc,useActionState:Fc,useOptimistic:function(t){var l=ft();l.memoizedState=l.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=Bs.bind(null,ye,!0,o),o.dispatch=l,[t,l]},useMemoCache:Us,useCacheRefresh:function(){return ft().memoizedState=zh.bind(null,ye)}},gf={readContext:it,use:Do,useCallback:nf,useContext:it,useEffect:$c,useImperativeHandle:tf,useInsertionEffect:Wc,useLayoutEffect:jc,useMemo:lf,useReducer:Uo,useRef:Kc,useState:function(){return Uo($t)},useDebugValue:qs,useDeferredValue:function(t,l){var o=Qe();return of(o,De.memoizedState,t,l)},useTransition:function(){var t=Uo($t)[0],l=Qe().memoizedState;return[typeof t=="boolean"?t:xi(t),l]},useSyncExternalStore:Ic,useId:uf,useHostTransitionStatus:Hs,useFormState:Jc,useActionState:Jc,useOptimistic:function(t,l){var o=Qe();return kc(o,De,t,l)},useMemoCache:Us,useCacheRefresh:cf},Yh={readContext:it,use:Do,useCallback:nf,useContext:it,useEffect:$c,useImperativeHandle:tf,useInsertionEffect:Wc,useLayoutEffect:jc,useMemo:lf,useReducer:Ls,useRef:Kc,useState:function(){return Ls($t)},useDebugValue:qs,useDeferredValue:function(t,l){var o=Qe();return De===null?Gs(o,t,l):of(o,De.memoizedState,t,l)},useTransition:function(){var t=Ls($t)[0],l=Qe().memoizedState;return[typeof t=="boolean"?t:xi(t),l]},useSyncExternalStore:Ic,useId:uf,useHostTransitionStatus:Hs,useFormState:Xc,useActionState:Xc,useOptimistic:function(t,l){var o=Qe();return De!==null?kc(o,De,t,l):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Us,useCacheRefresh:cf},_l=null,Ai=0;function qo(t){var l=Ai;return Ai+=1,_l===null&&(_l=[]),Ac(_l,t,l)}function Mi(t,l){l=l.props.ref,t.ref=l!==void 0?l:null}function Go(t,l){throw l.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(l),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":t)))}function hf(t){var l=t._init;return l(t._payload)}function yf(t){function l(b,R){if(t){var U=b.deletions;U===null?(b.deletions=[R],b.flags|=16):U.push(R)}}function o(b,R){if(!t)return null;for(;R!==null;)l(b,R),R=R.sibling;return null}function u(b){for(var R=new Map;b!==null;)b.key!==null?R.set(b.key,b):R.set(b.index,b),b=b.sibling;return R}function f(b,R){return b=Jt(b,R),b.index=0,b.sibling=null,b}function m(b,R,U){return b.index=U,t?(U=b.alternate,U!==null?(U=U.index,U<R?(b.flags|=67108866,R):U):(b.flags|=67108866,R)):(b.flags|=1048576,R)}function T(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function x(b,R,U,z){return R===null||R.tag!==6?(R=rs(U,b.mode,z),R.return=b,R):(R=f(R,U),R.return=b,R)}function M(b,R,U,z){var te=U.type;return te===H?B(b,R,U.props.children,z,U.key):R!==null&&(R.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===xe&&hf(te)===R.type)?(R=f(R,U.props),Mi(R,U),R.return=b,R):(R=Co(U.type,U.key,U.props,null,b.mode,z),Mi(R,U),R.return=b,R)}function I(b,R,U,z){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=us(U,b.mode,z),R.return=b,R):(R=f(R,U.children||[]),R.return=b,R)}function B(b,R,U,z,te){return R===null||R.tag!==7?(R=Gn(U,b.mode,z,te),R.return=b,R):(R=f(R,U),R.return=b,R)}function Y(b,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=rs(""+R,b.mode,U),R.return=b,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return U=Co(R.type,R.key,R.props,null,b.mode,U),Mi(U,R),U.return=b,U;case D:return R=us(R,b.mode,U),R.return=b,R;case xe:var z=R._init;return R=z(R._payload),Y(b,R,U)}if(ge(R)||se(R))return R=Gn(R,b.mode,U,null),R.return=b,R;if(typeof R.then=="function")return Y(b,qo(R),U);if(R.$$typeof===$)return Y(b,_o(b,R),U);Go(b,R)}return null}function P(b,R,U,z){var te=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return te!==null?null:x(b,R,""+U,z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===te?M(b,R,U,z):null;case D:return U.key===te?I(b,R,U,z):null;case xe:return te=U._init,U=te(U._payload),P(b,R,U,z)}if(ge(U)||se(U))return te!==null?null:B(b,R,U,z,null);if(typeof U.then=="function")return P(b,R,qo(U),z);if(U.$$typeof===$)return P(b,R,_o(b,U),z);Go(b,U)}return null}function q(b,R,U,z,te){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return b=b.get(U)||null,x(R,b,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return b=b.get(z.key===null?U:z.key)||null,M(R,b,z,te);case D:return b=b.get(z.key===null?U:z.key)||null,I(R,b,z,te);case xe:var ve=z._init;return z=ve(z._payload),q(b,R,U,z,te)}if(ge(z)||se(z))return b=b.get(U)||null,B(R,b,z,te,null);if(typeof z.then=="function")return q(b,R,U,qo(z),te);if(z.$$typeof===$)return q(b,R,U,_o(R,z),te);Go(R,z)}return null}function pe(b,R,U,z){for(var te=null,ve=null,ae=R,de=R=0,je=null;ae!==null&&de<U.length;de++){ae.index>de?(je=ae,ae=null):je=ae.sibling;var Ae=P(b,ae,U[de],z);if(Ae===null){ae===null&&(ae=je);break}t&&ae&&Ae.alternate===null&&l(b,ae),R=m(Ae,R,de),ve===null?te=Ae:ve.sibling=Ae,ve=Ae,ae=je}if(de===U.length)return o(b,ae),Me&&Hn(b,de),te;if(ae===null){for(;de<U.length;de++)ae=Y(b,U[de],z),ae!==null&&(R=m(ae,R,de),ve===null?te=ae:ve.sibling=ae,ve=ae);return Me&&Hn(b,de),te}for(ae=u(ae);de<U.length;de++)je=q(ae,b,de,U[de],z),je!==null&&(t&&je.alternate!==null&&ae.delete(je.key===null?de:je.key),R=m(je,R,de),ve===null?te=je:ve.sibling=je,ve=je);return t&&ae.forEach(function(wn){return l(b,wn)}),Me&&Hn(b,de),te}function fe(b,R,U,z){if(U==null)throw Error(a(151));for(var te=null,ve=null,ae=R,de=R=0,je=null,Ae=U.next();ae!==null&&!Ae.done;de++,Ae=U.next()){ae.index>de?(je=ae,ae=null):je=ae.sibling;var wn=P(b,ae,Ae.value,z);if(wn===null){ae===null&&(ae=je);break}t&&ae&&wn.alternate===null&&l(b,ae),R=m(wn,R,de),ve===null?te=wn:ve.sibling=wn,ve=wn,ae=je}if(Ae.done)return o(b,ae),Me&&Hn(b,de),te;if(ae===null){for(;!Ae.done;de++,Ae=U.next())Ae=Y(b,Ae.value,z),Ae!==null&&(R=m(Ae,R,de),ve===null?te=Ae:ve.sibling=Ae,ve=Ae);return Me&&Hn(b,de),te}for(ae=u(ae);!Ae.done;de++,Ae=U.next())Ae=q(ae,b,de,Ae.value,z),Ae!==null&&(t&&Ae.alternate!==null&&ae.delete(Ae.key===null?de:Ae.key),R=m(Ae,R,de),ve===null?te=Ae:ve.sibling=Ae,ve=Ae);return t&&ae.forEach(function(Fy){return l(b,Fy)}),Me&&Hn(b,de),te}function Ie(b,R,U,z){if(typeof U=="object"&&U!==null&&U.type===H&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:e:{for(var te=U.key;R!==null;){if(R.key===te){if(te=U.type,te===H){if(R.tag===7){o(b,R.sibling),z=f(R,U.props.children),z.return=b,b=z;break e}}else if(R.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===xe&&hf(te)===R.type){o(b,R.sibling),z=f(R,U.props),Mi(z,U),z.return=b,b=z;break e}o(b,R);break}else l(b,R);R=R.sibling}U.type===H?(z=Gn(U.props.children,b.mode,z,U.key),z.return=b,b=z):(z=Co(U.type,U.key,U.props,null,b.mode,z),Mi(z,U),z.return=b,b=z)}return T(b);case D:e:{for(te=U.key;R!==null;){if(R.key===te)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){o(b,R.sibling),z=f(R,U.children||[]),z.return=b,b=z;break e}else{o(b,R);break}else l(b,R);R=R.sibling}z=us(U,b.mode,z),z.return=b,b=z}return T(b);case xe:return te=U._init,U=te(U._payload),Ie(b,R,U,z)}if(ge(U))return pe(b,R,U,z);if(se(U)){if(te=se(U),typeof te!="function")throw Error(a(150));return U=te.call(U),fe(b,R,U,z)}if(typeof U.then=="function")return Ie(b,R,qo(U),z);if(U.$$typeof===$)return Ie(b,R,_o(b,U),z);Go(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(o(b,R.sibling),z=f(R,U),z.return=b,b=z):(o(b,R),z=rs(U,b.mode,z),z.return=b,b=z),T(b)):o(b,R)}return function(b,R,U,z){try{Ai=0;var te=Ie(b,R,U,z);return _l=null,te}catch(ae){if(ae===hi||ae===Mo)throw ae;var ve=yt(29,ae,null,b.mode);return ve.lanes=z,ve.return=b,ve}finally{}}}var Al=yf(!0),vf=yf(!1),wt=A(null),Ht=null;function gn(t){var l=t.alternate;w(Ke,Ke.current&1),w(wt,t),Ht===null&&(l===null||Cl.current!==null||l.memoizedState!==null)&&(Ht=t)}function Tf(t){if(t.tag===22){if(w(Ke,Ke.current),w(wt,t),Ht===null){var l=t.alternate;l!==null&&l.memoizedState!==null&&(Ht=t)}}else hn()}function hn(){w(Ke,Ke.current),w(wt,wt.current)}function Wt(t){N(wt),Ht===t&&(Ht=null),N(Ke)}var Ke=A(0);function ko(t){for(var l=t;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Dr(o)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function zs(t,l,o,u){l=t.memoizedState,o=o(u,l),o=o==null?l:v({},l,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Os={enqueueSetState:function(t,l,o){t=t._reactInternals;var u=St(),f=dn(u);f.payload=l,o!=null&&(f.callback=o),l=mn(t,f,u),l!==null&&(xt(l,t,u),vi(l,t,u))},enqueueReplaceState:function(t,l,o){t=t._reactInternals;var u=St(),f=dn(u);f.tag=1,f.payload=l,o!=null&&(f.callback=o),l=mn(t,f,u),l!==null&&(xt(l,t,u),vi(l,t,u))},enqueueForceUpdate:function(t,l){t=t._reactInternals;var o=St(),u=dn(o);u.tag=2,l!=null&&(u.callback=l),l=mn(t,u,o),l!==null&&(xt(l,t,o),vi(l,t,o))}};function Cf(t,l,o,u,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,T):l.prototype&&l.prototype.isPureReactComponent?!ri(o,u)||!ri(f,m):!0}function Sf(t,l,o,u){t=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,u),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,u),l.state!==t&&Os.enqueueReplaceState(l,l.state,null)}function Qn(t,l){var o=l;if("ref"in l){o={};for(var u in l)u!=="ref"&&(o[u]=l[u])}if(t=t.defaultProps){o===l&&(o=v({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}var Ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xf(t){Ho(t)}function Ef(t){console.error(t)}function _f(t){Ho(t)}function Bo(t,l){try{var o=t.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(u){setTimeout(function(){throw u})}}function Af(t,l,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ys(t,l,o){return o=dn(o),o.tag=3,o.payload={element:null},o.callback=function(){Bo(t,l)},o}function Mf(t){return t=dn(t),t.tag=3,t}function Rf(t,l,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;t.payload=function(){return f(m)},t.callback=function(){Af(l,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Af(l,o,u),typeof f!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function Fh(t,l,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(l=o.alternate,l!==null&&mi(l,o,f,!0),o=wt.current,o!==null){switch(o.tag){case 13:return Ht===null?pr():o.alternate===null&&ze===0&&(ze=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Ts?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([u]):l.add(u),hr(t,u,f)),!1;case 22:return o.flags|=65536,u===Ts?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([u]):o.add(u)),hr(t,u,f)),!1}throw Error(a(435,o.tag))}return hr(t,u,f),pr(),!1}if(Me)return l=wt.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=f,u!==ds&&(t=Error(a(422),{cause:u}),di(Mt(t,o)))):(u!==ds&&(l=Error(a(423),{cause:u}),di(Mt(l,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Mt(u,o),f=Ys(t.stateNode,u,f),xs(t,f),ze!==4&&(ze=2)),!1;var m=Error(a(520),{cause:u});if(m=Mt(m,o),Ii===null?Ii=[m]:Ii.push(m),ze!==4&&(ze=2),l===null)return!0;u=Mt(u,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=Ys(o.stateNode,u,t),xs(o,t),!1;case 1:if(l=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(xn===null||!xn.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Mf(f),Rf(f,t,o,u),xs(o,f),!1}o=o.return}while(o!==null);return!1}var bf=Error(a(461)),$e=!1;function et(t,l,o,u){l.child=t===null?vf(l,null,o,u):Al(l,t.child,o,u)}function Nf(t,l,o,u,f){o=o.render;var m=l.ref;if("ref"in u){var T={};for(var x in u)x!=="ref"&&(T[x]=u[x])}else T=u;return Yn(l),u=Rs(t,l,o,T,m,f),x=bs(),t!==null&&!$e?(Ns(t,l,f),jt(t,l,f)):(Me&&x&&cs(l),l.flags|=1,et(t,l,u,f),l.child)}function wf(t,l,o,u,f){if(t===null){var m=o.type;return typeof m=="function"&&!ss(m)&&m.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=m,Df(t,l,m,u,f)):(t=Co(o.type,null,u,l,l.mode,f),t.ref=l.ref,t.return=l,l.child=t)}if(m=t.child,!Ws(t,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:ri,o(T,u)&&t.ref===l.ref)return jt(t,l,f)}return l.flags|=1,t=Jt(m,u),t.ref=l.ref,t.return=l,l.child=t}function Df(t,l,o,u,f){if(t!==null){var m=t.memoizedProps;if(ri(m,u)&&t.ref===l.ref)if($e=!1,l.pendingProps=u=m,Ws(t,f))(t.flags&131072)!==0&&($e=!0);else return l.lanes=t.lanes,jt(t,l,f)}return Fs(t,l,o,u,f)}function Uf(t,l,o){var u=l.pendingProps,f=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((l.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,t!==null){for(f=l.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;l.childLanes=m&~u}else l.childLanes=0,l.child=null;return If(t,l,u,o)}if((o&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ao(l,m!==null?m.cachePool:null),m!==null?wc(l,m):_s(),Tf(l);else return l.lanes=l.childLanes=536870912,If(t,l,m!==null?m.baseLanes|o:o,o)}else m!==null?(Ao(l,m.cachePool),wc(l,m),hn(),l.memoizedState=null):(t!==null&&Ao(l,null),_s(),hn());return et(t,l,f,o),l.child}function If(t,l,o,u){var f=vs();return f=f===null?null:{parent:Xe._currentValue,pool:f},l.memoizedState={baseLanes:o,cachePool:f},t!==null&&Ao(l,null),_s(),Tf(l),t!==null&&mi(t,l,u,!0),null}function zo(t,l){var o=l.ref;if(o===null)t!==null&&t.ref!==null&&(l.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(l.flags|=4194816)}}function Fs(t,l,o,u,f){return Yn(l),o=Rs(t,l,o,u,void 0,f),u=bs(),t!==null&&!$e?(Ns(t,l,f),jt(t,l,f)):(Me&&u&&cs(l),l.flags|=1,et(t,l,o,f),l.child)}function Lf(t,l,o,u,f,m){return Yn(l),l.updateQueue=null,o=Uc(l,u,o,f),Dc(t),u=bs(),t!==null&&!$e?(Ns(t,l,m),jt(t,l,m)):(Me&&u&&cs(l),l.flags|=1,et(t,l,o,m),l.child)}function Pf(t,l,o,u,f){if(Yn(l),l.stateNode===null){var m=gl,T=o.contextType;typeof T=="object"&&T!==null&&(m=it(T)),m=new o(u,m),l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Os,l.stateNode=m,m._reactInternals=l,m=l.stateNode,m.props=u,m.state=l.memoizedState,m.refs={},Cs(l),T=o.contextType,m.context=typeof T=="object"&&T!==null?it(T):gl,m.state=l.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(zs(l,o,T,u),m.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Os.enqueueReplaceState(m,m.state,null),Ci(l,u,m,f),Ti(),m.state=l.memoizedState),typeof m.componentDidMount=="function"&&(l.flags|=4194308),u=!0}else if(t===null){m=l.stateNode;var x=l.memoizedProps,M=Qn(o,x);m.props=M;var I=m.context,B=o.contextType;T=gl,typeof B=="object"&&B!==null&&(T=it(B));var Y=o.getDerivedStateFromProps;B=typeof Y=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=l.pendingProps!==x,B||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||I!==T)&&Sf(l,m,u,T),fn=!1;var P=l.memoizedState;m.state=P,Ci(l,u,m,f),Ti(),I=l.memoizedState,x||P!==I||fn?(typeof Y=="function"&&(zs(l,o,Y,u),I=l.memoizedState),(M=fn||Cf(l,o,M,u,P,I,T))?(B||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(l.flags|=4194308)):(typeof m.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=u,l.memoizedState=I),m.props=u,m.state=I,m.context=T,u=M):(typeof m.componentDidMount=="function"&&(l.flags|=4194308),u=!1)}else{m=l.stateNode,Ss(t,l),T=l.memoizedProps,B=Qn(o,T),m.props=B,Y=l.pendingProps,P=m.context,I=o.contextType,M=gl,typeof I=="object"&&I!==null&&(M=it(I)),x=o.getDerivedStateFromProps,(I=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Y||P!==M)&&Sf(l,m,u,M),fn=!1,P=l.memoizedState,m.state=P,Ci(l,u,m,f),Ti();var q=l.memoizedState;T!==Y||P!==q||fn||t!==null&&t.dependencies!==null&&Eo(t.dependencies)?(typeof x=="function"&&(zs(l,o,x,u),q=l.memoizedState),(B=fn||Cf(l,o,B,u,P,q,M)||t!==null&&t.dependencies!==null&&Eo(t.dependencies))?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,q,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,q,M)),typeof m.componentDidUpdate=="function"&&(l.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(l.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(l.flags|=1024),l.memoizedProps=u,l.memoizedState=q),m.props=u,m.state=q,m.context=M,u=B):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(l.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(l.flags|=1024),u=!1)}return m=u,zo(t,l),u=(l.flags&128)!==0,m||u?(m=l.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),l.flags|=1,t!==null&&u?(l.child=Al(l,t.child,null,f),l.child=Al(l,null,o,f)):et(t,l,o,f),l.memoizedState=m.state,t=l.child):t=jt(t,l,f),t}function Vf(t,l,o,u){return fi(),l.flags|=256,et(t,l,o,u),l.child}var Js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qs(t){return{baseLanes:t,cachePool:xc()}}function Xs(t,l,o){return t=t!==null?t.childLanes&~o:0,l&&(t|=Dt),t}function qf(t,l,o){var u=l.pendingProps,f=!1,m=(l.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),T&&(f=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,t===null){if(Me){if(f?gn(l):hn(),Me){var x=Be,M;if(M=x){e:{for(M=x,x=kt;M.nodeType!==8;){if(!x){x=null;break e}if(M=Vt(M.nextSibling),M===null){x=null;break e}}x=M}x!==null?(l.memoizedState={dehydrated:x,treeContext:kn!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},M=yt(18,null,null,0),M.stateNode=x,M.return=l,l.child=M,rt=l,Be=null,M=!0):M=!1}M||zn(l)}if(x=l.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Dr(x)?l.lanes=32:l.lanes=536870912,null;Wt(l)}return x=u.children,u=u.fallback,f?(hn(),f=l.mode,x=Oo({mode:"hidden",children:x},f),u=Gn(u,f,o,null),x.return=l,u.return=l,x.sibling=u,l.child=x,f=l.child,f.memoizedState=Qs(o),f.childLanes=Xs(t,T,o),l.memoizedState=Js,u):(gn(l),Ks(l,x))}if(M=t.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(m)l.flags&256?(gn(l),l.flags&=-257,l=Zs(t,l,o)):l.memoizedState!==null?(hn(),l.child=t.child,l.flags|=128,l=null):(hn(),f=u.fallback,x=l.mode,u=Oo({mode:"visible",children:u.children},x),f=Gn(f,x,o,null),f.flags|=2,u.return=l,f.return=l,u.sibling=f,l.child=u,Al(l,t.child,null,o),u=l.child,u.memoizedState=Qs(o),u.childLanes=Xs(t,T,o),l.memoizedState=Js,l=f);else if(gn(l),Dr(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var I=T.dgst;T=I,u=Error(a(419)),u.stack="",u.digest=T,di({value:u,source:null,stack:null}),l=Zs(t,l,o)}else if($e||mi(t,l,o,!1),T=(o&t.childLanes)!==0,$e||T){if(T=Ve,T!==null&&(u=o&-o,u=(u&42)!==0?1:Ua(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,pl(t,u),xt(T,t,u),bf;x.data==="$?"||pr(),l=Zs(t,l,o)}else x.data==="$?"?(l.flags|=192,l.child=t.child,l=null):(t=M.treeContext,Be=Vt(x.nextSibling),rt=l,Me=!0,Bn=null,kt=!1,t!==null&&(bt[Nt++]=Qt,bt[Nt++]=Xt,bt[Nt++]=kn,Qt=t.id,Xt=t.overflow,kn=l),l=Ks(l,u.children),l.flags|=4096);return l}return f?(hn(),f=u.fallback,x=l.mode,M=t.child,I=M.sibling,u=Jt(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,I!==null?f=Jt(I,f):(f=Gn(f,x,o,null),f.flags|=2),f.return=l,u.return=l,u.sibling=f,l.child=u,u=f,f=l.child,x=t.child.memoizedState,x===null?x=Qs(o):(M=x.cachePool,M!==null?(I=Xe._currentValue,M=M.parent!==I?{parent:I,pool:I}:M):M=xc(),x={baseLanes:x.baseLanes|o,cachePool:M}),f.memoizedState=x,f.childLanes=Xs(t,T,o),l.memoizedState=Js,u):(gn(l),o=t.child,t=o.sibling,o=Jt(o,{mode:"visible",children:u.children}),o.return=l,o.sibling=null,t!==null&&(T=l.deletions,T===null?(l.deletions=[t],l.flags|=16):T.push(t)),l.child=o,l.memoizedState=null,o)}function Ks(t,l){return l=Oo({mode:"visible",children:l},t.mode),l.return=t,t.child=l}function Oo(t,l){return t=yt(22,t,null,l),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zs(t,l,o){return Al(l,t.child,null,o),t=Ks(l,l.pendingProps.children),t.flags|=2,l.memoizedState=null,t}function Gf(t,l,o){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l),ps(t.return,l,o)}function $s(t,l,o,u,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=l,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function kf(t,l,o){var u=l.pendingProps,f=u.revealOrder,m=u.tail;if(et(t,l,u.children,o),u=Ke.current,(u&2)!==0)u=u&1|2,l.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=l.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gf(t,o,l);else if(t.tag===19)Gf(t,o,l);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===l)break e;for(;t.sibling===null;){if(t.return===null||t.return===l)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(w(Ke,u),f){case"forwards":for(o=l.child,f=null;o!==null;)t=o.alternate,t!==null&&ko(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=l.child,l.child=null):(f=o.sibling,o.sibling=null),$s(l,!1,f,o,m);break;case"backwards":for(o=null,f=l.child,l.child=null;f!==null;){if(t=f.alternate,t!==null&&ko(t)===null){l.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}$s(l,!0,o,null,m);break;case"together":$s(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function jt(t,l,o){if(t!==null&&(l.dependencies=t.dependencies),Sn|=l.lanes,(o&l.childLanes)===0)if(t!==null){if(mi(t,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(t!==null&&l.child!==t.child)throw Error(a(153));if(l.child!==null){for(t=l.child,o=Jt(t,t.pendingProps),l.child=o,o.return=l;t.sibling!==null;)t=t.sibling,o=o.sibling=Jt(t,t.pendingProps),o.return=l;o.sibling=null}return l.child}function Ws(t,l){return(t.lanes&l)!==0?!0:(t=t.dependencies,!!(t!==null&&Eo(t)))}function Jh(t,l,o){switch(l.tag){case 3:me(l,l.stateNode.containerInfo),cn(l,Xe,t.memoizedState.cache),fi();break;case 27:case 5:Le(l);break;case 4:me(l,l.stateNode.containerInfo);break;case 10:cn(l,l.type,l.memoizedProps.value);break;case 13:var u=l.memoizedState;if(u!==null)return u.dehydrated!==null?(gn(l),l.flags|=128,null):(o&l.child.childLanes)!==0?qf(t,l,o):(gn(l),t=jt(t,l,o),t!==null?t.sibling:null);gn(l);break;case 19:var f=(t.flags&128)!==0;if(u=(o&l.childLanes)!==0,u||(mi(t,l,o,!1),u=(o&l.childLanes)!==0),f){if(u)return kf(t,l,o);l.flags|=128}if(f=l.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),w(Ke,Ke.current),u)break;return null;case 22:case 23:return l.lanes=0,Uf(t,l,o);case 24:cn(l,Xe,t.memoizedState.cache)}return jt(t,l,o)}function Hf(t,l,o){if(t!==null)if(t.memoizedProps!==l.pendingProps)$e=!0;else{if(!Ws(t,o)&&(l.flags&128)===0)return $e=!1,Jh(t,l,o);$e=(t.flags&131072)!==0}else $e=!1,Me&&(l.flags&1048576)!==0&&gc(l,xo,l.index);switch(l.lanes=0,l.tag){case 16:e:{t=l.pendingProps;var u=l.elementType,f=u._init;if(u=f(u._payload),l.type=u,typeof u=="function")ss(u)?(t=Qn(u,t),l.tag=1,l=Pf(null,l,u,t,o)):(l.tag=0,l=Fs(null,l,u,t,o));else{if(u!=null){if(f=u.$$typeof,f===Z){l.tag=11,l=Nf(null,l,u,t,o);break e}else if(f===ee){l.tag=14,l=wf(null,l,u,t,o);break e}}throw l=Re(u)||u,Error(a(306,l,""))}}return l;case 0:return Fs(t,l,l.type,l.pendingProps,o);case 1:return u=l.type,f=Qn(u,l.pendingProps),Pf(t,l,u,f,o);case 3:e:{if(me(l,l.stateNode.containerInfo),t===null)throw Error(a(387));u=l.pendingProps;var m=l.memoizedState;f=m.element,Ss(t,l),Ci(l,u,null,o);var T=l.memoizedState;if(u=T.cache,cn(l,Xe,u),u!==m.cache&&gs(l,[Xe],o,!0),Ti(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=m,l.memoizedState=m,l.flags&256){l=Vf(t,l,u,o);break e}else if(u!==f){f=Mt(Error(a(424)),l),di(f),l=Vf(t,l,u,o);break e}else{switch(t=l.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Be=Vt(t.firstChild),rt=l,Me=!0,Bn=null,kt=!0,o=vf(l,null,u,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fi(),u===f){l=jt(t,l,o);break e}et(t,l,u,o)}l=l.child}return l;case 26:return zo(t,l),t===null?(o=Yd(l.type,null,l.pendingProps,null))?l.memoizedState=o:Me||(o=l.type,t=l.pendingProps,u=la(V.current).createElement(o),u[lt]=l,u[ut]=t,nt(u,o,t),Ze(u),l.stateNode=u):l.memoizedState=Yd(l.type,t.memoizedProps,l.pendingProps,t.memoizedState),null;case 27:return Le(l),t===null&&Me&&(u=l.stateNode=Bd(l.type,l.pendingProps,V.current),rt=l,kt=!0,f=Be,An(l.type)?(Ur=f,Be=Vt(u.firstChild)):Be=f),et(t,l,l.pendingProps.children,o),zo(t,l),t===null&&(l.flags|=4194304),l.child;case 5:return t===null&&Me&&((f=u=Be)&&(u=Cy(u,l.type,l.pendingProps,kt),u!==null?(l.stateNode=u,rt=l,Be=Vt(u.firstChild),kt=!1,f=!0):f=!1),f||zn(l)),Le(l),f=l.type,m=l.pendingProps,T=t!==null?t.memoizedProps:null,u=m.children,br(f,m)?u=null:T!==null&&br(f,T)&&(l.flags|=32),l.memoizedState!==null&&(f=Rs(t,l,Gh,null,null,o),zi._currentValue=f),zo(t,l),et(t,l,u,o),l.child;case 6:return t===null&&Me&&((t=o=Be)&&(o=Sy(o,l.pendingProps,kt),o!==null?(l.stateNode=o,rt=l,Be=null,t=!0):t=!1),t||zn(l)),null;case 13:return qf(t,l,o);case 4:return me(l,l.stateNode.containerInfo),u=l.pendingProps,t===null?l.child=Al(l,null,u,o):et(t,l,u,o),l.child;case 11:return Nf(t,l,l.type,l.pendingProps,o);case 7:return et(t,l,l.pendingProps,o),l.child;case 8:return et(t,l,l.pendingProps.children,o),l.child;case 12:return et(t,l,l.pendingProps.children,o),l.child;case 10:return u=l.pendingProps,cn(l,l.type,u.value),et(t,l,u.children,o),l.child;case 9:return f=l.type._context,u=l.pendingProps.children,Yn(l),f=it(f),u=u(f),l.flags|=1,et(t,l,u,o),l.child;case 14:return wf(t,l,l.type,l.pendingProps,o);case 15:return Df(t,l,l.type,l.pendingProps,o);case 19:return kf(t,l,o);case 31:return u=l.pendingProps,o=l.mode,u={mode:u.mode,children:u.children},t===null?(o=Oo(u,o),o.ref=l.ref,l.child=o,o.return=l,l=o):(o=Jt(t.child,u),o.ref=l.ref,l.child=o,o.return=l,l=o),l;case 22:return Uf(t,l,o);case 24:return Yn(l),u=it(Xe),t===null?(f=vs(),f===null&&(f=Ve,m=hs(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),l.memoizedState={parent:u,cache:f},Cs(l),cn(l,Xe,f)):((t.lanes&o)!==0&&(Ss(t,l),Ci(l,null,null,o),Ti()),f=t.memoizedState,m=l.memoizedState,f.parent!==u?(f={parent:u,cache:u},l.memoizedState=f,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=f),cn(l,Xe,u)):(u=m.cache,cn(l,Xe,u),u!==f.cache&&gs(l,[Xe],o,!0))),et(t,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function en(t){t.flags|=4}function Bf(t,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kd(l)){if(l=wt.current,l!==null&&((Ee&4194048)===Ee?Ht!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||l!==Ht))throw yi=Ts,Ec;t.flags|=8192}}function Yo(t,l){l!==null&&(t.flags|=4),t.flags&16384&&(l=t.tag!==22?vu():536870912,t.lanes|=l,Nl|=l)}function Ri(t,l){if(!Me)switch(t.tailMode){case"hidden":l=t.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?l||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function He(t){var l=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(l)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,l}function Qh(t,l,o){var u=l.pendingProps;switch(fs(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(l),null;case 1:return He(l),null;case 3:return o=l.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Zt(Xe),_e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(ci(l)?en(l):t===null||t.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,vc())),He(l),null;case 26:return o=l.memoizedState,t===null?(en(l),o!==null?(He(l),Bf(l,o)):(He(l),l.flags&=-16777217)):o?o!==t.memoizedState?(en(l),He(l),Bf(l,o)):(He(l),l.flags&=-16777217):(t.memoizedProps!==u&&en(l),He(l),l.flags&=-16777217),null;case 27:ke(l),o=V.current;var f=l.type;if(t!==null&&l.stateNode!=null)t.memoizedProps!==u&&en(l);else{if(!u){if(l.stateNode===null)throw Error(a(166));return He(l),null}t=L.current,ci(l)?hc(l):(t=Bd(f,u,o),l.stateNode=t,en(l))}return He(l),null;case 5:if(ke(l),o=l.type,t!==null&&l.stateNode!=null)t.memoizedProps!==u&&en(l);else{if(!u){if(l.stateNode===null)throw Error(a(166));return He(l),null}if(t=L.current,ci(l))hc(l);else{switch(f=la(V.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}t[lt]=l,t[ut]=u;e:for(f=l.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}l.stateNode=t;e:switch(nt(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&en(l)}}return He(l),l.flags&=-16777217,null;case 6:if(t&&l.stateNode!=null)t.memoizedProps!==u&&en(l);else{if(typeof u!="string"&&l.stateNode===null)throw Error(a(166));if(t=V.current,ci(l)){if(t=l.stateNode,o=l.memoizedProps,u=null,f=rt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[lt]=l,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ld(t.nodeValue,o)),t||zn(l)}else t=la(t).createTextNode(u),t[lt]=l,l.stateNode=t}return He(l),null;case 13:if(u=l.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ci(l),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=l.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[lt]=l}else fi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;He(l),f=!1}else f=vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return l.flags&256?(Wt(l),l):(Wt(l),null)}if(Wt(l),(l.flags&128)!==0)return l.lanes=o,l;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=l.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==t&&o&&(l.child.flags|=8192),Yo(l,l.updateQueue),He(l),null;case 4:return _e(),t===null&&Er(l.stateNode.containerInfo),He(l),null;case 10:return Zt(l.type),He(l),null;case 19:if(N(Ke),f=l.memoizedState,f===null)return He(l),null;if(u=(l.flags&128)!==0,m=f.rendering,m===null)if(u)Ri(f,!1);else{if(ze!==0||t!==null&&(t.flags&128)!==0)for(t=l.child;t!==null;){if(m=ko(t),m!==null){for(l.flags|=128,Ri(f,!1),t=m.updateQueue,l.updateQueue=t,Yo(l,t),l.subtreeFlags=0,t=o,o=l.child;o!==null;)pc(o,t),o=o.sibling;return w(Ke,Ke.current&1|2),l.child}t=t.sibling}f.tail!==null&&Gt()>Qo&&(l.flags|=128,u=!0,Ri(f,!1),l.lanes=4194304)}else{if(!u)if(t=ko(m),t!==null){if(l.flags|=128,u=!0,t=t.updateQueue,l.updateQueue=t,Yo(l,t),Ri(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Me)return He(l),null}else 2*Gt()-f.renderingStartTime>Qo&&o!==536870912&&(l.flags|=128,u=!0,Ri(f,!1),l.lanes=4194304);f.isBackwards?(m.sibling=l.child,l.child=m):(t=f.last,t!==null?t.sibling=m:l.child=m,f.last=m)}return f.tail!==null?(l=f.tail,f.rendering=l,f.tail=l.sibling,f.renderingStartTime=Gt(),l.sibling=null,t=Ke.current,w(Ke,u?t&1|2:t&1),l):(He(l),null);case 22:case 23:return Wt(l),As(),u=l.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(l.flags|=8192):u&&(l.flags|=8192),u?(o&536870912)!==0&&(l.flags&128)===0&&(He(l),l.subtreeFlags&6&&(l.flags|=8192)):He(l),o=l.updateQueue,o!==null&&Yo(l,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048),t!==null&&N(Fn),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),Zt(Xe),He(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function Xh(t,l){switch(fs(l),l.tag){case 1:return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 3:return Zt(Xe),_e(),t=l.flags,(t&65536)!==0&&(t&128)===0?(l.flags=t&-65537|128,l):null;case 26:case 27:case 5:return ke(l),null;case 13:if(Wt(l),t=l.memoizedState,t!==null&&t.dehydrated!==null){if(l.alternate===null)throw Error(a(340));fi()}return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 19:return N(Ke),null;case 4:return _e(),null;case 10:return Zt(l.type),null;case 22:case 23:return Wt(l),As(),t!==null&&N(Fn),t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 24:return Zt(Xe),null;case 25:return null;default:return null}}function zf(t,l){switch(fs(l),l.tag){case 3:Zt(Xe),_e();break;case 26:case 27:case 5:ke(l);break;case 4:_e();break;case 13:Wt(l);break;case 19:N(Ke);break;case 10:Zt(l.type);break;case 22:case 23:Wt(l),As(),t!==null&&N(Fn);break;case 24:Zt(Xe)}}function bi(t,l){try{var o=l.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(x){Pe(l,l.return,x)}}function yn(t,l,o){try{var u=l.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&t)===t){var T=u.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,f=l;var M=o,I=x;try{I()}catch(B){Pe(f,M,B)}}}u=u.next}while(u!==m)}}catch(B){Pe(l,l.return,B)}}function Of(t){var l=t.updateQueue;if(l!==null){var o=t.stateNode;try{Nc(l,o)}catch(u){Pe(t,t.return,u)}}}function Yf(t,l,o){o.props=Qn(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Pe(t,l,u)}}function Ni(t,l){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(f){Pe(t,l,f)}}function Bt(t,l){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Pe(t,l,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Pe(t,l,f)}else o.current=null}function Ff(t){var l=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Pe(t,t.return,f)}}function js(t,l,o){try{var u=t.stateNode;gy(u,t.type,o,l),u[ut]=l}catch(f){Pe(t,t.return,f)}}function Jf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&An(t.type)||t.tag===4}function er(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&An(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tr(t,l,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,l?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,l):(l=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.appendChild(t),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=na));else if(u!==4&&(u===27&&An(t.type)&&(o=t.stateNode,l=null),t=t.child,t!==null))for(tr(t,l,o),t=t.sibling;t!==null;)tr(t,l,o),t=t.sibling}function Fo(t,l,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,l?o.insertBefore(t,l):o.appendChild(t);else if(u!==4&&(u===27&&An(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Fo(t,l,o),t=t.sibling;t!==null;)Fo(t,l,o),t=t.sibling}function Qf(t){var l=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,f=l.attributes;f.length;)l.removeAttributeNode(f[0]);nt(l,u,o),l[lt]=t,l[ut]=o}catch(m){Pe(t,t.return,m)}}var tn=!1,Fe=!1,nr=!1,Xf=typeof WeakSet=="function"?WeakSet:Set,We=null;function Kh(t,l){if(t=t.containerInfo,Mr=ua,t=ic(t),es(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,x=-1,M=-1,I=0,B=0,Y=t,P=null;t:for(;;){for(var q;Y!==o||f!==0&&Y.nodeType!==3||(x=T+f),Y!==m||u!==0&&Y.nodeType!==3||(M=T+u),Y.nodeType===3&&(T+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break t;if(P===o&&++I===f&&(x=T),P===m&&++B===u&&(M=T),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}o=x===-1||M===-1?null:{start:x,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rr={focusedElem:t,selectionRange:o},ua=!1,We=l;We!==null;)if(l=We,t=l.child,(l.subtreeFlags&1024)!==0&&t!==null)t.return=l,We=t;else for(;We!==null;){switch(l=We,m=l.alternate,t=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,o=l,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var pe=Qn(o.type,f,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(pe,m),u.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Pe(o,o.return,fe)}}break;case 3:if((t&1024)!==0){if(t=l.stateNode.containerInfo,o=t.nodeType,o===9)wr(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=l.sibling,t!==null){t.return=l.return,We=t;break}We=l.return}}function Kf(t,l,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:vn(t,o),u&4&&bi(5,o);break;case 1:if(vn(t,o),u&4)if(t=o.stateNode,l===null)try{t.componentDidMount()}catch(T){Pe(o,o.return,T)}else{var f=Qn(o.type,l.memoizedProps);l=l.memoizedState;try{t.componentDidUpdate(f,l,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Pe(o,o.return,T)}}u&64&&Of(o),u&512&&Ni(o,o.return);break;case 3:if(vn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(l=null,o.child!==null)switch(o.child.tag){case 27:case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}try{Nc(t,l)}catch(T){Pe(o,o.return,T)}}break;case 27:l===null&&u&4&&Qf(o);case 26:case 5:vn(t,o),l===null&&u&4&&Ff(o),u&512&&Ni(o,o.return);break;case 12:vn(t,o);break;case 13:vn(t,o),u&4&&Wf(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=iy.bind(null,o),xy(t,o))));break;case 22:if(u=o.memoizedState!==null||tn,!u){l=l!==null&&l.memoizedState!==null||Fe,f=tn;var m=Fe;tn=u,(Fe=l)&&!m?Tn(t,o,(o.subtreeFlags&8772)!==0):vn(t,o),tn=f,Fe=m}break;case 30:break;default:vn(t,o)}}function Zf(t){var l=t.alternate;l!==null&&(t.alternate=null,Zf(l)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(l=t.stateNode,l!==null&&Pa(l)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ge=null,dt=!1;function nn(t,l,o){for(o=o.child;o!==null;)$f(t,l,o),o=o.sibling}function $f(t,l,o){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Zl,o)}catch{}switch(o.tag){case 26:Fe||Bt(o,l),nn(t,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Fe||Bt(o,l);var u=Ge,f=dt;An(o.type)&&(Ge=o.stateNode,dt=!1),nn(t,l,o),Gi(o.stateNode),Ge=u,dt=f;break;case 5:Fe||Bt(o,l);case 6:if(u=Ge,f=dt,Ge=null,nn(t,l,o),Ge=u,dt=f,Ge!==null)if(dt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(o.stateNode)}catch(m){Pe(o,l,m)}else try{Ge.removeChild(o.stateNode)}catch(m){Pe(o,l,m)}break;case 18:Ge!==null&&(dt?(t=Ge,kd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Ji(t)):kd(Ge,o.stateNode));break;case 4:u=Ge,f=dt,Ge=o.stateNode.containerInfo,dt=!0,nn(t,l,o),Ge=u,dt=f;break;case 0:case 11:case 14:case 15:Fe||yn(2,o,l),Fe||yn(4,o,l),nn(t,l,o);break;case 1:Fe||(Bt(o,l),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Yf(o,l,u)),nn(t,l,o);break;case 21:nn(t,l,o);break;case 22:Fe=(u=Fe)||o.memoizedState!==null,nn(t,l,o),Fe=u;break;default:nn(t,l,o)}}function Wf(t,l){if(l.memoizedState===null&&(t=l.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ji(t)}catch(o){Pe(l,l.return,o)}}function Zh(t){switch(t.tag){case 13:case 19:var l=t.stateNode;return l===null&&(l=t.stateNode=new Xf),l;case 22:return t=t.stateNode,l=t._retryCache,l===null&&(l=t._retryCache=new Xf),l;default:throw Error(a(435,t.tag))}}function lr(t,l){var o=Zh(t);l.forEach(function(u){var f=oy.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}function vt(t,l){var o=l.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=t,T=l,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(An(x.type)){Ge=x.stateNode,dt=!1;break e}break;case 5:Ge=x.stateNode,dt=!1;break e;case 3:case 4:Ge=x.stateNode.containerInfo,dt=!0;break e}x=x.return}if(Ge===null)throw Error(a(160));$f(m,T,f),Ge=null,dt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)jf(l,t),l=l.sibling}var Pt=null;function jf(t,l){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vt(l,t),Tt(t),u&4&&(yn(3,t,t.return),bi(3,t),yn(5,t,t.return));break;case 1:vt(l,t),Tt(t),u&512&&(Fe||o===null||Bt(o,o.return)),u&64&&tn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Pt;if(vt(l,t),Tt(t),u&512&&(Fe||o===null||Bt(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[jl]||m[lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),nt(m,u,o),m[lt]=t,Ze(m),u=m;break e;case"link":var T=Qd("link","href",f).get(u+(o.href||""));if(T){for(var x=0;x<T.length;x++)if(m=T[x],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(x,1);break t}}m=f.createElement(u),nt(m,u,o),f.head.appendChild(m);break;case"meta":if(T=Qd("meta","content",f).get(u+(o.content||""))){for(x=0;x<T.length;x++)if(m=T[x],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(x,1);break t}}m=f.createElement(u),nt(m,u,o),f.head.appendChild(m);break;default:throw Error(a(468,u))}m[lt]=t,Ze(m),u=m}t.stateNode=u}else Xd(f,t.type,t.stateNode);else t.stateNode=Jd(f,u,t.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Xd(f,t.type,t.stateNode):Jd(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&js(t,t.memoizedProps,o.memoizedProps)}break;case 27:vt(l,t),Tt(t),u&512&&(Fe||o===null||Bt(o,o.return)),o!==null&&u&4&&js(t,t.memoizedProps,o.memoizedProps);break;case 5:if(vt(l,t),Tt(t),u&512&&(Fe||o===null||Bt(o,o.return)),t.flags&32){f=t.stateNode;try{sl(f,"")}catch(q){Pe(t,t.return,q)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,js(t,f,o!==null?o.memoizedProps:f)),u&1024&&(nr=!0);break;case 6:if(vt(l,t),Tt(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(q){Pe(t,t.return,q)}}break;case 3:if(aa=null,f=Pt,Pt=ia(l.containerInfo),vt(l,t),Pt=f,Tt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ji(l.containerInfo)}catch(q){Pe(t,t.return,q)}nr&&(nr=!1,ed(t));break;case 4:u=Pt,Pt=ia(t.stateNode.containerInfo),vt(l,t),Tt(t),Pt=u;break;case 12:vt(l,t),Tt(t);break;case 13:vt(l,t),Tt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ur=Gt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,lr(t,u)));break;case 22:f=t.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,I=tn,B=Fe;if(tn=I||f,Fe=B||M,vt(l,t),Fe=B,tn=I,Tt(t),u&8192)e:for(l=t.stateNode,l._visibility=f?l._visibility&-2:l._visibility|1,f&&(o===null||M||tn||Fe||Xn(t)),o=null,l=t;;){if(l.tag===5||l.tag===26){if(o===null){M=o=l;try{if(m=M.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=M.stateNode;var Y=M.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){Pe(M,M.return,q)}}}else if(l.tag===6){if(o===null){M=l;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(q){Pe(M,M.return,q)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===t)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,lr(t,o))));break;case 19:vt(l,t),Tt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,lr(t,u)));break;case 30:break;case 21:break;default:vt(l,t),Tt(t)}}function Tt(t){var l=t.flags;if(l&2){try{for(var o,u=t.return;u!==null;){if(Jf(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=er(t);Fo(t,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(sl(T,""),o.flags&=-33);var x=er(t);Fo(t,x,T);break;case 3:case 4:var M=o.stateNode.containerInfo,I=er(t);tr(t,I,M);break;default:throw Error(a(161))}}catch(B){Pe(t,t.return,B)}t.flags&=-3}l&4096&&(t.flags&=-4097)}function ed(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var l=t;ed(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),t=t.sibling}}function vn(t,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Kf(t,l.alternate,l),l=l.sibling}function Xn(t){for(t=t.child;t!==null;){var l=t;switch(l.tag){case 0:case 11:case 14:case 15:yn(4,l,l.return),Xn(l);break;case 1:Bt(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&Yf(l,l.return,o),Xn(l);break;case 27:Gi(l.stateNode);case 26:case 5:Bt(l,l.return),Xn(l);break;case 22:l.memoizedState===null&&Xn(l);break;case 30:Xn(l);break;default:Xn(l)}t=t.sibling}}function Tn(t,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var u=l.alternate,f=t,m=l,T=m.flags;switch(m.tag){case 0:case 11:case 15:Tn(f,m,o),bi(4,m);break;case 1:if(Tn(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){Pe(u,u.return,I)}if(u=m,f=u.updateQueue,f!==null){var x=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)bc(M[f],x)}catch(I){Pe(u,u.return,I)}}o&&T&64&&Of(m),Ni(m,m.return);break;case 27:Qf(m);case 26:case 5:Tn(f,m,o),o&&u===null&&T&4&&Ff(m),Ni(m,m.return);break;case 12:Tn(f,m,o);break;case 13:Tn(f,m,o),o&&T&4&&Wf(f,m);break;case 22:m.memoizedState===null&&Tn(f,m,o),Ni(m,m.return);break;case 30:break;default:Tn(f,m,o)}l=l.sibling}}function ir(t,l){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(t=l.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&pi(o))}function or(t,l){t=null,l.alternate!==null&&(t=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==t&&(l.refCount++,t!=null&&pi(t))}function zt(t,l,o,u){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)td(t,l,o,u),l=l.sibling}function td(t,l,o,u){var f=l.flags;switch(l.tag){case 0:case 11:case 15:zt(t,l,o,u),f&2048&&bi(9,l);break;case 1:zt(t,l,o,u);break;case 3:zt(t,l,o,u),f&2048&&(t=null,l.alternate!==null&&(t=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==t&&(l.refCount++,t!=null&&pi(t)));break;case 12:if(f&2048){zt(t,l,o,u),t=l.stateNode;try{var m=l.memoizedProps,T=m.id,x=m.onPostCommit;typeof x=="function"&&x(T,l.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Pe(l,l.return,M)}}else zt(t,l,o,u);break;case 13:zt(t,l,o,u);break;case 23:break;case 22:m=l.stateNode,T=l.alternate,l.memoizedState!==null?m._visibility&2?zt(t,l,o,u):wi(t,l):m._visibility&2?zt(t,l,o,u):(m._visibility|=2,Ml(t,l,o,u,(l.subtreeFlags&10256)!==0)),f&2048&&ir(T,l);break;case 24:zt(t,l,o,u),f&2048&&or(l.alternate,l);break;default:zt(t,l,o,u)}}function Ml(t,l,o,u,f){for(f=f&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var m=t,T=l,x=o,M=u,I=T.flags;switch(T.tag){case 0:case 11:case 15:Ml(m,T,x,M,f),bi(8,T);break;case 23:break;case 22:var B=T.stateNode;T.memoizedState!==null?B._visibility&2?Ml(m,T,x,M,f):wi(m,T):(B._visibility|=2,Ml(m,T,x,M,f)),f&&I&2048&&ir(T.alternate,T);break;case 24:Ml(m,T,x,M,f),f&&I&2048&&or(T.alternate,T);break;default:Ml(m,T,x,M,f)}l=l.sibling}}function wi(t,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=t,u=l,f=u.flags;switch(u.tag){case 22:wi(o,u),f&2048&&ir(u.alternate,u);break;case 24:wi(o,u),f&2048&&or(u.alternate,u);break;default:wi(o,u)}l=l.sibling}}var Di=8192;function Rl(t){if(t.subtreeFlags&Di)for(t=t.child;t!==null;)nd(t),t=t.sibling}function nd(t){switch(t.tag){case 26:Rl(t),t.flags&Di&&t.memoizedState!==null&&Py(Pt,t.memoizedState,t.memoizedProps);break;case 5:Rl(t);break;case 3:case 4:var l=Pt;Pt=ia(t.stateNode.containerInfo),Rl(t),Pt=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Di,Di=16777216,Rl(t),Di=l):Rl(t));break;default:Rl(t)}}function ld(t){var l=t.alternate;if(l!==null&&(t=l.child,t!==null)){l.child=null;do l=t.sibling,t.sibling=null,t=l;while(t!==null)}}function Ui(t){var l=t.deletions;if((t.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var u=l[o];We=u,od(u,t)}ld(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)id(t),t=t.sibling}function id(t){switch(t.tag){case 0:case 11:case 15:Ui(t),t.flags&2048&&yn(9,t,t.return);break;case 3:Ui(t);break;case 12:Ui(t);break;case 22:var l=t.stateNode;t.memoizedState!==null&&l._visibility&2&&(t.return===null||t.return.tag!==13)?(l._visibility&=-3,Jo(t)):Ui(t);break;default:Ui(t)}}function Jo(t){var l=t.deletions;if((t.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var u=l[o];We=u,od(u,t)}ld(t)}for(t=t.child;t!==null;){switch(l=t,l.tag){case 0:case 11:case 15:yn(8,l,l.return),Jo(l);break;case 22:o=l.stateNode,o._visibility&2&&(o._visibility&=-3,Jo(l));break;default:Jo(l)}t=t.sibling}}function od(t,l){for(;We!==null;){var o=We;switch(o.tag){case 0:case 11:case 15:yn(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pi(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,We=u;else e:for(o=t;We!==null;){u=We;var f=u.sibling,m=u.return;if(Zf(u),u===o){We=null;break e}if(f!==null){f.return=m,We=f;break e}We=m}}}var $h={getCacheForType:function(t){var l=it(Xe),o=l.data.get(t);return o===void 0&&(o=t(),l.data.set(t,o)),o}},Wh=typeof WeakMap=="function"?WeakMap:Map,be=0,Ve=null,Ce=null,Ee=0,Ne=0,Ct=null,Cn=!1,bl=!1,ar=!1,ln=0,ze=0,Sn=0,Kn=0,sr=0,Dt=0,Nl=0,Ii=null,mt=null,rr=!1,ur=0,Qo=1/0,Xo=null,xn=null,tt=0,En=null,wl=null,Dl=0,cr=0,fr=null,ad=null,Li=0,dr=null;function St(){if((be&2)!==0&&Ee!==0)return Ee&-Ee;if(k.T!==null){var t=vl;return t!==0?t:Tr()}return Su()}function sd(){Dt===0&&(Dt=(Ee&536870912)===0||Me?yu():536870912);var t=wt.current;return t!==null&&(t.flags|=32),Dt}function xt(t,l,o){(t===Ve&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)&&(Ul(t,0),_n(t,Ee,Dt,!1)),Wl(t,o),((be&2)===0||t!==Ve)&&(t===Ve&&((be&2)===0&&(Kn|=o),ze===4&&_n(t,Ee,Dt,!1)),Ot(t))}function rd(t,l,o){if((be&6)!==0)throw Error(a(327));var u=!o&&(l&124)===0&&(l&t.expiredLanes)===0||$l(t,l),f=u?ty(t,l):gr(t,l,!0),m=u;do{if(f===0){bl&&!u&&_n(t,l,0,!1);break}else{if(o=t.current.alternate,m&&!jh(o)){f=gr(t,l,!1),m=!1;continue}if(f===2){if(m=l,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var x=t;f=Ii;var M=x.current.memoizedState.isDehydrated;if(M&&(Ul(x,T).flags|=256),T=gr(x,T,!1),T!==2){if(ar&&!M){x.errorRecoveryDisabledLanes|=m,Kn|=m,f=4;break e}m=mt,mt=f,m!==null&&(mt===null?mt=m:mt.push.apply(mt,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Ul(t,0),_n(t,l,0,!0);break}e:{switch(u=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:_n(u,l,Dt,!Cn);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(f=ur+300-Gt(),10<f)){if(_n(u,l,Dt,!Cn),io(u,0,!0)!==0)break e;u.timeoutHandle=qd(ud.bind(null,u,o,mt,Xo,rr,l,Dt,Kn,Nl,Cn,m,2,-0,0),f);break e}ud(u,o,mt,Xo,rr,l,Dt,Kn,Nl,Cn,m,0,-0,0)}}break}while(!0);Ot(t)}function ud(t,l,o,u,f,m,T,x,M,I,B,Y,P,q){if(t.timeoutHandle=-1,Y=l.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Bi={stylesheets:null,count:0,unsuspend:Ly},nd(l),Y=Vy(),Y!==null)){t.cancelPendingCommit=Y(hd.bind(null,t,l,m,o,u,f,T,x,M,B,1,P,q)),_n(t,m,T,!I);return}hd(t,l,m,o,u,f,T,x,M)}function jh(t){for(var l=t;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!ht(m(),f))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function _n(t,l,o,u){l&=~sr,l&=~Kn,t.suspendedLanes|=l,t.pingedLanes&=~l,u&&(t.warmLanes|=l),u=t.expirationTimes;for(var f=l;0<f;){var m=31-gt(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&Tu(t,o,l)}function Ko(){return(be&6)===0?(Pi(0),!1):!0}function mr(){if(Ce!==null){if(Ne===0)var t=Ce.return;else t=Ce,Kt=On=null,ws(t),_l=null,Ai=0,t=Ce;for(;t!==null;)zf(t.alternate,t),t=t.return;Ce=null}}function Ul(t,l){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,yy(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),mr(),Ve=t,Ce=o=Jt(t.current,null),Ee=l,Ne=0,Ct=null,Cn=!1,bl=$l(t,l),ar=!1,Nl=Dt=sr=Kn=Sn=ze=0,mt=Ii=null,rr=!1,(l&8)!==0&&(l|=l&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=l;0<u;){var f=31-gt(u),m=1<<f;l|=t[f],u&=~m}return ln=l,yo(),o}function cd(t,l){ye=null,k.H=Vo,l===hi||l===Mo?(l=Mc(),Ne=3):l===Ec?(l=Mc(),Ne=4):Ne=l===bf?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ct=l,Ce===null&&(ze=1,Bo(t,Mt(l,t.current)))}function fd(){var t=k.H;return k.H=Vo,t===null?Vo:t}function dd(){var t=k.A;return k.A=$h,t}function pr(){ze=4,Cn||(Ee&4194048)!==Ee&&wt.current!==null||(bl=!0),(Sn&134217727)===0&&(Kn&134217727)===0||Ve===null||_n(Ve,Ee,Dt,!1)}function gr(t,l,o){var u=be;be|=2;var f=fd(),m=dd();(Ve!==t||Ee!==l)&&(Xo=null,Ul(t,l)),l=!1;var T=ze;e:do try{if(Ne!==0&&Ce!==null){var x=Ce,M=Ct;switch(Ne){case 8:mr(),T=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(l=!0);var I=Ne;if(Ne=0,Ct=null,Il(t,x,M,I),o&&bl){T=0;break e}break;default:I=Ne,Ne=0,Ct=null,Il(t,x,M,I)}}ey(),T=ze;break}catch(B){cd(t,B)}while(!0);return l&&t.shellSuspendCounter++,Kt=On=null,be=u,k.H=f,k.A=m,Ce===null&&(Ve=null,Ee=0,yo()),T}function ey(){for(;Ce!==null;)md(Ce)}function ty(t,l){var o=be;be|=2;var u=fd(),f=dd();Ve!==t||Ee!==l?(Xo=null,Qo=Gt()+500,Ul(t,l)):bl=$l(t,l);e:do try{if(Ne!==0&&Ce!==null){l=Ce;var m=Ct;t:switch(Ne){case 1:Ne=0,Ct=null,Il(t,l,m,1);break;case 2:case 9:if(_c(m)){Ne=0,Ct=null,pd(l);break}l=function(){Ne!==2&&Ne!==9||Ve!==t||(Ne=7),Ot(t)},m.then(l,l);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:_c(m)?(Ne=0,Ct=null,pd(l)):(Ne=0,Ct=null,Il(t,l,m,7));break;case 5:var T=null;switch(Ce.tag){case 26:T=Ce.memoizedState;case 5:case 27:var x=Ce;if(!T||Kd(T)){Ne=0,Ct=null;var M=x.sibling;if(M!==null)Ce=M;else{var I=x.return;I!==null?(Ce=I,Zo(I)):Ce=null}break t}}Ne=0,Ct=null,Il(t,l,m,5);break;case 6:Ne=0,Ct=null,Il(t,l,m,6);break;case 8:mr(),ze=6;break e;default:throw Error(a(462))}}ny();break}catch(B){cd(t,B)}while(!0);return Kt=On=null,k.H=u,k.A=f,be=o,Ce!==null?0:(Ve=null,Ee=0,yo(),ze)}function ny(){for(;Ce!==null&&!Kl();)md(Ce)}function md(t){var l=Hf(t.alternate,t,ln);t.memoizedProps=t.pendingProps,l===null?Zo(t):Ce=l}function pd(t){var l=t,o=l.alternate;switch(l.tag){case 15:case 0:l=Lf(o,l,l.pendingProps,l.type,void 0,Ee);break;case 11:l=Lf(o,l,l.pendingProps,l.type.render,l.ref,Ee);break;case 5:ws(l);default:zf(o,l),l=Ce=pc(l,ln),l=Hf(o,l,ln)}t.memoizedProps=t.pendingProps,l===null?Zo(t):Ce=l}function Il(t,l,o,u){Kt=On=null,ws(l),_l=null,Ai=0;var f=l.return;try{if(Fh(t,f,l,o,Ee)){ze=1,Bo(t,Mt(o,t.current)),Ce=null;return}}catch(m){if(f!==null)throw Ce=f,m;ze=1,Bo(t,Mt(o,t.current)),Ce=null;return}l.flags&32768?(Me||u===1?t=!0:bl||(Ee&536870912)!==0?t=!1:(Cn=t=!0,(u===2||u===9||u===3||u===6)&&(u=wt.current,u!==null&&u.tag===13&&(u.flags|=16384))),gd(l,t)):Zo(l)}function Zo(t){var l=t;do{if((l.flags&32768)!==0){gd(l,Cn);return}t=l.return;var o=Qh(l.alternate,l,ln);if(o!==null){Ce=o;return}if(l=l.sibling,l!==null){Ce=l;return}Ce=l=t}while(l!==null);ze===0&&(ze=5)}function gd(t,l){do{var o=Xh(t.alternate,t);if(o!==null){o.flags&=32767,Ce=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=o}while(t!==null);ze=6,Ce=null}function hd(t,l,o,u,f,m,T,x,M){t.cancelPendingCommit=null;do $o();while(tt!==0);if((be&6)!==0)throw Error(a(327));if(l!==null){if(l===t.current)throw Error(a(177));if(m=l.lanes|l.childLanes,m|=os,Lg(t,o,m,T,x,M),t===Ve&&(Ce=Ve=null,Ee=0),wl=l,En=t,Dl=o,cr=m,fr=f,ad=u,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ay(to,function(){return Sd(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,f=Q.p,Q.p=2,T=be,be|=4;try{Kh(t,l,o)}finally{be=T,Q.p=f,k.T=u}}tt=1,yd(),vd(),Td()}}function yd(){if(tt===1){tt=0;var t=En,l=wl,o=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||o){o=k.T,k.T=null;var u=Q.p;Q.p=2;var f=be;be|=4;try{jf(l,t);var m=Rr,T=ic(t.containerInfo),x=m.focusedElem,M=m.selectionRange;if(T!==x&&x&&x.ownerDocument&&lc(x.ownerDocument.documentElement,x)){if(M!==null&&es(x)){var I=M.start,B=M.end;if(B===void 0&&(B=I),"selectionStart"in x)x.selectionStart=I,x.selectionEnd=Math.min(B,x.value.length);else{var Y=x.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var q=P.getSelection(),pe=x.textContent.length,fe=Math.min(M.start,pe),Ie=M.end===void 0?fe:Math.min(M.end,pe);!q.extend&&fe>Ie&&(T=Ie,Ie=fe,fe=T);var b=nc(x,fe),R=nc(x,Ie);if(b&&R&&(q.rangeCount!==1||q.anchorNode!==b.node||q.anchorOffset!==b.offset||q.focusNode!==R.node||q.focusOffset!==R.offset)){var U=Y.createRange();U.setStart(b.node,b.offset),q.removeAllRanges(),fe>Ie?(q.addRange(U),q.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),q.addRange(U))}}}}for(Y=[],q=x;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var z=Y[x];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}ua=!!Mr,Rr=Mr=null}finally{be=f,Q.p=u,k.T=o}}t.current=l,tt=2}}function vd(){if(tt===2){tt=0;var t=En,l=wl,o=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||o){o=k.T,k.T=null;var u=Q.p;Q.p=2;var f=be;be|=4;try{Kf(t,l.alternate,l)}finally{be=f,Q.p=u,k.T=o}}tt=3}}function Td(){if(tt===4||tt===3){tt=0,Ag();var t=En,l=wl,o=Dl,u=ad;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?tt=5:(tt=0,wl=En=null,Cd(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(xn=null),Ia(o),l=l.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Zl,l,void 0,(l.current.flags&128)===128)}catch{}if(u!==null){l=k.T,f=Q.p,Q.p=2,k.T=null;try{for(var m=t.onRecoverableError,T=0;T<u.length;T++){var x=u[T];m(x.value,{componentStack:x.stack})}}finally{k.T=l,Q.p=f}}(Dl&3)!==0&&$o(),Ot(t),f=t.pendingLanes,(o&4194090)!==0&&(f&42)!==0?t===dr?Li++:(Li=0,dr=t):Li=0,Pi(0)}}function Cd(t,l){(t.pooledCacheLanes&=l)===0&&(l=t.pooledCache,l!=null&&(t.pooledCache=null,pi(l)))}function $o(t){return yd(),vd(),Td(),Sd()}function Sd(){if(tt!==5)return!1;var t=En,l=cr;cr=0;var o=Ia(Dl),u=k.T,f=Q.p;try{Q.p=32>o?32:o,k.T=null,o=fr,fr=null;var m=En,T=Dl;if(tt=0,wl=En=null,Dl=0,(be&6)!==0)throw Error(a(331));var x=be;if(be|=4,id(m.current),td(m,m.current,T,o),be=x,Pi(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Zl,m)}catch{}return!0}finally{Q.p=f,k.T=u,Cd(t,l)}}function xd(t,l,o){l=Mt(o,l),l=Ys(t.stateNode,l,2),t=mn(t,l,2),t!==null&&(Wl(t,2),Ot(t))}function Pe(t,l,o){if(t.tag===3)xd(t,t,o);else for(;l!==null;){if(l.tag===3){xd(l,t,o);break}else if(l.tag===1){var u=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xn===null||!xn.has(u))){t=Mt(o,t),o=Mf(2),u=mn(l,o,2),u!==null&&(Rf(o,u,l,t),Wl(u,2),Ot(u));break}}l=l.return}}function hr(t,l,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Wh;var f=new Set;u.set(l,f)}else f=u.get(l),f===void 0&&(f=new Set,u.set(l,f));f.has(o)||(ar=!0,f.add(o),t=ly.bind(null,t,l,o),l.then(t,t))}function ly(t,l,o){var u=t.pingCache;u!==null&&u.delete(l),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ve===t&&(Ee&o)===o&&(ze===4||ze===3&&(Ee&62914560)===Ee&&300>Gt()-ur?(be&2)===0&&Ul(t,0):sr|=o,Nl===Ee&&(Nl=0)),Ot(t)}function Ed(t,l){l===0&&(l=vu()),t=pl(t,l),t!==null&&(Wl(t,l),Ot(t))}function iy(t){var l=t.memoizedState,o=0;l!==null&&(o=l.retryLane),Ed(t,o)}function oy(t,l){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(l),Ed(t,o)}function ay(t,l){return st(t,l)}var Wo=null,Ll=null,yr=!1,jo=!1,vr=!1,Zn=0;function Ot(t){t!==Ll&&t.next===null&&(Ll===null?Wo=Ll=t:Ll=Ll.next=t),jo=!0,yr||(yr=!0,ry())}function Pi(t,l){if(!vr&&jo){vr=!0;do for(var o=!1,u=Wo;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,x=u.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=f&~(T&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Rd(u,m))}else m=Ee,m=io(u,u===Ve?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||$l(u,m)||(o=!0,Rd(u,m));u=u.next}while(o);vr=!1}}function sy(){_d()}function _d(){jo=yr=!1;var t=0;Zn!==0&&(hy()&&(t=Zn),Zn=0);for(var l=Gt(),o=null,u=Wo;u!==null;){var f=u.next,m=Ad(u,l);m===0?(u.next=null,o===null?Wo=f:o.next=f,f===null&&(Ll=o)):(o=u,(t!==0||(m&3)!==0)&&(jo=!0)),u=f}Pi(t)}function Ad(t,l){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-gt(m),x=1<<T,M=f[T];M===-1?((x&o)===0||(x&u)!==0)&&(f[T]=Ig(x,l)):M<=l&&(t.expiredLanes|=x),m&=~x}if(l=Ve,o=Ee,o=io(t,t===l?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===l&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Xl(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||$l(t,o)){if(l=o&-o,l===t.callbackPriority)return l;switch(u!==null&&Xl(u),Ia(o)){case 2:case 8:o=gu;break;case 32:o=to;break;case 268435456:o=hu;break;default:o=to}return u=Md.bind(null,t),o=st(o,u),t.callbackPriority=l,t.callbackNode=o,l}return u!==null&&u!==null&&Xl(u),t.callbackPriority=2,t.callbackNode=null,2}function Md(t,l){if(tt!==0&&tt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if($o()&&t.callbackNode!==o)return null;var u=Ee;return u=io(t,t===Ve?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(rd(t,u,l),Ad(t,Gt()),t.callbackNode!=null&&t.callbackNode===o?Md.bind(null,t):null)}function Rd(t,l){if($o())return null;rd(t,l,!0)}function ry(){vy(function(){(be&6)!==0?st(pu,sy):_d()})}function Tr(){return Zn===0&&(Zn=yu()),Zn}function bd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:uo(""+t)}function Nd(t,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,t.id&&o.setAttribute("form",t.id),l.parentNode.insertBefore(o,l),t=new FormData(t),o.parentNode.removeChild(o),t}function uy(t,l,o,u,f){if(l==="submit"&&o&&o.stateNode===f){var m=bd((f[ut]||null).action),T=u.submitter;T&&(l=(l=T[ut]||null)?bd(l.formAction):T.getAttribute("formAction"),l!==null&&(m=l,T=null));var x=new po("action","action",null,u,f);t.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zn!==0){var M=T?Nd(f,T):new FormData(f);ks(o,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(x.preventDefault(),M=T?Nd(f,T):new FormData(f),ks(o,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var Cr=0;Cr<is.length;Cr++){var Sr=is[Cr],cy=Sr.toLowerCase(),fy=Sr[0].toUpperCase()+Sr.slice(1);Lt(cy,"on"+fy)}Lt(sc,"onAnimationEnd"),Lt(rc,"onAnimationIteration"),Lt(uc,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(bh,"onTransitionRun"),Lt(Nh,"onTransitionStart"),Lt(wh,"onTransitionCancel"),Lt(cc,"onTransitionEnd"),il("onMouseEnter",["mouseout","mouseover"]),il("onMouseLeave",["mouseout","mouseover"]),il("onPointerEnter",["pointerout","pointerover"]),il("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vi));function wd(t,l){l=(l&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var m=void 0;if(l)for(var T=u.length-1;0<=T;T--){var x=u[T],M=x.instance,I=x.currentTarget;if(x=x.listener,M!==m&&f.isPropagationStopped())break e;m=x,f.currentTarget=I;try{m(f)}catch(B){Ho(B)}f.currentTarget=null,m=M}else for(T=0;T<u.length;T++){if(x=u[T],M=x.instance,I=x.currentTarget,x=x.listener,M!==m&&f.isPropagationStopped())break e;m=x,f.currentTarget=I;try{m(f)}catch(B){Ho(B)}f.currentTarget=null,m=M}}}}function Se(t,l){var o=l[La];o===void 0&&(o=l[La]=new Set);var u=t+"__bubble";o.has(u)||(Dd(l,t,2,!1),o.add(u))}function xr(t,l,o){var u=0;l&&(u|=4),Dd(o,t,u,l)}var ea="_reactListening"+Math.random().toString(36).slice(2);function Er(t){if(!t[ea]){t[ea]=!0,Eu.forEach(function(o){o!=="selectionchange"&&(dy.has(o)||xr(o,!1,t),xr(o,!0,t))});var l=t.nodeType===9?t:t.ownerDocument;l===null||l[ea]||(l[ea]=!0,xr("selectionchange",!1,l))}}function Dd(t,l,o,u){switch(tm(l)){case 2:var f=ky;break;case 8:f=Hy;break;default:f=qr}o=f.bind(null,l,o,t),f=void 0,!Fa||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(l,o,{capture:!0,passive:f}):t.addEventListener(l,o,!0):f!==void 0?t.addEventListener(l,o,{passive:f}):t.addEventListener(l,o,!1)}function _r(t,l,o,u,f){var m=u;if((l&1)===0&&(l&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var x=u.stateNode.containerInfo;if(x===f)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;x!==null;){if(T=tl(x),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=m=T;continue e}x=x.parentNode}}u=u.return}qu(function(){var I=m,B=Oa(o),Y=[];e:{var P=fc.get(t);if(P!==void 0){var q=po,pe=t;switch(t){case"keypress":if(fo(o)===0)break e;case"keydown":case"keyup":q=ah;break;case"focusin":pe="focus",q=Ka;break;case"focusout":pe="blur",q=Ka;break;case"beforeblur":case"afterblur":q=Ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=uh;break;case sc:case rc:case uc:q=$g;break;case cc:q=fh;break;case"scroll":case"scrollend":q=Jg;break;case"wheel":q=mh;break;case"copy":case"cut":case"paste":q=jg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=zu;break;case"toggle":case"beforetoggle":q=gh}var fe=(l&4)!==0,Ie=!fe&&(t==="scroll"||t==="scrollend"),b=fe?P!==null?P+"Capture":null:P;fe=[];for(var R=I,U;R!==null;){var z=R;if(U=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||U===null||b===null||(z=ti(R,b),z!=null&&fe.push(qi(R,z,U))),Ie)break;R=R.return}0<fe.length&&(P=new q(P,pe,null,o,B),Y.push({event:P,listeners:fe}))}}if((l&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&o!==za&&(pe=o.relatedTarget||o.fromElement)&&(tl(pe)||pe[el]))break e;if((q||P)&&(P=B.window===B?B:(P=B.ownerDocument)?P.defaultView||P.parentWindow:window,q?(pe=o.relatedTarget||o.toElement,q=I,pe=pe?tl(pe):null,pe!==null&&(Ie=d(pe),fe=pe.tag,pe!==Ie||fe!==5&&fe!==27&&fe!==6)&&(pe=null)):(q=null,pe=I),q!==pe)){if(fe=Hu,z="onMouseLeave",b="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(fe=zu,z="onPointerLeave",b="onPointerEnter",R="pointer"),Ie=q==null?P:ei(q),U=pe==null?P:ei(pe),P=new fe(z,R+"leave",q,o,B),P.target=Ie,P.relatedTarget=U,z=null,tl(B)===I&&(fe=new fe(b,R+"enter",pe,o,B),fe.target=U,fe.relatedTarget=Ie,z=fe),Ie=z,q&&pe)t:{for(fe=q,b=pe,R=0,U=fe;U;U=Pl(U))R++;for(U=0,z=b;z;z=Pl(z))U++;for(;0<R-U;)fe=Pl(fe),R--;for(;0<U-R;)b=Pl(b),U--;for(;R--;){if(fe===b||b!==null&&fe===b.alternate)break t;fe=Pl(fe),b=Pl(b)}fe=null}else fe=null;q!==null&&Ud(Y,P,q,fe,!1),pe!==null&&Ie!==null&&Ud(Y,Ie,pe,fe,!0)}}e:{if(P=I?ei(I):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var te=Zu;else if(Xu(P))if($u)te=Ah;else{te=Eh;var ve=xh}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?I&&Ba(I.elementType)&&(te=Zu):te=_h;if(te&&(te=te(t,I))){Ku(Y,te,o,B);break e}ve&&ve(t,P,I),t==="focusout"&&I&&P.type==="number"&&I.memoizedProps.value!=null&&Ha(P,"number",P.value)}switch(ve=I?ei(I):window,t){case"focusin":(Xu(ve)||ve.contentEditable==="true")&&(fl=ve,ts=I,ui=null);break;case"focusout":ui=ts=fl=null;break;case"mousedown":ns=!0;break;case"contextmenu":case"mouseup":case"dragend":ns=!1,oc(Y,o,B);break;case"selectionchange":if(Rh)break;case"keydown":case"keyup":oc(Y,o,B)}var ae;if($a)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else cl?Ju(t,o)&&(de="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(de="onCompositionStart");de&&(Ou&&o.locale!=="ko"&&(cl||de!=="onCompositionStart"?de==="onCompositionEnd"&&cl&&(ae=Gu()):(un=B,Ja="value"in un?un.value:un.textContent,cl=!0)),ve=ta(I,de),0<ve.length&&(de=new Bu(de,t,null,o,B),Y.push({event:de,listeners:ve}),ae?de.data=ae:(ae=Qu(o),ae!==null&&(de.data=ae)))),(ae=yh?vh(t,o):Th(t,o))&&(de=ta(I,"onBeforeInput"),0<de.length&&(ve=new Bu("onBeforeInput","beforeinput",null,o,B),Y.push({event:ve,listeners:de}),ve.data=ae)),uy(Y,t,I,o,B)}wd(Y,l)})}function qi(t,l,o){return{instance:t,listener:l,currentTarget:o}}function ta(t,l){for(var o=l+"Capture",u=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ti(t,o),f!=null&&u.unshift(qi(t,f,m)),f=ti(t,l),f!=null&&u.push(qi(t,f,m))),t.tag===3)return u;t=t.return}return[]}function Pl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ud(t,l,o,u,f){for(var m=l._reactName,T=[];o!==null&&o!==u;){var x=o,M=x.alternate,I=x.stateNode;if(x=x.tag,M!==null&&M===u)break;x!==5&&x!==26&&x!==27||I===null||(M=I,f?(I=ti(o,m),I!=null&&T.unshift(qi(o,I,M))):f||(I=ti(o,m),I!=null&&T.push(qi(o,I,M)))),o=o.return}T.length!==0&&t.push({event:l,listeners:T})}var my=/\r\n?/g,py=/\u0000|\uFFFD/g;function Id(t){return(typeof t=="string"?t:""+t).replace(my,`
`).replace(py,"")}function Ld(t,l){return l=Id(l),Id(t)===l}function na(){}function Ue(t,l,o,u,f,m){switch(o){case"children":typeof u=="string"?l==="body"||l==="textarea"&&u===""||sl(t,u):(typeof u=="number"||typeof u=="bigint")&&l!=="body"&&sl(t,""+u);break;case"className":ao(t,"class",u);break;case"tabIndex":ao(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(t,o,u);break;case"style":Pu(t,u,m);break;case"data":if(l!=="object"){ao(t,"data",u);break}case"src":case"href":if(u===""&&(l!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=uo(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(l!=="input"&&Ue(t,l,"name",f.name,f,null),Ue(t,l,"formEncType",f.formEncType,f,null),Ue(t,l,"formMethod",f.formMethod,f,null),Ue(t,l,"formTarget",f.formTarget,f,null)):(Ue(t,l,"encType",f.encType,f,null),Ue(t,l,"method",f.method,f,null),Ue(t,l,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=uo(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=na);break;case"onScroll":u!=null&&Se("scroll",t);break;case"onScrollEnd":u!=null&&Se("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=uo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Se("beforetoggle",t),Se("toggle",t),oo(t,"popover",u);break;case"xlinkActuate":Yt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":oo(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yg.get(o)||o,oo(t,o,u))}}function Ar(t,l,o,u,f,m){switch(o){case"style":Pu(t,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof u=="string"?sl(t,u):(typeof u=="number"||typeof u=="bigint")&&sl(t,""+u);break;case"onScroll":u!=null&&Se("scroll",t);break;case"onScrollEnd":u!=null&&Se("scrollend",t);break;case"onClick":u!=null&&(t.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_u.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),l=o.slice(2,f?o.length-7:void 0),m=t[ut]||null,m=m!=null?m[o]:null,typeof m=="function"&&t.removeEventListener(l,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(l,u,f);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):oo(t,o,u)}}}function nt(t,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",t),Se("load",t);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Ue(t,l,m,T,o,null)}}f&&Ue(t,l,"srcSet",o.srcSet,o,null),u&&Ue(t,l,"src",o.src,o,null);return;case"input":Se("invalid",t);var x=m=T=f=null,M=null,I=null;for(u in o)if(o.hasOwnProperty(u)){var B=o[u];if(B!=null)switch(u){case"name":f=B;break;case"type":T=B;break;case"checked":M=B;break;case"defaultChecked":I=B;break;case"value":m=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,l));break;default:Ue(t,l,u,B,o,null)}}Du(t,m,x,M,I,T,f,!1),so(t);return;case"select":Se("invalid",t),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(x=o[f],x!=null))switch(f){case"value":m=x;break;case"defaultValue":T=x;break;case"multiple":u=x;default:Ue(t,l,f,x,o,null)}l=m,o=T,t.multiple=!!u,l!=null?al(t,!!u,l,!1):o!=null&&al(t,!!u,o,!0);return;case"textarea":Se("invalid",t),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(x=o[T],x!=null))switch(T){case"value":u=x;break;case"defaultValue":f=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:Ue(t,l,T,x,o,null)}Iu(t,u,f,m),so(t);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ue(t,l,M,u,o,null)}return;case"dialog":Se("beforetoggle",t),Se("toggle",t),Se("cancel",t),Se("close",t);break;case"iframe":case"object":Se("load",t);break;case"video":case"audio":for(u=0;u<Vi.length;u++)Se(Vi[u],t);break;case"image":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"embed":case"source":case"link":Se("error",t),Se("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Ue(t,l,I,u,o,null)}return;default:if(Ba(l)){for(B in o)o.hasOwnProperty(B)&&(u=o[B],u!==void 0&&Ar(t,l,B,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&Ue(t,l,x,u,o,null))}function gy(t,l,o,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,x=null,M=null,I=null,B=null;for(q in o){var Y=o[q];if(o.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":M=Y;default:u.hasOwnProperty(q)||Ue(t,l,q,null,u,Y)}}for(var P in u){var q=u[P];if(Y=o[P],u.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":m=q;break;case"name":f=q;break;case"checked":I=q;break;case"defaultChecked":B=q;break;case"value":T=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,l));break;default:q!==Y&&Ue(t,l,P,q,u,Y)}}ka(t,T,x,M,I,B,m,f);return;case"select":q=T=x=P=null;for(m in o)if(M=o[m],o.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":q=M;default:u.hasOwnProperty(m)||Ue(t,l,m,null,u,M)}for(f in u)if(m=u[f],M=o[f],u.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":P=m;break;case"defaultValue":x=m;break;case"multiple":T=m;default:m!==M&&Ue(t,l,f,m,u,M)}l=x,o=T,u=q,P!=null?al(t,!!o,P,!1):!!u!=!!o&&(l!=null?al(t,!!o,l,!0):al(t,!!o,o?[]:"",!1));return;case"textarea":q=P=null;for(x in o)if(f=o[x],o.hasOwnProperty(x)&&f!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ue(t,l,x,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":P=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Ue(t,l,T,f,u,m)}Uu(t,P,q);return;case"option":for(var pe in o)if(P=o[pe],o.hasOwnProperty(pe)&&P!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:Ue(t,l,pe,null,u,P)}for(M in u)if(P=u[M],q=o[M],u.hasOwnProperty(M)&&P!==q&&(P!=null||q!=null))switch(M){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ue(t,l,M,P,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in o)P=o[fe],o.hasOwnProperty(fe)&&P!=null&&!u.hasOwnProperty(fe)&&Ue(t,l,fe,null,u,P);for(I in u)if(P=u[I],q=o[I],u.hasOwnProperty(I)&&P!==q&&(P!=null||q!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,l));break;default:Ue(t,l,I,P,u,q)}return;default:if(Ba(l)){for(var Ie in o)P=o[Ie],o.hasOwnProperty(Ie)&&P!==void 0&&!u.hasOwnProperty(Ie)&&Ar(t,l,Ie,void 0,u,P);for(B in u)P=u[B],q=o[B],!u.hasOwnProperty(B)||P===q||P===void 0&&q===void 0||Ar(t,l,B,P,u,q);return}}for(var b in o)P=o[b],o.hasOwnProperty(b)&&P!=null&&!u.hasOwnProperty(b)&&Ue(t,l,b,null,u,P);for(Y in u)P=u[Y],q=o[Y],!u.hasOwnProperty(Y)||P===q||P==null&&q==null||Ue(t,l,Y,P,u,q)}var Mr=null,Rr=null;function la(t){return t.nodeType===9?t:t.ownerDocument}function Pd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vd(t,l){if(t===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&l==="foreignObject"?0:t}function br(t,l){return t==="textarea"||t==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Nr=null;function hy(){var t=window.event;return t&&t.type==="popstate"?t===Nr?!1:(Nr=t,!0):(Nr=null,!1)}var qd=typeof setTimeout=="function"?setTimeout:void 0,yy=typeof clearTimeout=="function"?clearTimeout:void 0,Gd=typeof Promise=="function"?Promise:void 0,vy=typeof queueMicrotask=="function"?queueMicrotask:typeof Gd<"u"?function(t){return Gd.resolve(null).then(t).catch(Ty)}:qd;function Ty(t){setTimeout(function(){throw t})}function An(t){return t==="head"}function kd(t,l){var o=l,u=0,f=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var T=t.ownerDocument;if(o&1&&Gi(T.documentElement),o&2&&Gi(T.body),o&4)for(o=T.head,Gi(o),T=o.firstChild;T;){var x=T.nextSibling,M=T.nodeName;T[jl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=x}}if(f===0){t.removeChild(m),Ji(l);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);Ji(l)}function wr(t){var l=t.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wr(o),Pa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function Cy(t,l,o,u){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==l.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[jl])switch(l){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(l==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function Sy(t,l,o){if(l==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Vt(t.nextSibling),t===null))return null;return t}function Dr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function xy(t,l){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")l();else{var u=function(){l(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Vt(t){for(;t!=null;t=t.nextSibling){var l=t.nodeType;if(l===1||l===3)break;if(l===8){if(l=t.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return t}var Ur=null;function Hd(t){t=t.previousSibling;for(var l=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(l===0)return t;l--}else o==="/$"&&l++}t=t.previousSibling}return null}function Bd(t,l,o){switch(l=la(o),t){case"html":if(t=l.documentElement,!t)throw Error(a(452));return t;case"head":if(t=l.head,!t)throw Error(a(453));return t;case"body":if(t=l.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Gi(t){for(var l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Pa(t)}var Ut=new Map,zd=new Set;function ia(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var on=Q.d;Q.d={f:Ey,r:_y,D:Ay,C:My,L:Ry,m:by,X:wy,S:Ny,M:Dy};function Ey(){var t=on.f(),l=Ko();return t||l}function _y(t){var l=nl(t);l!==null&&l.tag===5&&l.type==="form"?rf(l):on.r(t)}var Vl=typeof document>"u"?null:document;function Od(t,l,o){var u=Vl;if(u&&typeof l=="string"&&l){var f=At(l);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),zd.has(f)||(zd.add(f),t={rel:t,crossOrigin:o,href:l},u.querySelector(f)===null&&(l=u.createElement("link"),nt(l,"link",t),Ze(l),u.head.appendChild(l)))}}function Ay(t){on.D(t),Od("dns-prefetch",t,null)}function My(t,l){on.C(t,l),Od("preconnect",t,l)}function Ry(t,l,o){on.L(t,l,o);var u=Vl;if(u&&t&&l){var f='link[rel="preload"][as="'+At(l)+'"]';l==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+At(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+At(o.imageSizes)+'"]')):f+='[href="'+At(t)+'"]';var m=f;switch(l){case"style":m=ql(t);break;case"script":m=Gl(t)}Ut.has(m)||(t=v({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:t,as:l},o),Ut.set(m,t),u.querySelector(f)!==null||l==="style"&&u.querySelector(ki(m))||l==="script"&&u.querySelector(Hi(m))||(l=u.createElement("link"),nt(l,"link",t),Ze(l),u.head.appendChild(l)))}}function by(t,l){on.m(t,l);var o=Vl;if(o&&t){var u=l&&typeof l.as=="string"?l.as:"script",f='link[rel="modulepreload"][as="'+At(u)+'"][href="'+At(t)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Gl(t)}if(!Ut.has(m)&&(t=v({rel:"modulepreload",href:t},l),Ut.set(m,t),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hi(m)))return}u=o.createElement("link"),nt(u,"link",t),Ze(u),o.head.appendChild(u)}}}function Ny(t,l,o){on.S(t,l,o);var u=Vl;if(u&&t){var f=ll(u).hoistableStyles,m=ql(t);l=l||"default";var T=f.get(m);if(!T){var x={loading:0,preload:null};if(T=u.querySelector(ki(m)))x.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":l},o),(o=Ut.get(m))&&Ir(t,o);var M=T=u.createElement("link");Ze(M),nt(M,"link",t),M._p=new Promise(function(I,B){M.onload=I,M.onerror=B}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,oa(T,l,u)}T={type:"stylesheet",instance:T,count:1,state:x},f.set(m,T)}}}function wy(t,l){on.X(t,l);var o=Vl;if(o&&t){var u=ll(o).hoistableScripts,f=Gl(t),m=u.get(f);m||(m=o.querySelector(Hi(f)),m||(t=v({src:t,async:!0},l),(l=Ut.get(f))&&Lr(t,l),m=o.createElement("script"),Ze(m),nt(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Dy(t,l){on.M(t,l);var o=Vl;if(o&&t){var u=ll(o).hoistableScripts,f=Gl(t),m=u.get(f);m||(m=o.querySelector(Hi(f)),m||(t=v({src:t,async:!0,type:"module"},l),(l=Ut.get(f))&&Lr(t,l),m=o.createElement("script"),Ze(m),nt(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Yd(t,l,o,u){var f=(f=V.current)?ia(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=ql(o.href),o=ll(f).hoistableStyles,u=o.get(l),u||(u={type:"style",instance:null,count:0,state:null},o.set(l,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ql(o.href);var m=ll(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(ki(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Ut.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ut.set(t,o),m||Uy(f,t,o,T.state))),l&&u===null)throw Error(a(528,""));return T}if(l&&u!==null)throw Error(a(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Gl(o),o=ll(f).hoistableScripts,u=o.get(l),u||(u={type:"script",instance:null,count:0,state:null},o.set(l,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ql(t){return'href="'+At(t)+'"'}function ki(t){return'link[rel="stylesheet"]['+t+"]"}function Fd(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Uy(t,l,o,u){t.querySelector('link[rel="preload"][as="style"]['+l+"]")?u.loading=1:(l=t.createElement("link"),u.preload=l,l.addEventListener("load",function(){return u.loading|=1}),l.addEventListener("error",function(){return u.loading|=2}),nt(l,"link",o),Ze(l),t.head.appendChild(l))}function Gl(t){return'[src="'+At(t)+'"]'}function Hi(t){return"script[async]"+t}function Jd(t,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var u=t.querySelector('style[data-href~="'+At(o.href)+'"]');if(u)return l.instance=u,Ze(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ze(u),nt(u,"style",f),oa(u,o.precedence,t),l.instance=u;case"stylesheet":f=ql(o.href);var m=t.querySelector(ki(f));if(m)return l.state.loading|=4,l.instance=m,Ze(m),m;u=Fd(o),(f=Ut.get(f))&&Ir(u,f),m=(t.ownerDocument||t).createElement("link"),Ze(m);var T=m;return T._p=new Promise(function(x,M){T.onload=x,T.onerror=M}),nt(m,"link",u),l.state.loading|=4,oa(m,o.precedence,t),l.instance=m;case"script":return m=Gl(o.src),(f=t.querySelector(Hi(m)))?(l.instance=f,Ze(f),f):(u=o,(f=Ut.get(m))&&(u=v({},o),Lr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ze(f),nt(f,"link",u),t.head.appendChild(f),l.instance=f);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(u=l.instance,l.state.loading|=4,oa(u,o.precedence,t));return l.instance}function oa(t,l,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var x=u[T];if(x.dataset.precedence===l)m=x;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(t,l.firstChild))}function Ir(t,l){t.crossOrigin==null&&(t.crossOrigin=l.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=l.referrerPolicy),t.title==null&&(t.title=l.title)}function Lr(t,l){t.crossOrigin==null&&(t.crossOrigin=l.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=l.referrerPolicy),t.integrity==null&&(t.integrity=l.integrity)}var aa=null;function Qd(t,l,o){if(aa===null){var u=new Map,f=aa=new Map;f.set(o,u)}else f=aa,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var m=o[f];if(!(m[jl]||m[lt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(l)||"";T=t+T;var x=u.get(T);x?x.push(m):u.set(T,[m])}}return u}function Xd(t,l,o){t=t.ownerDocument||t,t.head.insertBefore(o,l==="title"?t.querySelector("head > title"):null)}function Iy(t,l,o){if(o===1||l.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return t=l.disabled,typeof l.precedence=="string"&&t==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Kd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bi=null;function Ly(){}function Py(t,l,o){if(Bi===null)throw Error(a(475));var u=Bi;if(l.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=ql(o.href),m=t.querySelector(ki(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=sa.bind(u),t.then(u,u)),l.state.loading|=4,l.instance=m,Ze(m);return}m=t.ownerDocument||t,o=Fd(o),(f=Ut.get(f))&&Ir(o,f),m=m.createElement("link"),Ze(m);var T=m;T._p=new Promise(function(x,M){T.onload=x,T.onerror=M}),nt(m,"link",o),l.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(u.count++,l=sa.bind(u),t.addEventListener("load",l),t.addEventListener("error",l))}}function Vy(){if(Bi===null)throw Error(a(475));var t=Bi;return t.stylesheets&&t.count===0&&Pr(t,t.stylesheets),0<t.count?function(l){var o=setTimeout(function(){if(t.stylesheets&&Pr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(o)}}:null}function sa(){if(this.count--,this.count===0){if(this.stylesheets)Pr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ra=null;function Pr(t,l){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ra=new Map,l.forEach(qy,t),ra=null,sa.call(t))}function qy(t,l){if(!(l.state.loading&4)){var o=ra.get(t);if(o)var u=o.get(null);else{o=new Map,ra.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=l.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=sa.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),l.state.loading|=4}}var zi={$$typeof:$,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Gy(t,l,o,u,f,m,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Zd(t,l,o,u,f,m,T,x,M,I,B,Y){return t=new Gy(t,l,o,T,x,M,I,Y),l=1,m===!0&&(l|=24),m=yt(3,null,null,l),t.current=m,m.stateNode=t,l=hs(),l.refCount++,t.pooledCache=l,l.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:l},Cs(m),t}function $d(t){return t?(t=gl,t):gl}function Wd(t,l,o,u,f,m){f=$d(f),u.context===null?u.context=f:u.pendingContext=f,u=dn(l),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=mn(t,u,l),o!==null&&(xt(o,t,l),vi(o,t,l))}function jd(t,l){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<l?o:l}}function Vr(t,l){jd(t,l),(t=t.alternate)&&jd(t,l)}function em(t){if(t.tag===13){var l=pl(t,67108864);l!==null&&xt(l,t,67108864),Vr(t,67108864)}}var ua=!0;function ky(t,l,o,u){var f=k.T;k.T=null;var m=Q.p;try{Q.p=2,qr(t,l,o,u)}finally{Q.p=m,k.T=f}}function Hy(t,l,o,u){var f=k.T;k.T=null;var m=Q.p;try{Q.p=8,qr(t,l,o,u)}finally{Q.p=m,k.T=f}}function qr(t,l,o,u){if(ua){var f=Gr(u);if(f===null)_r(t,l,u,ca,o),nm(t,u);else if(zy(f,t,l,o,u))u.stopPropagation();else if(nm(t,u),l&4&&-1<By.indexOf(t)){for(;f!==null;){var m=nl(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=In(m.pendingLanes);if(T!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var M=1<<31-gt(T);x.entanglements[1]|=M,T&=~M}Ot(m),(be&6)===0&&(Qo=Gt()+500,Pi(0))}}break;case 13:x=pl(m,2),x!==null&&xt(x,m,2),Ko(),Vr(m,2)}if(m=Gr(u),m===null&&_r(t,l,u,ca,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else _r(t,l,u,null,o)}}function Gr(t){return t=Oa(t),kr(t)}var ca=null;function kr(t){if(ca=null,t=tl(t),t!==null){var l=d(t);if(l===null)t=null;else{var o=l.tag;if(o===13){if(t=g(l),t!==null)return t;t=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;t=null}else l!==t&&(t=null)}}return ca=t,null}function tm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mg()){case pu:return 2;case gu:return 8;case to:case Rg:return 32;case hu:return 268435456;default:return 32}default:return 32}}var Hr=!1,Mn=null,Rn=null,bn=null,Oi=new Map,Yi=new Map,Nn=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(t,l){switch(t){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Oi.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(l.pointerId)}}function Fi(t,l,o,u,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:l,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},l!==null&&(l=nl(l),l!==null&&em(l)),t):(t.eventSystemFlags|=u,l=t.targetContainers,f!==null&&l.indexOf(f)===-1&&l.push(f),t)}function zy(t,l,o,u,f){switch(l){case"focusin":return Mn=Fi(Mn,t,l,o,u,f),!0;case"dragenter":return Rn=Fi(Rn,t,l,o,u,f),!0;case"mouseover":return bn=Fi(bn,t,l,o,u,f),!0;case"pointerover":var m=f.pointerId;return Oi.set(m,Fi(Oi.get(m)||null,t,l,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Yi.set(m,Fi(Yi.get(m)||null,t,l,o,u,f)),!0}return!1}function lm(t){var l=tl(t.target);if(l!==null){var o=d(l);if(o!==null){if(l=o.tag,l===13){if(l=g(o),l!==null){t.blockedOn=l,Pg(t.priority,function(){if(o.tag===13){var u=St();u=Ua(u);var f=pl(o,u);f!==null&&xt(f,o,u),Vr(o,u)}});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fa(t){if(t.blockedOn!==null)return!1;for(var l=t.targetContainers;0<l.length;){var o=Gr(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);za=u,o.target.dispatchEvent(u),za=null}else return l=nl(o),l!==null&&em(l),t.blockedOn=o,!1;l.shift()}return!0}function im(t,l,o){fa(t)&&o.delete(l)}function Oy(){Hr=!1,Mn!==null&&fa(Mn)&&(Mn=null),Rn!==null&&fa(Rn)&&(Rn=null),bn!==null&&fa(bn)&&(bn=null),Oi.forEach(im),Yi.forEach(im)}function da(t,l){t.blockedOn===l&&(t.blockedOn=null,Hr||(Hr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Oy)))}var ma=null;function om(t){ma!==t&&(ma=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ma===t&&(ma=null);for(var l=0;l<t.length;l+=3){var o=t[l],u=t[l+1],f=t[l+2];if(typeof u!="function"){if(kr(u||o)===null)continue;break}var m=nl(o);m!==null&&(t.splice(l,3),l-=3,ks(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ji(t){function l(M){return da(M,t)}Mn!==null&&da(Mn,t),Rn!==null&&da(Rn,t),bn!==null&&da(bn,t),Oi.forEach(l),Yi.forEach(l);for(var o=0;o<Nn.length;o++){var u=Nn[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Nn.length&&(o=Nn[0],o.blockedOn===null);)lm(o),o.blockedOn===null&&Nn.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[ut]||null;if(typeof m=="function")T||om(o);else if(T){var x=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ut]||null)x=T.formAction;else if(kr(f)!==null)continue}else x=T.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),om(o)}}}function Br(t){this._internalRoot=t}pa.prototype.render=Br.prototype.render=function(t){var l=this._internalRoot;if(l===null)throw Error(a(409));var o=l.current,u=St();Wd(o,u,t,l,null,null)},pa.prototype.unmount=Br.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var l=t.containerInfo;Wd(t.current,2,null,t,null,null),Ko(),l[el]=null}};function pa(t){this._internalRoot=t}pa.prototype.unstable_scheduleHydration=function(t){if(t){var l=Su();t={blockedOn:null,target:t,priority:l};for(var o=0;o<Nn.length&&l!==0&&l<Nn[o].priority;o++);Nn.splice(o,0,t),o===0&&lm(t)}};var am=e.version;if(am!=="19.1.1")throw Error(a(527,am,"19.1.1"));Q.findDOMNode=function(t){var l=t._reactInternals;if(l===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(l),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Yy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{Zl=ga.inject(Yy),pt=ga}catch{}}return Xi.createRoot=function(t,l){if(!c(t))throw Error(a(299));var o=!1,u="",f=xf,m=Ef,T=_f,x=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(u=l.identifierPrefix),l.onUncaughtError!==void 0&&(f=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(x=l.unstable_transitionCallbacks)),l=Zd(t,1,!1,null,null,o,u,f,m,T,x,null),t[el]=l.current,Er(t),new Br(l)},Xi.hydrateRoot=function(t,l,o){if(!c(t))throw Error(a(299));var u=!1,f="",m=xf,T=Ef,x=_f,M=null,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(I=o.formState)),l=Zd(t,1,!0,l,o??null,u,f,m,T,x,M,I),l.context=$d(null),o=l.current,u=St(),u=Ua(u),f=dn(u),f.callback=null,mn(o,f,u),o=u,l.current.lanes=o,Wl(l,o),Ot(l),t[el]=l.current,Er(t),new pa(l)},Xi.version="19.1.1",Xi}var hm;function t0(){if(hm)return Yr.exports;hm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yr.exports=e0(),Yr.exports}var n0=t0();const l0=Fp(n0),i0=({xp:n,gems:e,inventory:i,onShowMap:a,hp:c,maxHp:d})=>E.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-gray-800 bg-opacity-80 backdrop-blur-sm text-white p-3 flex justify-between items-center z-50 shadow-lg border-b border-gray-700",children:[E.jsxs("div",{className:"flex items-center space-x-6",children:[E.jsx("h1",{className:"text-xl font-bold text-yellow-400",children:"Lexicon Legends"}),E.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:d}).map((g,h)=>E.jsx("span",{className:`text-2xl transition-all duration-300 ${h<c?"text-red-500":"text-gray-600"}`,children:""},h))}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("span",{className:"font-semibold",children:["XP: ",E.jsx("span",{className:"text-green-400",children:n})]}),E.jsxs("span",{className:"font-semibold",children:["Gems: ",E.jsx("span",{className:"text-blue-400",children:e})]})]})]}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("span",{className:"font-semibold hidden sm:inline",children:"Inventory:"}),i.length>0?E.jsx("div",{className:"flex space-x-2",children:i.map(g=>E.jsx("div",{className:"bg-gray-700 px-2 py-1 rounded-md text-sm shadow-inner whitespace-nowrap",children:g},g))}):E.jsx("span",{className:"text-gray-400 italic",children:"Empty"})]}),E.jsx("button",{onClick:a,className:"bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 px-4 rounded-lg transition-colors shadow-md",children:"World Map"})]})]}),ym=4,o0=72,a0=250,ha=40,ya=48,vm={width:44,height:44},Tm=8,s0=(n,e,i,a,c,d,g,h,y,p)=>{const{layout:v,TILE_SIZE:C}=n,[_,D]=ce.useState({x:p.x*C,y:p.y*C}),[H,O]=ce.useState("down"),[J,W]=ce.useState(!1),[K,$]=ce.useState(null),Z=ce.useRef({}).current,F=ce.useRef(_),re=ce.useRef(null);ce.useEffect(()=>{F.current=_},[_]),ce.useEffect(()=>{D({x:p.x*C,y:p.y*C})},[p,C]);const ee=ce.useCallback(()=>{const j={x:F.current.x+ha/2,y:F.current.y+ya/2};let ne=null,se=1/0;i.forEach(Te=>{if(Te.status==="defeated")return;const Re={x:Te.position.x+vm.width/2,y:Te.position.y+vm.height/2},ge=Math.sqrt(Math.pow(j.x-Re.x,2)+Math.pow(j.y-Re.y,2));ge<a0&&ge<se&&(se=ge,ne=Te)}),ne&&c(ne)},[i,c]),xe=ce.useCallback((j,ne)=>{const se=j,Te=j+ha,Re=ne,ge=ne+ya;if(se<0||Te>v[0].length*C||Re<0||ge>v.length*C)return!0;const k=[{x:se,y:ge-10},{x:Te,y:ge-10},{x:j+ha/2,y:ne+ya/2}];for(const Q of k){const le=Math.floor(Q.x/C),X=Math.floor(Q.y/C);if(v[X]&&v[X][le]===1)return!0}return!1},[v,C]),ie=ce.useCallback(()=>{let j=!1,ne=H;if(!d){let{x:se,y:Te}=F.current;const Re=(Z.a||Z.arrowleft?-1:0)+(Z.d||Z.arrowright?1:0),ge=(Z.w||Z.arrowup?-1:0)+(Z.s||Z.arrowdown?1:0);if(Re!==0||ge!==0){j=!0;let S=se+Re*ym,A=Te+ge*ym;ge<0?ne="up":ge>0?ne="down":Re<0?ne="left":Re>0&&(ne="right"),xe(S,Te)||(se=S),xe(se,A)||(Te=A)}D({x:se,y:Te});let k=null,Q=1/0;const le=se+ha/2,X=Te+ya/2;e.forEach(S=>{const A=S.pos,N=A.x+("name"in S?24:C/2),w=A.y+("name"in S?24:C/2),L=Math.sqrt(Math.pow(le-N,2)+Math.pow(X-w,2));if(L<o0&&L<Q){Q=L;const G="type"in S?S.type:"quest_item";k={id:S.id,type:G}}}),$(k)}O(ne),W(j),re.current=requestAnimationFrame(ie)},[H,xe,e,C,d]);return ce.useEffect(()=>{const j=se=>{const Te=se.key.toLowerCase();if(Z[Te]=!0,g){se.preventDefault();let Re=0;(Te==="a"||Te==="arrowleft")&&(Re=-Tm),(Te==="d"||Te==="arrowright")&&(Re=Tm),Re!==0&&h(Re),se.key===" "&&y();return}d||((Te==="e"||se.key===" ")&&K&&(se.preventDefault(),a(K.id,K.type)),Te==="f"&&(se.preventDefault(),ee()))},ne=se=>{Z[se.key.toLowerCase()]=!1};return window.addEventListener("keydown",j),window.addEventListener("keyup",ne),re.current=requestAnimationFrame(ie),()=>{window.removeEventListener("keydown",j),window.removeEventListener("keyup",ne),re.current&&cancelAnimationFrame(re.current)}},[ie,K,a,ee,d,g,h,y]),{position:_,direction:H,isMoving:J,closestInteractive:K}},r0=({position:n,direction:e,isMoving:i,isInvincible:a})=>{const c={down:"face-down",up:"face-up",left:"face-left",right:"face-right"};return E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
      .player-sprite {
        width: 40px;
        height: 48px;
        transition: transform 0.1s linear;
      }
      .player-body {
        position: absolute;
        bottom: 0;
        left: 5px;
        width: 30px;
        height: 35px;
        background-color: #4A90E2; /* Traveler's Blue Tunic */
        border-radius: 10px 10px 4px 4px;
        border: 2px solid #3666A3;
      }
      .player-head {
        position: absolute;
        top: 0;
        left: 8px;
        width: 24px;
        height: 24px;
        background-color: #F8D4AB; /* Skin Tone */
        border-radius: 50%;
        border: 2px solid #D9A477;
      }
      .player-eyes {
        position: absolute;
        width: 4px;
        height: 4px;
        background-color: #222;
        border-radius: 50%;
        transition: all 0.1s;
      }
      .face-down .player-eyes { top: 12px; left: 9px; }
      .face-up .player-eyes { top: 6px; left: 9px; }
      .face-left .player-eyes { top: 10px; left: 4px; }
      .face-right .player-eyes { top: 10px; left: 14px; }
      
      .moving {
        animation: walk-bob 0.4s infinite;
      }

      .invincible {
        animation: blink 1.5s linear infinite;
      }

      @keyframes walk-bob {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-3px); }
      }
      @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.3; }
      }
    `}),E.jsxs("div",{className:`player-sprite absolute ${c[e]} ${i?"moving":""} ${a?"invincible":""}`,style:{left:n.x,top:n.y,willChange:"transform"},"aria-label":"Player character",children:[E.jsx("div",{className:"player-body"}),E.jsx("div",{className:"player-head",children:E.jsx("div",{className:"player-eyes"})})]})]})},Wi=({name:n,showPrompt:e,onClick:i})=>E.jsxs("div",{onClick:i,className:"flex flex-col items-center cursor-pointer group relative","aria-label":`Talk to ${n}`,children:[e&&E.jsx("div",{className:"absolute -top-10 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-lg animate-bounce",children:"E"}),E.jsx("div",{className:"w-24 h-24 bg-blue-300 rounded-full p-4 flex items-center justify-center border-4 border-blue-500 shadow-lg transform transition-transform group-hover:scale-110",children:E.jsx("span",{className:"text-blue-900 font-bold text-3xl",children:"?"})}),E.jsx("span",{className:"mt-2 bg-black bg-opacity-50 text-white text-lg font-semibold px-3 py-1 rounded-md",children:n})]}),Cm={article_imp:{body:"#D0021B",border:"#8B0000",horn:"#555"},tense_terror:{body:"#4A00E0",border:"#2A0080",horn:"#DDD"}},u0=({status:n,direction:e,type:i})=>{const a=`status-${n}`,c=e==="left"?"scale-x-[-1]":"",d=Cm[i]||Cm.article_imp;return E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
      .enemy-sprite {
        width: 44px;
        height: 44px;
        transition: opacity 0.5s ease-out, transform 0.5s ease-out;
      }
      .enemy-body {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: 3px solid;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .enemy-eyes {
        width: 60%;
        height: 15px;
        background-color: #FFC107;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: space-around;
        overflow: hidden;
      }
      .enemy-pupil {
        width: 8px;
        height: 8px;
        background-color: black;
        border-radius: 50%;
      }
      .enemy-horns {
        position: absolute;
        top: -8px;
        width: 8px;
        height: 12px;
        border-radius: 4px 4px 0 0;
      }
      .horn-left { left: 8px; }
      .horn-right { right: 8px; }

      .status-chasing .enemy-body {
        animation: chase-pulse 0.5s infinite;
      }

      .status-defeated {
        opacity: 0;
        transform: scale(0.5) rotate(720deg);
      }
      
      @keyframes chase-pulse {
        50% { transform: scale(1.1); }
      }
    `}),E.jsx("div",{className:`enemy-sprite relative ${a}`,children:E.jsxs("div",{className:`enemy-body transform ${c}`,style:{backgroundColor:d.body,borderColor:d.border},children:[E.jsx("div",{className:"enemy-horns horn-left",style:{backgroundColor:d.horn}}),E.jsx("div",{className:"enemy-horns horn-right",style:{backgroundColor:d.horn}}),E.jsxs("div",{className:"enemy-eyes",children:[E.jsx("div",{className:"enemy-pupil"}),E.jsx("div",{className:"enemy-pupil"})]})]})})]})},c0={apple:"",book:"",hat:"",map:"",key:"",fire_rune:"",lava_stone:"",obsidian_shard:"",magma_core:""},f0=({itemName:n,showPrompt:e})=>{const i=c0[n]||"";return E.jsxs("div",{className:"flex flex-col items-center group relative","aria-label":`Collect ${n}`,children:[e&&E.jsx("div",{className:"absolute -top-10 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-lg animate-bounce",children:"E"}),E.jsx("div",{className:"w-16 h-16 bg-yellow-200 rounded-full p-2 flex items-center justify-center border-4 border-yellow-400 shadow-md transform transition-transform group-hover:scale-110",children:E.jsx("span",{className:"text-4xl",children:i})}),E.jsx("span",{className:"mt-2 bg-black bg-opacity-50 text-white font-medium px-2 py-1 rounded-md capitalize",children:n})]})},Sm=({showPrompt:n})=>E.jsxs("div",{className:"flex flex-col items-center group relative","aria-label":"Read Guiding Stone",style:{width:80,height:80},children:[n&&E.jsx("div",{className:"absolute -top-10 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-lg animate-bounce z-10",children:"E"}),E.jsxs("div",{className:"w-16 h-16 bg-slate-500 rounded-lg p-2 flex items-center justify-center border-4 border-slate-700 shadow-md transform transition-transform group-hover:scale-110 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-black/10"}),E.jsx("span",{className:"text-4xl text-yellow-300 animate-pulse font-bold",children:"?"})]}),E.jsx("div",{className:"mt-2 bg-black bg-opacity-50 text-white font-medium px-2 py-1 rounded-md text-sm",children:"Guiding Stone"})]}),xm=({showPrompt:n})=>E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
        @keyframes rotate-portal {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse-portal-glow {
          0%, 100% { box-shadow: 0 0 20px 5px #a855f7, inset 0 0 15px 3px #c084fc; opacity: 0.9; }
          50% { box-shadow: 0 0 30px 10px #a855f7, inset 0 0 20px 5px #c084fc; opacity: 1; }
        }
        @keyframes swirl-particles {
          from { transform: rotate(0deg) scale(1); opacity: 1; }
          to { transform: rotate(360deg) scale(0); opacity: 0; }
        }
        .portal-container {
          width: 80px;
          height: 100px;
        }
        .portal-vortex {
          position: absolute;
          inset: 0;
          background: radial-gradient(circle, #3b0764 0%, #1e1b4b 60%);
          border-radius: 50% / 60%;
          animation: pulse-portal-glow 3s ease-in-out infinite;
        }
        .portal-ring {
          position: absolute;
          inset: -8px;
          border: 4px solid #c084fc;
          border-radius: 50% / 60%;
          animation: rotate-portal 10s linear infinite;
        }
        .portal-particle {
          position: absolute;
          width: 4px;
          height: 4px;
          background: #f0abfc;
          border-radius: 50%;
          top: 50%;
          left: 50%;
          transform-origin: 0 0;
        }
      `}),E.jsxs("div",{className:"flex flex-col items-center group relative portal-container","aria-label":"Enter Portal",children:[n&&E.jsx("div",{className:"absolute -top-10 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-lg animate-bounce z-10",children:"E"}),E.jsxs("div",{className:"w-full h-full relative cursor-pointer group",children:[E.jsx("div",{className:"portal-vortex"}),E.jsx("div",{className:"portal-ring"}),Array.from({length:15}).map((e,i)=>{const a=i*24,c=2+Math.random()*3,d=Math.random()*c;return E.jsx("div",{className:"portal-particle",style:{transform:`rotate(${a}deg) translateX(35px)`,animation:`swirl-particles ${c}s linear infinite`,animationDelay:`${d}s`}},i)})]})]})]}),d0=({pos:n})=>E.jsx("div",{className:"absolute w-4 h-4 bg-cyan-300 rounded-full",style:{left:n.x-8,top:n.y-8,boxShadow:"0 0 15px 5px rgba(0, 255, 255, 0.7)",willChange:"transform"},"aria-hidden":"true"}),m0=({angle:n})=>E.jsxs("div",{className:"absolute top-1/2 left-1/2 w-32 h-2 origin-left -translate-y-1/2",style:{transform:`rotate(${n}deg)`,willChange:"transform"},children:[E.jsx("div",{className:"w-full h-full bg-yellow-300/70 rounded-full shadow-[0_0_15px_rgba(253,249,156,0.9)]"}),E.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2",style:{width:0,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent",borderLeft:"16px solid rgb(253 224 71)",transform:"translateX(100%)"}})]}),p0=({pos:n})=>E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
        @keyframes ko-effect {
          0% { transform: scale(0.5) translateY(10px); opacity: 0; }
          40% { transform: scale(1.2) translateY(0); opacity: 1; }
          60% { transform: scale(1) translateY(0); opacity: 1; }
          100% { transform: scale(1) translateY(-20px); opacity: 0; }
        }
        .animate-ko {
          animation: ko-effect 1.5s ease-out forwards;
          text-shadow: 0 0 5px #000, 0 0 10px #000, 0 0 15px #000;
        }
      `}),E.jsx("div",{className:"absolute text-5xl font-black text-yellow-300 animate-ko",style:{left:n.x,top:n.y,transform:"translate(-50%, -50%)",zIndex:20,pointerEvents:"none"},children:"K.O.!"})]}),Em={noun_meadows:{bg:"#6ABE39",wall:"#a1662f"},procedural_gauntlet:{bg:"#4a044e",wall:"#38023b"},meadows:{bg:"#6ABE39",wall:"#a1662f"},volcanoes:{bg:"#4d1818",wall:"#3d1010"},verb_volcanoes:{bg:"#4d1818",wall:"#3d1010"},adjective_isles:{bg:"bg-cyan-200",wall:"#a1662f"},tense_tangled_forest:{bg:"bg-slate-800",wall:"#a1662f"},hub_main:{bg:"bg-amber-100",wall:"#a1662f"},well_of_words:{bg:"bg-amber-100",wall:"#a1662f"},endless_tower:{bg:"bg-amber-100",wall:"#a1662f"},collection_screen:{bg:"bg-amber-100",wall:"#a1662f"}},g0=1,h0=1.8,Dn={width:44,height:44},_m=15,Am=8,kl={id:"portal_gate",x:10,y:1},Xr=({children:n,location:e,className:i="",map:a,gameState:c,onInteract:d,onPlayerDamage:g,onCombatStart:h,onAim:y,onFire:p,onProjectileHit:v})=>{var Te,Re,ge,k,Q,le;const C="npc"in a,_=C?a.theme:e,D=Em[_]||Em.noun_meadows,H=C?a.playerSpawn:a.playerStart,O=C?a.enemies:(Te=c.worldProgress.noun_meadows)==null?void 0:Te.enemies,J=C?a.questItems:(Re=c.worldProgress.noun_meadows)==null?void 0:Re.questItems,[W,K]=ce.useState([]),[$,Z]=ce.useState(c.activeProjectiles),F=ce.useRef(null);ce.useEffect(()=>{O&&K(O.filter(X=>X.status!=="defeated"))},[O]),ce.useEffect(()=>{Z(c.activeProjectiles)},[c.activeProjectiles]);const re=ce.useMemo(()=>{var A,N;let X=[];const S=C&&((A=c.proceduralQuest)==null?void 0:A.isComplete);if(C){const w=a;if(X.push({id:w.npc.name,type:"npc",pos:{x:w.npc.position.x*w.TILE_SIZE,y:w.npc.position.y*w.TILE_SIZE}}),X.push({id:w.guidingStone.lessonId,type:"guiding_stone",pos:{x:w.guidingStone.position.x*w.TILE_SIZE,y:w.guidingStone.position.y*w.TILE_SIZE}}),X.push(...(J==null?void 0:J.map(L=>({...L,type:"quest_item"})))||[]),S){const L=w.exitPosition;X.push({id:"gauntlet_exit_portal",type:"portal",pos:{x:L.x*w.TILE_SIZE,y:L.y*w.TILE_SIZE}})}}else{const w=a.interactives;X.push(...w.map(L=>({...L,pos:{x:L.x*a.TILE_SIZE,y:L.y*a.TILE_SIZE}}))),X.push(...(J==null?void 0:J.map(L=>({...L,type:"quest_item"})))||[]),e==="noun_meadows"&&((N=c.worldProgress.noun_meadows)!=null&&N.isPortalSpawned)&&X.push({id:kl.id,type:"portal",pos:{x:kl.x*a.TILE_SIZE,y:kl.y*a.TILE_SIZE}})}return X},[a,J,(ge=c.worldProgress.noun_meadows)==null?void 0:ge.isPortalSpawned,(k=c.proceduralQuest)==null?void 0:k.isComplete,e,C]),{position:ee,direction:xe,isMoving:ie,closestInteractive:j}=s0(a,re,W,d,h,c.isGamePaused||c.isAiming,c.isAiming,y,()=>p(ee),H),ne=ce.useCallback((X,S)=>{const A=Math.floor(X/a.TILE_SIZE),N=Math.floor(S/a.TILE_SIZE);return N<0||N>=a.layout.length||A<0||A>=a.layout[0].length?!0:a.layout[N][A]===1},[a.layout,a.TILE_SIZE]),se=ce.useCallback(()=>{if(!(c.isGamePaused||c.isAiming||c.activeCombat.isActive||c.activePuzzle.isActive||c.activeTimePuzzle.isActive||c.activeLesson!==null)){const S={x:ee.x+Zi/2,y:ee.y+$i/2};K(A=>A.map(N=>{if(N.status==="defeated")return N;let{x:w,y:L}=N.position,G=N.status,V=N.direction;if(Math.hypot(S.x-(w+Dn.width/2),S.y-(L+Dn.height/2))<250?G="chasing":G="patrolling",G==="patrolling"){const ke=g0;V==="right"?(w+=ke,w>N.startPos.x+N.patrolRange&&(V="left")):(w-=ke,w<N.startPos.x-N.patrolRange&&(V="right"))}else{const ke=h0,Et=Math.atan2(S.y-(L+Dn.height/2),S.x-(w+Dn.width/2));w+=Math.cos(Et)*ke,L+=Math.sin(Et)*ke,V=S.x<w?"left":"right"}let _e=N.vx*.8,Le=N.vy*.8;if(Math.abs(_e)<.1&&(_e=0),Math.abs(Le)<.1&&(Le=0),w+=_e,L+=Le,!c.isPlayerInvincible&&w<ee.x+Zi&&w+Dn.width>ee.x&&L<ee.y+$i&&L+Dn.height>ee.y){g();const ke=Math.atan2(L-ee.y,w-ee.x);_e=Math.cos(ke)*_m,Le=Math.sin(ke)*_m}return{...N,position:{x:w,y:L},status:G,direction:V,vx:_e,vy:Le}})),Z(A=>A.map(w=>{const L={x:w.pos.x+Math.cos(w.angle*Math.PI/180)*Am,y:w.pos.y+Math.sin(w.angle*Math.PI/180)*Am};if(ne(L.x,L.y))return v(w.id,null),null;let G=null;for(const V of W)if(L.x>V.position.x&&L.x<V.position.x+Dn.width&&L.y>V.position.y&&L.y<V.position.y+Dn.height){G=V;break}return G?(v(w.id,G.id),null):{...w,pos:L}}).filter(Boolean))}F.current=requestAnimationFrame(se)},[c.isGamePaused,c.isAiming,c.isPlayerInvincible,c.activeCombat.isActive,c.activePuzzle.isActive,c.activeTimePuzzle.isActive,c.activeLesson,ee,g,v,ne,W]);return ce.useEffect(()=>(F.current=requestAnimationFrame(se),()=>{F.current&&cancelAnimationFrame(F.current)}),[se]),E.jsx("main",{className:`relative w-full h-screen overflow-hidden pt-16 transition-all duration-1000 ${i}`,style:{backgroundColor:D.bg},children:E.jsxs("div",{className:"relative",style:{width:a.layout[0].length*a.TILE_SIZE,height:a.layout.length*a.TILE_SIZE,transform:`translate(${-ee.x+window.innerWidth/2-Zi/2}px, ${-ee.y+window.innerHeight/2-$i/2}px)`},children:[n,a.layout.map((X,S)=>X.map((A,N)=>A!==0&&E.jsx("div",{className:"absolute",style:{left:N*a.TILE_SIZE,top:S*a.TILE_SIZE,width:a.TILE_SIZE,height:a.TILE_SIZE,backgroundColor:D.wall,boxShadow:"inset 0 0 5px rgba(0,0,0,0.3)"}},`${N}-${S}`))),C?E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{position:"absolute",left:a.npc.position.x*a.TILE_SIZE,top:a.npc.position.y*a.TILE_SIZE,zIndex:1},children:E.jsx(Wi,{name:a.npc.name,showPrompt:(j==null?void 0:j.id)===a.npc.name})}),E.jsx("div",{style:{position:"absolute",left:a.guidingStone.position.x*a.TILE_SIZE,top:a.guidingStone.position.y*a.TILE_SIZE,zIndex:1},children:E.jsx(Sm,{lessonId:a.guidingStone.lessonId,showPrompt:(j==null?void 0:j.id)===a.guidingStone.lessonId})}),((Q=c.proceduralQuest)==null?void 0:Q.isComplete)&&E.jsx("div",{style:{position:"absolute",left:a.exitPosition.x*a.TILE_SIZE,top:a.exitPosition.y*a.TILE_SIZE,zIndex:1},children:E.jsx(xm,{showPrompt:(j==null?void 0:j.id)==="gauntlet_exit_portal"})})]}):E.jsxs(E.Fragment,{children:[a.interactives.filter(X=>X.type!=="quest_item").map(X=>{const S={position:"absolute",left:X.x*a.TILE_SIZE,top:X.y*a.TILE_SIZE,zIndex:1};return X.type==="npc"?E.jsx("div",{style:S,children:E.jsx(Wi,{name:X.id,showPrompt:(j==null?void 0:j.id)===X.id})},X.id):X.type==="guiding_stone"?E.jsx("div",{style:S,children:E.jsx(Sm,{lessonId:X.lessonId,showPrompt:(j==null?void 0:j.id)===X.id})},X.id):null}),e==="noun_meadows"&&((le=c.worldProgress.noun_meadows)==null?void 0:le.isPortalSpawned)&&E.jsx("div",{style:{position:"absolute",left:kl.x*a.TILE_SIZE,top:kl.y*a.TILE_SIZE,zIndex:1},children:E.jsx(xm,{showPrompt:(j==null?void 0:j.id)===kl.id})})]}),J==null?void 0:J.map(X=>!X.isCollected&&E.jsx("div",{style:{position:"absolute",left:X.pos.x,top:X.pos.y,zIndex:1},children:E.jsx(f0,{itemName:X.name,showPrompt:(j==null?void 0:j.id)===X.id})},X.id)),W.map(X=>E.jsx("div",{style:{position:"absolute",left:X.position.x,top:X.position.y,zIndex:1},children:E.jsx(u0,{status:X.status,direction:X.direction,type:X.type})},X.id)),$.map(X=>E.jsx(d0,{pos:X.pos},X.id)),c.koEffects.map(X=>E.jsx(p0,{pos:X.pos},X.id)),E.jsxs("div",{style:{position:"absolute",left:ee.x,top:ee.y,width:Zi,height:$i,zIndex:10},children:[E.jsx(r0,{position:{x:0,y:0},direction:xe,isMoving:ie,isInvincible:c.isPlayerInvincible}),c.isAiming&&E.jsx(m0,{angle:c.aimingAngle})]})]})})},y0=({message:n,onClose:e,choices:i})=>{const[a,c]=ce.useState(""),[d,g]=ce.useState(!1);return ce.useEffect(()=>{if(c(""),g(!0),n){let h=0;const y=setInterval(()=>{c(p=>p+n.charAt(h)),h++,h>=n.length&&(clearInterval(y),g(!1))},30);return()=>clearInterval(y)}},[n]),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 z-40",children:E.jsxs("div",{className:"bg-white bg-opacity-90 backdrop-blur-sm border-2 border-gray-800 p-6 rounded-lg shadow-2xl max-w-3xl mx-auto text-gray-900",children:[E.jsx("p",{className:"text-lg font-serif min-h-[4.5rem]",children:a}),e&&!i&&E.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Close dialogue",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i&&!d&&E.jsx("div",{className:"border-t border-gray-300 mt-4 pt-4 flex justify-end space-x-3",children:i.map(h=>E.jsx("button",{onClick:h.onSelect,className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-6 rounded-lg transition-colors shadow-md text-base",children:h.text},h.text))})]})})},v0=({combatState:n,onResolve:e,isFetchingQuiz:i})=>{if(i||!n.challenge)return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:E.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-400 rounded-xl p-8 shadow-2xl text-center text-white w-full max-w-md",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300 animate-pulse",children:"Preparing challenge..."}),E.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent border-blue-400 rounded-full animate-spin mx-auto"})]})});const a=g=>{e(g)},c=n.challenge,d=()=>{if(c.type==="article"){const{sentence:g,options:h}=c,y=g.split("___");return E.jsxs(E.Fragment,{children:[E.jsxs("p",{className:"text-3xl lg:text-4xl mb-6",children:[y[0],E.jsx("span",{className:"text-4xl lg:text-5xl font-bold mx-2 text-cyan-400",children:"___"}),y[1]]}),E.jsx("div",{className:"flex justify-center space-x-4",children:h.map(p=>E.jsx("button",{onClick:()=>a(p),className:"px-8 py-4 bg-blue-600 text-white font-bold text-2xl rounded-lg hover:bg-blue-500 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-400",children:p},p))})]})}if(c.type==="verb_tense"){const{sentence:g,options:h}=c,y=g.split("___");return E.jsxs(E.Fragment,{children:[E.jsxs("p",{className:"text-3xl mb-6",children:[y[0],E.jsx("span",{className:"text-4xl font-bold mx-2 text-cyan-400",children:"___"}),y[1]]}),E.jsx("div",{className:"flex justify-center space-x-4",children:h.map(p=>E.jsx("button",{onClick:()=>a(p),className:"px-8 py-4 bg-fuchsia-600 text-white font-bold text-2xl rounded-lg hover:bg-fuchsia-500 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-fuchsia-400",children:p},p))})]})}return null};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:E.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-400 rounded-xl p-8 shadow-2xl text-center text-white w-full max-w-lg",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:c.type==="article"?"Article Attack!":"Tense Terror!"}),d()]})})},T0=({unlockedWorlds:n,onTravel:e,worldProgress:i,onResetRequest:a})=>{const[c,d]=ce.useState(null),g=[{id:"noun_meadows",name:"The Noun Meadows",description:"A peaceful land of items and articles."},{id:"verb_volcanoes",name:"The Verb Volcanoes",description:"A fiery realm of action and tense choices."},{id:"adjective_isles",name:"The Adjective Isles",description:"A colorful archipelago of descriptive puzzles."},{id:"tense_tangled_forest",name:"Tense-Tangled Forest",description:"A misty wood where time itself is broken."}];return E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-gray-900 p-4 pt-20",children:[E.jsx("h1",{className:"text-5xl font-bold text-yellow-400 mb-2",children:"World Map"}),E.jsx("p",{className:"text-gray-300 mb-8",children:"Select your destination, Traveler."}),E.jsx("div",{className:"w-full max-w-6xl mb-8",children:E.jsxs("button",{onClick:()=>e("hub_main"),className:"w-full p-6 rounded-xl text-center border-4 transition-all duration-300 transform bg-yellow-600 border-yellow-400 hover:bg-yellow-500 hover:scale-105 cursor-pointer shadow-lg",children:[E.jsx("h2",{className:"text-3xl font-bold text-white mb-1",children:"The Traveler's Hub"}),E.jsx("p",{className:"text-yellow-200",children:"Your central base for all adventures."})]})}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl",children:g.map(h=>{var C;const y=n.includes(h.id),p=((C=i[h.id])==null?void 0:C.status)==="completed",v=()=>{y&&(p?d(h.id):e(h.id))};return E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:v,disabled:!y,className:`p-6 rounded-xl text-left border-4 transition-all duration-300 transform h-full w-full flex flex-col justify-between
                  ${y?"bg-gray-800 border-purple-500 hover:border-yellow-400 hover:scale-105 cursor-pointer":"bg-gray-700 border-gray-600 opacity-50 cursor-not-allowed"}`,children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:h.name}),E.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:h.description})]}),!y&&E.jsx("span",{className:"font-bold text-red-400 self-start mt-auto",children:"LOCKED"}),p&&E.jsx("div",{className:"absolute top-2 right-2 text-2xl text-yellow-300",title:"Quest Completed!",children:""})]}),p&&c===h.id&&E.jsxs("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm rounded-xl flex flex-col items-center justify-center space-y-3 p-4 z-10",onClick:_=>_.stopPropagation(),children:[E.jsx("button",{onClick:()=>{e(h.id),d(null)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Visit World"}),E.jsx("button",{onClick:()=>{a(h.id),d(null)},className:"w-full bg-red-700 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Replay Quest"}),E.jsx("button",{onClick:()=>d(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg transition-colors mt-2",children:"Cancel"})]})]},h.id)})})]})},C0=({objectName:n,icon:e,onClick:i,isPuzzleSolved:a,isTarget:c})=>{const d=()=>{a||i()},g=c?"animate-pulse ring-4 ring-yellow-300 ring-offset-4 ring-offset-cyan-200":"";return E.jsxs("div",{onClick:d,className:`flex flex-col items-center transition-all duration-300 ${a?"opacity-50 cursor-default":"cursor-pointer group"}`,"aria-label":a?`${n} (puzzle solved)`:`Interact with ${n}`,children:[E.jsx("div",{className:`w-20 h-20 bg-yellow-200 rounded-lg p-2 flex items-center justify-center border-4 shadow-md transform transition-transform 
          ${a?"border-green-500":`border-yellow-400 group-hover:scale-110 ${g}`}`,children:E.jsx("span",{className:`text-5xl transition-transform duration-500 ${a?"saturate-100":"saturate-0"}`,children:e})}),E.jsx("span",{className:"mt-2 bg-black bg-opacity-50 text-white font-medium px-2 py-1 rounded-md",children:a?"Restored!":n})]})},S0=({puzzleState:n,onSelectAdjective:e,onSubmit:i,onClose:a})=>{const{targetObject:c,selectedAdjectives:d,availableAdjectives:g,requiredAdjectives:h}=n,y=h.length;return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:E.jsxs("div",{className:"relative bg-white border-2 border-cyan-400 rounded-xl p-8 shadow-2xl text-center text-gray-800 w-full max-w-2xl transform",children:[E.jsx("button",{onClick:a,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-800 transition-colors","aria-label":"Close puzzle",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2 text-cyan-700",children:"A Splash of Color!"}),E.jsxs("p",{className:"text-xl mb-4",children:["Describe the ",E.jsx("span",{className:"font-bold text-purple-600",children:c}),"."]}),E.jsx("div",{className:"bg-gray-100 rounded-lg p-3 my-4 min-h-[5rem] flex items-center justify-center flex-wrap gap-4",children:Array.from({length:y}).map((p,v)=>{const C=d[v];return E.jsx("div",{className:"w-32 h-12 flex items-center justify-center border-2 border-dashed border-gray-400 rounded-md bg-white",children:C?E.jsx("span",{className:"bg-blue-500 text-white font-semibold px-3 py-1 rounded-full text-lg",children:C}):E.jsx("span",{className:"text-gray-400"})},v)})}),E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6",children:g.map(p=>{const v=d.includes(p);return E.jsx("button",{onClick:()=>e(p),disabled:!v&&d.length>=y,className:`px-4 py-3 font-bold text-lg rounded-lg transform transition-all duration-200 focus:outline-none focus:ring-4
                  ${v?"bg-blue-500 text-white ring-blue-300 scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300 ring-gray-400 disabled:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:p},p)})}),E.jsx("button",{onClick:i,disabled:d.length===0,className:"w-full px-8 py-4 bg-green-600 text-white font-bold text-2xl rounded-lg hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-green-400",children:"Submit Description"})]})})},x0=({puzzleState:n,onSelectTense:e,onClose:i})=>{if(!n.challenge)return null;const{prompt:a,challenge:c}=n;return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:E.jsxs("div",{className:"relative bg-scroll-pattern bg-yellow-50 border-4 border-yellow-800 rounded-xl p-8 shadow-2xl text-center text-gray-800 w-full max-w-2xl transform",children:[E.jsx("style",{children:`
          .bg-scroll-pattern {
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABOSURBVFhH7c5BDQAwEASh+je9N2gD42gC3TIGNnJk/Xp/7QghhBBCCCGEEEIIIYQQQgjpp1xJCCGEEEIIIYQQQgghhBBCCHkGAHGU7Bv8Hn3HAAAAAElFTkSuQmCC');
            box-shadow: inset 0 0 20px #000;
          }
        `}),E.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-yellow-900 hover:text-black transition-colors","aria-label":"Close puzzle",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2 text-yellow-900 font-serif",children:"A Rift in Time..."}),E.jsxs("p",{className:"text-lg italic mb-6 text-gray-600",children:['"',a,'"']}),E.jsxs("div",{className:"bg-white/50 rounded-lg p-4 my-6 text-2xl font-serif",children:[c.subject," ",E.jsx("span",{className:"text-4xl font-bold mx-2 text-purple-700",children:"[ _____ ]"})," ",c.complement]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["past","present","future"].map(d=>E.jsxs("button",{onClick:()=>e(d),className:"px-4 py-3 font-bold text-xl rounded-lg transform transition-all duration-200 focus:outline-none focus:ring-4 text-white bg-purple-700 hover:bg-purple-600 ring-purple-400",children:[E.jsx("span",{className:"block",children:c.verbOptions[d]}),E.jsx("span",{className:"text-sm font-normal uppercase opacity-75",children:d})]},d))})]})})},E0={"bridge-01":{broken:{icon:"",name:"Collapsed Bridge"},whole:{icon:"",name:"Sturdy Bridge"}},"plant-01":{seed:{icon:"",name:"Dormant Seed"},grown:{icon:"",name:"Great Tree"}},"crystal-01":{phasing:{icon:"",name:"Phasing Crystal"},stable:{icon:"",name:"Stable Crystal"}}},_0=({id:n,currentState:e,onClick:i,isSolved:a})=>{var h;const c=((h=E0[n])==null?void 0:h[e])||{icon:"?",name:"Unknown Object"},d=n==="crystal-01"&&e==="phasing"?"animate-pulse":"",g=a?"opacity-50 cursor-default":"cursor-pointer group";return E.jsxs("div",{onClick:()=>!a&&i(),className:`flex flex-col items-center transition-all duration-300 ${g}`,"aria-label":a?`${c.name} (stabilized)`:`Interact with ${c.name}`,children:[E.jsx("div",{className:`w-24 h-24 bg-indigo-200 rounded-lg p-2 flex items-center justify-center border-4 shadow-md transform transition-transform 
        ${a?"border-green-500":"border-purple-400 group-hover:scale-110"} ${d}`,children:E.jsx("span",{className:"text-6xl",children:c.icon})}),E.jsx("span",{className:"mt-2 bg-black bg-opacity-50 text-white font-medium px-2 py-1 rounded-md",children:c.name})]})},A0={None:"","Book Owl":"","Grammar Gremlin":""},va=({onClick:n,title:e,description:i,icon:a})=>E.jsxs("button",{onClick:n,className:"w-full bg-slate-700 p-4 rounded-lg border-2 border-slate-600 hover:border-yellow-400 hover:bg-slate-600 transition-all text-left flex items-center space-x-4",children:[E.jsx("div",{className:"text-4xl",children:a}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-xl text-yellow-300",children:e}),E.jsx("p",{className:"text-slate-300",children:i})]})]}),M0=({onNavigate:n,collection:e,equippedOutfit:i,equippedCompanion:a})=>E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-slate-800 p-4 pt-20 text-white",children:[E.jsx("h1",{className:"text-5xl font-bold text-yellow-400 mb-4",children:"Traveler's Hub"}),E.jsx("p",{className:"text-gray-300 mb-10",children:"Your sanctuary, a place to rest and prepare."}),E.jsxs("div",{className:"w-full max-w-4xl grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"md:col-span-1 flex flex-col items-center justify-center bg-slate-700/50 rounded-lg p-6 border-2 border-slate-600",children:[E.jsxs("div",{className:"relative w-32 h-32 bg-blue-300 rounded-full flex items-center justify-center border-4 border-blue-500 shadow-lg mb-4",children:[E.jsx("span",{className:"text-blue-900 font-bold text-6xl",children:"T"}),E.jsx("div",{className:"absolute -bottom-2 -right-2 text-5xl",children:A0[a]||""})]}),E.jsx("h2",{className:"text-xl font-bold",children:i}),a!=="None"&&E.jsx("p",{className:"text-md text-cyan-300",children:a}),E.jsxs("div",{className:"mt-6 text-center",children:[E.jsx("h3",{className:"font-semibold text-yellow-400 border-b border-yellow-400/30 mb-2",children:"Decorations"}),E.jsx("div",{className:"text-slate-300",children:e.hubDecorations.length>0?e.hubDecorations.map(c=>E.jsxs("div",{children:["- ",c]},c)):E.jsx("div",{className:"italic text-slate-400",children:"None yet"})})]})]}),E.jsxs("div",{className:"md:col-span-2 flex flex-col space-y-4",children:[E.jsx(va,{onClick:()=>n("well_of_words"),title:"The Well of Words",description:"Spend Lingo Gems to draw new knowledge and items.",icon:""}),E.jsx(va,{onClick:()=>n("endless_tower"),title:"The Endless Tower",description:"Face daily challenges to earn rewards.",icon:""}),E.jsx(va,{onClick:()=>n("collection_screen"),title:"My Collection",description:"View your unlocked outfits, companions, and more.",icon:""}),E.jsx(va,{onClick:()=>n("map"),title:"Venture Out",description:"Return to the World Map to continue your quests.",icon:""})]})]})]}),R0={Common:"border-gray-400 bg-gray-700 text-white",Rare:"border-blue-400 bg-blue-800 text-white animate-pulse-slow",Epic:"border-purple-500 bg-purple-900 text-white animate-pulse-fast shadow-purple-500/50 shadow-lg"},b0=({results:n,onClose:e})=>E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4",onClick:e,children:E.jsxs("div",{className:"bg-slate-800 border-2 border-yellow-400 rounded-xl p-6 shadow-2xl text-center w-full max-w-3xl",onClick:i=>i.stopPropagation(),children:[E.jsx("h2",{className:"text-3xl font-bold mb-4 text-yellow-300",children:"Your Rewards!"}),E.jsx("div",{className:`grid gap-4 ${n.length>1?"grid-cols-2 md:grid-cols-3 lg:grid-cols-5":"grid-cols-1"}`,children:n.map((i,a)=>E.jsxs("div",{className:`p-4 rounded-lg border-2 flex flex-col justify-center items-center ${R0[i.rarity]}`,children:[E.jsx("div",{className:"font-bold text-lg",children:i.name}),E.jsx("div",{className:"text-sm font-semibold",children:i.rarity})]},a))}),E.jsx("button",{onClick:e,className:"mt-6 bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Close"})]})}),N0=({gems:n,onDraw:e,onBack:i,results:a,onCloseResults:c})=>E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-slate-900 p-4 pt-20 text-white",children:[E.jsx("style",{children:`
            @keyframes pulse-slow { 50% { opacity: .7; } }
            .animate-pulse-slow { animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
            @keyframes pulse-fast { 50% { opacity: .8; } }
            .animate-pulse-fast { animation: pulse-fast 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        `}),a&&E.jsx(b0,{results:a,onClose:c}),E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-5xl font-bold text-cyan-300 mb-2",children:"The Well of Words"}),E.jsx("p",{className:"text-gray-300 mb-8 max-w-md",children:"Cast your Lingo Gems into the depths and see what knowledge bubbles to the surface."}),E.jsx("div",{className:"bg-slate-800 rounded-lg p-4 mb-8 inline-block shadow-lg",children:E.jsxs("span",{className:"text-2xl font-bold",children:["Your Gems: ",E.jsx("span",{className:"text-blue-400",children:n})]})})]}),E.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-6",children:[E.jsxs("button",{onClick:()=>e(1),className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 px-8 rounded-lg transition-colors shadow-md transform hover:scale-105",children:[E.jsx("span",{className:"text-xl",children:"Draw 1 Word"}),E.jsx("span",{className:"block text-sm opacity-80",children:"Cost: 10 Gems"})]}),E.jsxs("button",{onClick:()=>e(10),className:"bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 px-8 rounded-lg transition-colors shadow-md transform hover:scale-105",children:[E.jsx("span",{className:"text-xl",children:"Draw 10 Words"}),E.jsx("span",{className:"block text-sm opacity-80",children:"Cost: 100 Gems"})]})]}),E.jsx("button",{onClick:i,className:"absolute top-20 left-4 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:" Back to Hub"})]}),w0=({onBack:n,onStart:e,isAvailable:i})=>E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-gray-800 p-4 pt-20 text-white",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-5xl font-bold text-red-400 mb-2",children:"The Endless Tower"}),E.jsx("p",{className:"text-gray-300 mb-12 max-w-lg",children:"A new challenge forms each day. Test your mastery of language and climb as high as you can."})]}),E.jsx("div",{className:"w-full max-w-md bg-gray-900 rounded-xl shadow-2xl p-8 border-2 border-red-500/50",children:i?E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:"Today's Challenge Awaits!"}),E.jsx("p",{className:"text-gray-400 mb-6",children:"Complete a series of trials to earn valuable Lingo Gems."}),E.jsx("button",{onClick:e,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-6 rounded-lg text-xl transition-colors transform hover:scale-105",children:"Begin Trial"})]}):E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Challenges Completed!"}),E.jsx("p",{className:"text-gray-400",children:"You have proven your skills for today. The tower's energies will realign tomorrow, presenting new trials."}),E.jsx("p",{className:"mt-4 font-semibold text-lg",children:"Come back tomorrow!"})]})}),E.jsx("button",{onClick:n,className:"absolute top-20 left-4 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:" Back to Hub"})]}),D0=({collection:n,onBack:e,onEquip:i,equippedOutfit:a,equippedCompanion:c})=>{const[d,g]=ce.useState("Outfits"),h=()=>{let p=[],v,C;switch(d){case"Outfits":p=n.outfits,v=a,C="outfit";break;case"Companions":p=n.companions,v=c,C="companion";break;case"Decorations":p=n.hubDecorations;break;case"Sages":p=n.sages;break}return p.length===0?E.jsx("div",{className:"text-center italic text-gray-400 mt-8",children:"Nothing collected in this category yet."}):E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map(_=>{const D=_===v;return E.jsxs("div",{className:`p-4 rounded-lg border-2 text-center transition-all ${D?"bg-green-800 border-green-400":"bg-gray-700 border-gray-600"}`,children:[E.jsx("p",{className:"font-bold text-lg",children:_}),D&&E.jsx("p",{className:"text-sm text-green-300 font-semibold",children:"Equipped"}),C&&!D&&E.jsx("button",{onClick:()=>i(C,_),className:"mt-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-bold py-1 px-3 rounded-md",children:"Equip"})]},_)})})},y=["Outfits","Companions","Decorations","Sages"];return E.jsxs("div",{className:"w-full min-h-screen bg-gray-900 p-4 pt-24 text-white",children:[E.jsx("button",{onClick:e,className:"absolute top-20 left-4 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors z-10",children:" Back to Hub"}),E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("h1",{className:"text-5xl font-bold text-yellow-300",children:"My Collection"}),E.jsx("p",{className:"text-gray-400",children:"A record of your travels and treasures."})]}),E.jsx("div",{className:"border-b border-gray-700 mb-6",children:E.jsx("nav",{className:"-mb-px flex space-x-6 justify-center",children:y.map(p=>E.jsx("button",{onClick:()=>g(p),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg transition-colors
                                ${d===p?"border-yellow-400 text-yellow-300":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-500"}`,children:p},p))})}),E.jsx("div",{className:"bg-gray-800/50 p-6 rounded-lg",children:h()})]})]})},U0=({onRetry:n})=>E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center z-[100] text-white",children:[E.jsx("h1",{className:"text-6xl font-bold text-red-500 mb-4 animate-pulse",children:"You Were Silenced!"}),E.jsx("p",{className:"text-xl mb-8",children:"Your journey has come to a premature end."}),E.jsx("button",{onClick:n,className:"bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-bold py-3 px-8 rounded-lg text-2xl transition-colors transform hover:scale-105",children:"Try Again"})]}),I0=({message:n,detail:e,onConfirm:i,onCancel:a})=>E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-[100] text-white p-4","aria-modal":"true",role:"dialog",onClick:a,children:E.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-400 rounded-xl p-8 shadow-2xl text-center w-full max-w-md transform transition-all",onClick:c=>c.stopPropagation(),children:[E.jsx("h2",{className:"text-2xl font-bold text-yellow-300 mb-3 capitalize",children:n}),E.jsx("p",{className:"text-gray-300 mb-6",children:e}),E.jsxs("div",{className:"flex justify-center space-x-4",children:[E.jsx("button",{onClick:a,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-8 rounded-lg transition-colors",children:"Cancel"}),E.jsx("button",{onClick:i,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-8 rounded-lg transition-colors",children:"Confirm"})]})]})}),L0={orange:"",cat:"",idea:"",apple:"",book:"",hat:"",fox:"",adventure:"",owl:"",egg:"",house:"",car:"",tree:"",star:"",sun:"",moon:"",user:"",player:"",hero:"",monster:"",sword:"",shield:"",key:"",chest:"",game:"",world:"",hour:"",umbrella:"","ice cream":"",arrow:"",error:""},P0="",V0=({lessonData:n,isLoading:e,onClose:i,onCancel:a,onRefresh:c})=>{const d=h=>L0[h.toLowerCase().trim()]||P0,g=()=>e&&!n?E.jsxs("div",{className:"bg-stone-800 border-4 border-stone-600 rounded-xl p-8 shadow-2xl text-center text-white w-full max-w-md",children:[E.jsx("h2",{className:"text-3xl font-bold mb-4 text-yellow-300 font-serif animate-pulse",children:"A wise whisper is coming..."}),E.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent border-yellow-400 rounded-full animate-spin mx-auto mt-4"}),E.jsx("button",{onClick:a,className:"mt-6 px-6 py-2 bg-red-700 text-white font-bold text-lg rounded-lg hover:bg-red-600 transition-colors focus:outline-none focus:ring-4 focus:ring-red-500","aria-label":"Cancel loading",children:"Cancel"})]}):n?E.jsxs("div",{className:"relative bg-stone-800 border-4 border-stone-600 rounded-xl p-8 shadow-2xl text-white w-full max-w-2xl transform",role:"dialog","aria-modal":"true","aria-labelledby":"lesson-title",children:[e&&E.jsxs("div",{className:"absolute inset-0 bg-stone-900/70 backdrop-blur-sm flex flex-col justify-center items-center rounded-lg z-20",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent border-yellow-400 rounded-full animate-spin"}),E.jsx("p",{className:"mt-4 text-lg font-semibold text-yellow-300",children:"Refreshing wisdom..."})]}),E.jsx("h2",{id:"lesson-title",className:"text-3xl font-bold mb-4 text-yellow-300 text-center font-serif",children:n.title}),E.jsx("p",{className:"text-stone-200 text-lg mb-6 leading-relaxed text-center",children:n.explanation}),E.jsx("div",{className:"border-t-2 border-stone-600 my-6"}),E.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4 font-serif text-center",children:"Examples"}),E.jsx("div",{className:"space-y-4",children:n.examples.map((h,y)=>E.jsxs("div",{className:"flex items-center bg-stone-700/50 p-3 rounded-lg ring-1 ring-stone-600",children:[E.jsx("span",{className:"text-4xl mr-4",children:d(h.icon_name)}),E.jsx("code",{className:"text-xl font-medium text-cyan-300 tracking-wide",children:h.text})]},y))}),E.jsxs("div",{className:"mt-8 flex justify-center items-center space-x-4",children:[E.jsx("button",{onClick:i,className:"px-8 py-3 bg-gray-600 text-white font-bold text-xl rounded-lg hover:bg-gray-500 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-gray-400 shadow-lg","aria-label":"Close lesson",children:"Got It!"}),E.jsx("button",{onClick:c,disabled:e,className:"px-8 py-3 bg-yellow-600 text-white font-bold text-xl rounded-lg hover:bg-yellow-500 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-yellow-400 shadow-lg disabled:bg-yellow-800 disabled:cursor-not-allowed","aria-label":"Explain again",children:"Explain Again"})]})]}):null;return E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-fade-in",children:[E.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in {
            animation: fade-in 0.3s ease-out forwards;
        }
       `}),g()]})},q0=48,G0=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1],[1,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1],[1,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,1],[1,0,0,0,0,1,0,0,0,0,0,0,1,0,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1],[1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1],[1,0,1,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1],[1,0,1,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1],[1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],k0=[{id:"Fitz",type:"npc",x:4,y:7},{id:"item-book",type:"quest_item",x:18,y:4,itemName:"book",guardianId:"imp2"},{id:"item-apple",type:"quest_item",x:17,y:3,itemName:"apple",guardianId:"imp1"},{id:"item-hat",type:"quest_item",x:2,y:11,itemName:"hat",guardianId:"imp3"},{id:"stone-1",type:"guiding_stone",x:5,y:3,lessonId:"articles_a_an"}],H0=[{id:"imp1",type:"article_imp",x:16,y:4,patrolRange:2,challenge:{type:"article",itemName:"apple",sentence:"She is eating ___ apple.",options:["a","an","the"],correctAnswer:"an"}},{id:"imp2",type:"article_imp",x:15,y:4,patrolRange:2,challenge:{type:"article",itemName:"book",sentence:"He is reading ___ book.",options:["a","an","the"],correctAnswer:"a"}},{id:"imp3",type:"article_imp",x:3,y:10,patrolRange:2,challenge:{type:"article",itemName:"hat",sentence:"That is ___ nice hat.",options:["a","an","the"],correctAnswer:"a"}}],B0={x:2,y:2},qt={TILE_SIZE:q0,layout:G0,interactives:k0,playerStart:B0,enemies:H0};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let z0,O0;function Y0(){return{geminiUrl:z0,vertexUrl:O0}}function F0(n,e,i,a){var c,d;if(!(n!=null&&n.baseUrl)){const g=Y0();return e?(c=g.vertexUrl)!==null&&c!==void 0?c:i:(d=g.geminiUrl)!==null&&d!==void 0?d:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn{}function oe(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,i){for(let d=0;d<e.length-1;d++){const g=e[d];if(g.endsWith("[]")){const h=g.slice(0,-2);if(!(h in n))if(Array.isArray(i))n[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${g}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(i))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(d+1),i[p])}else for(const p of y)r(p,e.slice(d+1),i)}return}else if(g.endsWith("[0]")){const h=g.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];r(y[0],e.slice(d+1),i);return}(!n[g]||typeof n[g]!="object")&&(n[g]={}),n=n[g]}const a=e[e.length-1],c=n[a];if(c!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===c)return;if(typeof c=="object"&&typeof i=="object"&&c!==null&&i!==null)Object.assign(c,i);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else n[a]=i}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return;const a=e[i];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(g=>s(g,e.slice(i+1))):void 0}else return}else n=n[a]}return n}catch(i){if(i instanceof TypeError)return;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zr(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Mm||(Mm={}));var Rm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Rm||(Rm={}));var Un;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Un||(Un={}));var bm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(bm||(bm={}));var Nm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Nm||(Nm={}));var wm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(wm||(wm={}));var Dm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Dm||(Dm={}));var Um;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Um||(Um={}));var Im;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Im||(Im={}));var Lm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Lm||(Lm={}));var Pm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Pm||(Pm={}));var Vm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Vm||(Vm={}));var qm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(qm||(qm={}));var Gm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gm||(Gm={}));var km;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(km||(km={}));var Hm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Hm||(Hm={}));var Aa;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Aa||(Aa={}));var Bm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Bm||(Bm={}));var $r;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($r||($r={}));var zm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zm||(zm={}));var Om;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Om||(Om={}));var Ym;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Ym||(Ym={}));var Fm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Fm||(Fm={}));var Jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Jm||(Jm={}));var Qm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Qm||(Qm={}));var Xm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Xm||(Xm={}));var Km;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Km||(Km={}));var Zm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zm||(Zm={}));var $m;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($m||($m={}));var Wm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Wm||(Wm={}));var jm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(jm||(jm={}));var ep;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(ep||(ep={}));var tp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(tp||(tp={}));var np;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(np||(np={}));var lp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(lp||(lp={}));var ip;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ip||(ip={}));var op;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(op||(op={}));var ap;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ap||(ap={}));var sp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sp||(sp={}));var rp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(rp||(rp={}));var up;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(up||(up={}));var Hl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Hl||(Hl={}));class Wr{constructor(e){const i={};for(const a of e.headers.entries())i[a[0]]=a[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ki{get text(){var e,i,a,c,d,g,h,y;if(((c=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const _ of(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[D,H]of Object.entries(_))D!=="text"&&D!=="thought"&&(H!==null||H!==void 0)&&C.push(D);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,p+=_.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,i,a,c,d,g,h,y;if(((c=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[_,D]of Object.entries(C))_!=="inlineData"&&(D!==null||D!==void 0)&&v.push(_);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,a,c,d,g,h,y;if(((c=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,a,c,d,g,h,y,p;if(((c=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,a,c,d,g,h,y,p;if(((c=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class cp{}class fp{}class J0{}class Q0{}class dp{}class mp{}class pp{}class X0{}class gp{}class hp{}class yp{}class vp{}class K0{}class Z0{}class $0{}class Tp{}class W0{get text(){var e,i,a;let c="",d=!1;const g=[];for(const h of(a=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[y,p]of Object.entries(h))y!=="text"&&y!=="thought"&&p!==null&&g.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,i,a;let c="";const d=[];for(const g of(a=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(g))h!=="inlineData"&&y!==null&&d.push(h);g.inlineData&&typeof g.inlineData.data=="string"&&(c+=atob(g.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class Ma{_fromAPIResponse({apiResponse:e,isVertexAI:i}){const a=new Ma;if(a.name=e.name,a.metadata=e.metadata,a.done=e.done,a.error=e.error,i){const c=e.response;if(c){const d=new gp,g=c.videos;d.generatedVideos=g==null?void 0:g.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?Zr(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),d.raiMediaFilteredCount=c.raiMediaFilteredCount,d.raiMediaFilteredReasons=c.raiMediaFilteredReasons,a.response=d}}else{const c=e.response;if(c){const d=new gp,g=c.generateVideoResponse,h=g==null?void 0:g.generatedSamples;d.generatedVideos=h==null?void 0:h.map(y=>{const p=y.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Zr(p==null?void 0:p.encodedVideo):void 0,mimeType:y.encoding}}}),d.raiMediaFilteredCount=c.raiMediaFilteredCount,d.raiMediaFilteredReasons=c.raiMediaFilteredReasons,a.response=d}}return a}}class j0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Jp(n,e){const i=we(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Qp(n){return Array.isArray(n)?n.map(e=>Ra(e)):[Ra(n)]}function Ra(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Xp(n){const e=Ra(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Kp(n){const e=Ra(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Cp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Zp(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Cp(e)):[Cp(n)]}function jr(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Sp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function xp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function at(n){if(n==null)throw new Error("ContentUnion is required");return jr(n)?n:{role:"user",parts:Zp(n)}}function $p(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const a=at(i);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const i=at(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>at(i)):[at(e)]}function It(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Sp(n)||xp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[at(n)]}const e=[],i=[],a=jr(n[0]);for(const c of n){const d=jr(c);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(Sp(c)||xp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(c)}}return a||e.push({role:"user",parts:Zp(i)}),e}function ev(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(a=>a!=="null");if(i.length===1)e.type=Object.values(Un).includes(i[0].toUpperCase())?i[0].toUpperCase():Un.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of i)e.anyOf.push({type:Object.values(Un).includes(a.toUpperCase())?a.toUpperCase():Un.TYPE_UNSPECIFIED})}}function Bl(n){const e={},i=["items"],a=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&ev(n.type,e);for(const[g,h]of Object.entries(n))if(h!=null)if(g=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Un).includes(h.toUpperCase())?h.toUpperCase():Un.TYPE_UNSPECIFIED}else if(i.includes(g))e[g]=Bl(h);else if(a.includes(g)){const y=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}y.push(Bl(p))}e[g]=y}else if(c.includes(g)){const y={};for(const[p,v]of Object.entries(h))y[p]=Bl(v);e[g]=y}else{if(g==="additionalProperties")continue;e[g]=h}return e}function uu(n){return Bl(n)}function cu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function fu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Yl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Bl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Bl(e.response));return n}function Fl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function tv(n,e,i,a=1){const c=!e.startsWith(`${i}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:c?`${i}/${e}`:e}function an(n,e){if(typeof e!="string")throw new Error("name must be a string");return tv(n,e,"cachedContents")}function Wp(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function jn(n){return Zr(n)}function nv(n){return n!=null&&typeof n=="object"&&"name"in n}function lv(n){return n!=null&&typeof n=="object"&&"video"in n}function iv(n){return n!=null&&typeof n=="object"&&"uri"in n}function jp(n){var e;let i;if(nv(n)&&(i=n.name),!(iv(n)&&(i=n.uri,i===void 0))&&!(lv(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const c=i.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${i}`);i=c[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function eg(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function tg(n){for(const e of["models","tunedModels","publisherModels"])if(ov(n,e))return n[e];return[]}function ov(n,e){return n!==null&&typeof n=="object"&&e in n}function av(n,e={}){const i=n,a={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function sv(n,e={}){const i=[],a=new Set;for(const c of n){const d=c.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const g=av(c,e);g.functionDeclarations&&i.push(...g.functionDeclarations)}return{functionDeclarations:i}}function ng(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function rv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Jl(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function lg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uv(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function cv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function fv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function dv(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],uv(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],cv(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],fv(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function ig(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>dv(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function mv(n){const e={},i=s(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const _=s(n,["maximum"]);_!=null&&r(e,["maximum"],_);const D=s(n,["minItems"]);D!=null&&r(e,["minItems"],D);const H=s(n,["minLength"]);H!=null&&r(e,["minLength"],H);const O=s(n,["minProperties"]);O!=null&&r(e,["minProperties"],O);const J=s(n,["minimum"]);J!=null&&r(e,["minimum"],J);const W=s(n,["nullable"]);W!=null&&r(e,["nullable"],W);const K=s(n,["pattern"]);K!=null&&r(e,["pattern"],K);const $=s(n,["properties"]);$!=null&&r(e,["properties"],$);const Z=s(n,["propertyOrdering"]);Z!=null&&r(e,["propertyOrdering"],Z);const F=s(n,["required"]);F!=null&&r(e,["required"],F);const re=s(n,["title"]);re!=null&&r(e,["title"],re);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function pv(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(n,["category"]);i!=null&&r(e,["category"],i);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function gv(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function hv(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function yv(n){const e={},i=s(n,["timeRangeFilter"]);return i!=null&&r(e,["timeRangeFilter"],hv(i)),e}function vv(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Tv(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],vv(i)),e}function Cv(){return{}}function Sv(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>gv(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],yv(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],Tv(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],Cv());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function xv(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Ev(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function _v(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],Ev(i));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function Av(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],xv(i));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],_v(a)),e}function Mv(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function og(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],Mv(i)),e}function Rv(n){const e={},i=s(n,["speaker"]);i!=null&&r(e,["speaker"],i);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],og(a)),e}function bv(n){const e={},i=s(n,["speakerVoiceConfigs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Rv(c))),r(e,["speakerVoiceConfigs"],a)}return e}function Nv(n){const e={},i=s(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],og(i));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],bv(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function wv(n){const e={},i=s(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function Dv(n,e,i){const a={},c=s(e,["systemInstruction"]);i!==void 0&&c!=null&&r(i,["systemInstruction"],ig(at(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(a,["topP"],g);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&r(a,["logprobs"],_);const D=s(e,["presencePenalty"]);D!=null&&r(a,["presencePenalty"],D);const H=s(e,["frequencyPenalty"]);H!=null&&r(a,["frequencyPenalty"],H);const O=s(e,["seed"]);O!=null&&r(a,["seed"],O);const J=s(e,["responseMimeType"]);J!=null&&r(a,["responseMimeType"],J);const W=s(e,["responseSchema"]);W!=null&&r(a,["responseSchema"],mv(uu(W)));const K=s(e,["responseJsonSchema"]);if(K!=null&&r(a,["responseJsonSchema"],K),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=s(e,["safetySettings"]);if(i!==void 0&&$!=null){let ne=$;Array.isArray(ne)&&(ne=ne.map(se=>pv(se))),r(i,["safetySettings"],ne)}const Z=s(e,["tools"]);if(i!==void 0&&Z!=null){let ne=Fl(Z);Array.isArray(ne)&&(ne=ne.map(se=>Sv(Yl(se)))),r(i,["tools"],ne)}const F=s(e,["toolConfig"]);if(i!==void 0&&F!=null&&r(i,["toolConfig"],Av(F)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=s(e,["cachedContent"]);i!==void 0&&re!=null&&r(i,["cachedContent"],an(n,re));const ee=s(e,["responseModalities"]);ee!=null&&r(a,["responseModalities"],ee);const xe=s(e,["mediaResolution"]);xe!=null&&r(a,["mediaResolution"],xe);const ie=s(e,["speechConfig"]);if(ie!=null&&r(a,["speechConfig"],Nv(cu(ie))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=s(e,["thinkingConfig"]);return j!=null&&r(a,["thinkingConfig"],wv(j)),a}function Uv(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["request","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(h=>ig(h))),r(i,["request","contents"],g)}const d=s(e,["config"]);return d!=null&&r(i,["request","generationConfig"],Dv(n,d,i)),i}function Iv(n,e){const i={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=s(e,["fileName"]);a!=null&&r(i,["fileName"],a);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>Uv(n,g))),r(i,["requests","requests"],d)}return i}function Lv(n,e){const i={},a=s(n,["displayName"]);if(e!==void 0&&a!=null&&r(e,["batch","displayName"],a),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function Pv(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["src"]);c!=null&&r(i,["batch","inputConfig"],Iv(n,ng(n,c)));const d=s(e,["config"]);return d!=null&&r(i,["config"],Lv(d,i)),i}function Vv(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],Jl(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function qv(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],Jl(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function Gv(n,e){const i={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function kv(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],Gv(i,e)),e}function Hv(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],Jl(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function Bv(n){const e={},i=s(n,["format"]);i!=null&&r(e,["instancesFormat"],i);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsSource","uris"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function zv(n){const e={},i=s(n,["format"]);i!=null&&r(e,["predictionsFormat"],i);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsDestination","outputUriPrefix"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Ov(n,e){const i={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],zv(rv(c))),i}function Yv(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["model"],we(n,a));const c=s(e,["src"]);c!=null&&r(i,["inputConfig"],Bv(ng(n,c)));const d=s(e,["config"]);return d!=null&&r(i,["config"],Ov(d,i)),i}function Fv(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],Jl(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function Jv(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],Jl(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function Qv(n,e){const i={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function Xv(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],Qv(i,e)),e}function Kv(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],Jl(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function Zv(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function $v(n){const e={},i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Wv(n){const e={},i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function jv(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],Zv(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],$v(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Wv(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function eT(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>jv(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function tT(n){const e={},i=s(n,["citationSources"]);return i!=null&&r(e,["citations"],i),e}function nT(n){const e={},i=s(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function lT(n){const e={},i=s(n,["urlMetadata"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>nT(c))),r(e,["urlMetadata"],a)}return e}function iT(n){const e={},i=s(n,["content"]);i!=null&&r(e,["content"],eT(i));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],tT(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],lT(g));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function oT(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>iT(y))),r(e,["candidates"],h)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function ag(n){const e={},i=s(n,["details"]);i!=null&&r(e,["details"],i);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function aT(n){const e={},i=s(n,["response"]);i!=null&&r(e,["response"],oT(i));const a=s(n,["error"]);return a!=null&&r(e,["error"],ag(a)),e}function sT(n){const e={},i=s(n,["responsesFile"]);i!=null&&r(e,["fileName"],i);const a=s(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>aT(d))),r(e,["inlinedResponses"],c)}return e}function eu(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["metadata","displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],lg(c));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["metadata","endTime"]);g!=null&&r(e,["endTime"],g);const h=s(n,["metadata","updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=s(n,["metadata","output"]);return p!=null&&r(e,["dest"],sT(p)),e}function rT(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>eu(g))),r(e,["batchJobs"],d)}return e}function uT(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["done"]);a!=null&&r(e,["done"],a);const c=s(n,["error"]);return c!=null&&r(e,["error"],ag(c)),e}function sg(n){const e={},i=s(n,["details"]);i!=null&&r(e,["details"],i);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function cT(n){const e={},i=s(n,["instancesFormat"]);i!=null&&r(e,["format"],i);const a=s(n,["gcsSource","uris"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function fT(n){const e={},i=s(n,["predictionsFormat"]);i!=null&&r(e,["format"],i);const a=s(n,["gcsDestination","outputUriPrefix"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function tu(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],lg(c));const d=s(n,["error"]);d!=null&&r(e,["error"],sg(d));const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const h=s(n,["startTime"]);h!=null&&r(e,["startTime"],h);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const C=s(n,["inputConfig"]);C!=null&&r(e,["src"],cT(C));const _=s(n,["outputConfig"]);return _!=null&&r(e,["dest"],fT(_)),e}function dT(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>tu(g))),r(e,["batchJobs"],d)}return e}function mT(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["done"]);a!=null&&r(e,["done"],a);const c=s(n,["error"]);return c!=null&&r(e,["error"],sg(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $n;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})($n||($n={}));class eo{constructor(e,i,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,a,c)}init(e,i,a){var c,d;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let g={config:{}};!a||Object.keys(a).length===0?g={config:{}}:typeof a=="object"?g=Object.assign({},a):g=a,g.config&&(g.config.pageToken=i.nextPageToken),this.paramsInternal=g,this.pageInternalSize=(d=(c=g.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pT extends Wn{constructor(e){super(),this.apiClient=e,this.create=async i=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(i.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(i.config=i.config||{},i.config.displayName===void 0&&(i.config.displayName="genaiBatchJob_${timestampStr}"),i.config.dest===void 0&&typeof i.src=="string")if(i.src.startsWith("gs://")&&i.src.endsWith(".jsonl"))i.config.dest=`${i.src.slice(0,-6)}/dest`;else if(i.src.startsWith("bq://"))i.config.dest=`${i.src}_dest_${c}`;else throw new Error("Unsupported source:"+i.src)}return await this.createInternal(i)},this.list=async(i={})=>new eo($n.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(i),i)}async createInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Yv(this.apiClient,e);return h=oe("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>tu(v))}else{const p=Pv(this.apiClient,e);return h=oe("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>eu(v))}}async get(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Fv(this.apiClient,e);return h=oe("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>tu(v))}else{const p=Vv(this.apiClient,e);return h=oe("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>eu(v))}}async cancel(e){var i,a,c,d;let g="",h={};if(this.apiClient.isVertexAI()){const y=Jv(this.apiClient,e);g=oe("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:g,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=qv(this.apiClient,e);g=oe("batches/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:g,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Xv(e);return h=oe("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=dT(v),_=new Tp;return Object.assign(_,C),_})}else{const p=kv(e);return h=oe("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=rT(v),_=new Tp;return Object.assign(_,C),_})}}async delete(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Kv(this.apiClient,e);return h=oe("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>mT(v))}else{const p=Hv(this.apiClient,e);return h=oe("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>uT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gT(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function hT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function yT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function vT(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],gT(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],hT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],yT(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Ep(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>vT(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function TT(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function CT(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function ST(n){const e={},i=s(n,["timeRangeFilter"]);return i!=null&&r(e,["timeRangeFilter"],CT(i)),e}function xT(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function ET(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],xT(i)),e}function _T(){return{}}function AT(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>TT(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],ST(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],ET(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],_T());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function MT(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function RT(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function bT(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],RT(i));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function NT(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],MT(i));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],bT(a)),e}function wT(n,e){const i={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const g=s(n,["contents"]);if(e!==void 0&&g!=null){let v=It(g);Array.isArray(v)&&(v=v.map(C=>Ep(C))),r(e,["contents"],v)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["systemInstruction"],Ep(at(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>AT(C))),r(e,["tools"],v)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],NT(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function DT(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["model"],Jp(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],wT(c,i)),i}function UT(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],an(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function IT(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],an(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function LT(n,e){const i={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),i}function PT(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],an(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],LT(c,i)),i}function VT(n,e){const i={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),i}function qT(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],VT(i,e)),e}function GT(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function kT(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function HT(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function BT(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],GT(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],kT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],HT(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function _p(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>BT(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function zT(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(n,["description"]);i!=null&&r(e,["description"],i);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function OT(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function YT(n){const e={},i=s(n,["timeRangeFilter"]);return i!=null&&r(e,["timeRangeFilter"],OT(i)),e}function FT(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function JT(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],FT(i)),e}function QT(){return{}}function XT(n){const e={},i=s(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function KT(n){const e={},i=s(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],XT(i));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function ZT(n){const e={},i=s(n,["authConfig"]);return i!=null&&r(e,["authConfig"],KT(i)),e}function $T(){return{}}function WT(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let C=i;Array.isArray(C)&&(C=C.map(_=>zT(_))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],YT(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],JT(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],QT());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],ZT(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],$T());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function jT(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function eC(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function tC(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],eC(i));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function nC(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],jT(i));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],tC(a)),e}function lC(n,e){const i={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const g=s(n,["contents"]);if(e!==void 0&&g!=null){let C=It(g);Array.isArray(C)&&(C=C.map(_=>_p(_))),r(e,["contents"],C)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["systemInstruction"],_p(at(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(_=>WT(_))),r(e,["tools"],C)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],nC(p));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),i}function iC(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["model"],Jp(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],lC(c,i)),i}function oC(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],an(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function aC(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],an(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function sC(n,e){const i={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),i}function rC(n,e){const i={},a=s(e,["name"]);a!=null&&r(i,["_url","name"],an(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],sC(c,i)),i}function uC(n,e){const i={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),i}function cC(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],uC(i,e)),e}function xa(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const h=s(n,["expireTime"]);h!=null&&r(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function fC(){return{}}function dC(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>xa(g))),r(e,["cachedContents"],d)}return e}function Ea(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const h=s(n,["expireTime"]);h!=null&&r(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function mC(){return{}}function pC(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>Ea(g))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gC extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new eo($n.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(i),i)}async create(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=iC(this.apiClient,e);return h=oe("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>Ea(v))}else{const p=DT(this.apiClient,e);return h=oe("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>xa(v))}}async get(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=oC(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>Ea(v))}else{const p=UT(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>xa(v))}}async delete(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=aC(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(()=>{const v=mC(),C=new yp;return Object.assign(C,v),C})}else{const p=IT(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(()=>{const v=fC(),C=new yp;return Object.assign(C,v),C})}}async update(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=rC(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>Ea(v))}else{const p=PT(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>xa(v))}}async listInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=cC(e);return h=oe("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=pC(v),_=new vp;return Object.assign(_,C),_})}else{const p=qT(e);return h=oe("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=dC(v),_=new vp;return Object.assign(_,C),_})}}}function Ap(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(n){return this instanceof qe?(this.v=n,this):new qe(n)}function zl(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(D){return function(H){return Promise.resolve(H).then(D,C)}}function h(D,H){a[D]&&(c[D]=function(O){return new Promise(function(J,W){d.push([D,O,J,W])>1||y(D,O)})},H&&(c[D]=H(c[D])))}function y(D,H){try{p(a[D](H))}catch(O){_(d[0][3],O)}}function p(D){D.value instanceof qe?Promise.resolve(D.value.v).then(v,C):_(d[0][2],D)}function v(D){y("next",D)}function C(D){y("throw",D)}function _(D,H){D(H),d.shift(),d.length&&y(d[0][0],d[0][1])}}function ji(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof Ap=="function"?Ap(n):n[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(d){i[d]=n[d]&&function(g){return new Promise(function(h,y){g=n[d](g),c(h,y,g.done,g.value)})}}function c(d,g,h,y){Promise.resolve(y).then(function(p){d({value:p,done:h})},g)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:rg(i)}function rg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function yC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Mp(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let a=0;for(;a<i;)if(n[a].role==="user")e.push(n[a]),a++;else{const c=[];let d=!0;for(;a<i&&n[a].role==="model";)c.push(n[a]),d&&!rg(n[a])&&(d=!1),a++;d?e.push(...c):e.pop()}return e}class vC{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new TC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class TC{constructor(e,i,a,c={},d=[]){this.apiClient=e,this.modelsModule=i,this.model=a,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),yC(d)}async sendMessage(e){var i;await this.sendPromise;const a=at(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var d,g,h;const y=await c,p=(g=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let _=[];v!=null&&(_=(h=v.slice(C))!==null&&h!==void 0?h:[]);const D=p?[p]:[];this.recordHistory(a,D,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var i;await this.sendPromise;const a=at(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,a)}getHistory(e=!1){const i=e?Mp(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var a,c;return zl(this,arguments,function*(){var g,h,y,p;const v=[];try{for(var C=!0,_=ji(e),D;D=yield qe(_.next()),g=D.done,!g;C=!0){p=D.value,C=!1;const H=p;if(hC(H)){const O=(c=(a=H.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;O!==void 0&&v.push(O)}yield yield qe(H)}}catch(H){h={error:H}}finally{try{!C&&!g&&(y=_.return)&&(yield qe(y.call(_)))}finally{if(h)throw h.error}}this.recordHistory(i,v)})}recordHistory(e,i,a){let c=[];i.length>0&&i.every(d=>d.role!==void 0)?c=i:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Mp(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ba extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ba.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(n,e){const i={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),i}function SC(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],CC(i,e)),e}function xC(n){const e={},i=s(n,["details"]);i!=null&&r(e,["details"],i);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function EC(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const h=s(n,["expirationTime"]);h!=null&&r(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const _=s(n,["state"]);_!=null&&r(e,["state"],_);const D=s(n,["source"]);D!=null&&r(e,["source"],D);const H=s(n,["videoMetadata"]);H!=null&&r(e,["videoMetadata"],H);const O=s(n,["error"]);return O!=null&&r(e,["error"],xC(O)),e}function _C(n){const e={},i=s(n,["file"]);i!=null&&r(e,["file"],EC(i));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function AC(n){const e={},i=s(n,["name"]);i!=null&&r(e,["_url","file"],jp(i));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function MC(n){const e={},i=s(n,["name"]);i!=null&&r(e,["_url","file"],jp(i));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function RC(n){const e={},i=s(n,["details"]);i!=null&&r(e,["details"],i);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function nu(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const h=s(n,["expirationTime"]);h!=null&&r(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const _=s(n,["state"]);_!=null&&r(e,["state"],_);const D=s(n,["source"]);D!=null&&r(e,["source"],D);const H=s(n,["videoMetadata"]);H!=null&&r(e,["videoMetadata"],H);const O=s(n,["error"]);return O!=null&&r(e,["error"],RC(O)),e}function bC(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>nu(g))),r(e,["files"],d)}return e}function NC(n){const e={},i=s(n,["sdkHttpResponse"]);return i!=null&&r(e,["sdkHttpResponse"],i),e}function wC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DC extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new eo($n.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>nu(i))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=SC(e);return d=oe("files",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=bC(y),v=new K0;return Object.assign(v,p),v})}}async createInternal(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_C(e);return d=oe("upload/v1beta/files",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=NC(y),v=new Z0;return Object.assign(v,p),v})}}async get(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AC(e);return d=oe("files/{file}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>nu(y))}}async delete(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=MC(e);return d=oe("files/{file}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=wC(),p=new $0;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function ug(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],UC(i)),e}function IC(n){const e={},i=s(n,["speaker"]);i!=null&&r(e,["speaker"],i);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],ug(a)),e}function LC(n){const e={},i=s(n,["speakerVoiceConfigs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>IC(c))),r(e,["speakerVoiceConfigs"],a)}return e}function PC(n){const e={},i=s(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],ug(i));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],LC(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function VC(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function qC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function GC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function kC(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],VC(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],qC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],GC(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function HC(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>kC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function BC(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function zC(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function OC(n){const e={},i=s(n,["timeRangeFilter"]);return i!=null&&r(e,["timeRangeFilter"],zC(i)),e}function YC(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function FC(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],YC(i)),e}function JC(){return{}}function QC(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>BC(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],OC(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],FC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],JC());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function XC(n){const e={},i=s(n,["handle"]);if(i!=null&&r(e,["handle"],i),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Rp(){return{}}function KC(n){const e={},i=s(n,["disabled"]);i!=null&&r(e,["disabled"],i);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function ZC(n){const e={},i=s(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],KC(i));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function $C(n){const e={},i=s(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function WC(n){const e={},i=s(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],$C(a)),e}function jC(n){const e={},i=s(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function eS(n,e){const i={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],PC(fu(C)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],_);const D=s(n,["systemInstruction"]);e!==void 0&&D!=null&&r(e,["setup","systemInstruction"],HC(at(D)));const H=s(n,["tools"]);if(e!==void 0&&H!=null){let F=Fl(H);Array.isArray(F)&&(F=F.map(re=>QC(Yl(re)))),r(e,["setup","tools"],F)}const O=s(n,["sessionResumption"]);e!==void 0&&O!=null&&r(e,["setup","sessionResumption"],XC(O));const J=s(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","inputAudioTranscription"],Rp());const W=s(n,["outputAudioTranscription"]);e!==void 0&&W!=null&&r(e,["setup","outputAudioTranscription"],Rp());const K=s(n,["realtimeInputConfig"]);e!==void 0&&K!=null&&r(e,["setup","realtimeInputConfig"],ZC(K));const $=s(n,["contextWindowCompression"]);e!==void 0&&$!=null&&r(e,["setup","contextWindowCompression"],WC($));const Z=s(n,["proactivity"]);return e!==void 0&&Z!=null&&r(e,["setup","proactivity"],jC(Z)),i}function tS(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["setup","model"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],eS(c,i)),i}function nS(){return{}}function lS(){return{}}function iS(n){const e={},i=s(n,["media"]);i!=null&&r(e,["mediaChunks"],Qp(i));const a=s(n,["audio"]);a!=null&&r(e,["audio"],Kp(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],Xp(d));const g=s(n,["text"]);return g!=null&&r(e,["text"],g),s(n,["activityStart"])!=null&&r(e,["activityStart"],nS()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],lS()),e}function cg(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function oS(n){const e={},i=s(n,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>cg(c))),r(e,["weightedPrompts"],a)}return e}function fg(n){const e={},i=s(n,["temperature"]);i!=null&&r(e,["temperature"],i);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const g=s(n,["bpm"]);g!=null&&r(e,["bpm"],g);const h=s(n,["density"]);h!=null&&r(e,["density"],h);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const _=s(n,["onlyBassAndDrums"]);return _!=null&&r(e,["onlyBassAndDrums"],_),e}function aS(n){const e={},i=s(n,["musicGenerationConfig"]);return i!=null&&r(e,["musicGenerationConfig"],fg(i)),e}function dg(n){const e={},i=s(n,["model"]);return i!=null&&r(e,["model"],i),e}function mg(n){const e={},i=s(n,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>cg(c))),r(e,["weightedPrompts"],a)}return e}function lu(n){const e={},i=s(n,["setup"]);i!=null&&r(e,["setup"],dg(i));const a=s(n,["clientContent"]);a!=null&&r(e,["clientContent"],mg(a));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],fg(c));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function sS(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function rS(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],sS(i)),e}function uS(n){const e={},i=s(n,["voiceConfig"]);if(i!=null&&r(e,["voiceConfig"],rS(i)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function cS(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function fS(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function dS(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function mS(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],cS(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],fS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],dS(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function pS(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>mS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function gS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(n,["description"]);i!=null&&r(e,["description"],i);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function hS(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function yS(n){const e={},i=s(n,["timeRangeFilter"]);return i!=null&&r(e,["timeRangeFilter"],hS(i)),e}function vS(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function TS(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],vS(i)),e}function CS(){return{}}function SS(n){const e={},i=s(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function xS(n){const e={},i=s(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],SS(i));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function ES(n){const e={},i=s(n,["authConfig"]);return i!=null&&r(e,["authConfig"],xS(i)),e}function _S(){return{}}function AS(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let C=i;Array.isArray(C)&&(C=C.map(_=>gS(_))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],yS(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],TS(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],CS());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],ES(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],_S());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function MS(n){const e={},i=s(n,["handle"]);i!=null&&r(e,["handle"],i);const a=s(n,["transparent"]);return a!=null&&r(e,["transparent"],a),e}function bp(){return{}}function RS(n){const e={},i=s(n,["disabled"]);i!=null&&r(e,["disabled"],i);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function bS(n){const e={},i=s(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],RS(i));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function NS(n){const e={},i=s(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function wS(n){const e={},i=s(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],NS(a)),e}function DS(n){const e={},i=s(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function US(n,e){const i={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],uS(fu(C)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],_);const D=s(n,["systemInstruction"]);e!==void 0&&D!=null&&r(e,["setup","systemInstruction"],pS(at(D)));const H=s(n,["tools"]);if(e!==void 0&&H!=null){let F=Fl(H);Array.isArray(F)&&(F=F.map(re=>AS(Yl(re)))),r(e,["setup","tools"],F)}const O=s(n,["sessionResumption"]);e!==void 0&&O!=null&&r(e,["setup","sessionResumption"],MS(O));const J=s(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","inputAudioTranscription"],bp());const W=s(n,["outputAudioTranscription"]);e!==void 0&&W!=null&&r(e,["setup","outputAudioTranscription"],bp());const K=s(n,["realtimeInputConfig"]);e!==void 0&&K!=null&&r(e,["setup","realtimeInputConfig"],bS(K));const $=s(n,["contextWindowCompression"]);e!==void 0&&$!=null&&r(e,["setup","contextWindowCompression"],wS($));const Z=s(n,["proactivity"]);return e!==void 0&&Z!=null&&r(e,["setup","proactivity"],DS(Z)),i}function IS(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["setup","model"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],US(c,i)),i}function LS(){return{}}function PS(){return{}}function VS(n){const e={},i=s(n,["media"]);i!=null&&r(e,["mediaChunks"],Qp(i));const a=s(n,["audio"]);a!=null&&r(e,["audio"],Kp(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],Xp(d));const g=s(n,["text"]);return g!=null&&r(e,["text"],g),s(n,["activityStart"])!=null&&r(e,["activityStart"],LS()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],PS()),e}function qS(){return{}}function GS(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function kS(n){const e={},i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function HS(n){const e={},i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function BS(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],GS(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],kS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],HS(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function zS(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>BS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Np(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function OS(n){const e={},i=s(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function YS(n){const e={},i=s(n,["urlMetadata"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>OS(c))),r(e,["urlMetadata"],a)}return e}function FS(n){const e={},i=s(n,["modelTurn"]);i!=null&&r(e,["modelTurn"],zS(i));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const g=s(n,["generationComplete"]);g!=null&&r(e,["generationComplete"],g);const h=s(n,["inputTranscription"]);h!=null&&r(e,["inputTranscription"],Np(h));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Np(y));const p=s(n,["urlContextMetadata"]);return p!=null&&r(e,["urlContextMetadata"],YS(p)),e}function JS(n){const e={},i=s(n,["id"]);i!=null&&r(e,["id"],i);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function QS(n){const e={},i=s(n,["functionCalls"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>JS(c))),r(e,["functionCalls"],a)}return e}function XS(n){const e={},i=s(n,["ids"]);return i!=null&&r(e,["ids"],i),e}function Ta(n){const e={},i=s(n,["modality"]);i!=null&&r(e,["modality"],i);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function KS(n){const e={},i=s(n,["promptTokenCount"]);i!=null&&r(e,["promptTokenCount"],i);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const g=s(n,["thoughtsTokenCount"]);g!=null&&r(e,["thoughtsTokenCount"],g);const h=s(n,["totalTokenCount"]);h!=null&&r(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(D=>Ta(D))),r(e,["promptTokensDetails"],_)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(D=>Ta(D))),r(e,["cacheTokensDetails"],_)}const v=s(n,["responseTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(D=>Ta(D))),r(e,["responseTokensDetails"],_)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let _=C;Array.isArray(_)&&(_=_.map(D=>Ta(D))),r(e,["toolUsePromptTokensDetails"],_)}return e}function ZS(n){const e={},i=s(n,["timeLeft"]);return i!=null&&r(e,["timeLeft"],i),e}function $S(n){const e={},i=s(n,["newHandle"]);i!=null&&r(e,["newHandle"],i);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function WS(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],qS());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],FS(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],QS(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],XS(d));const g=s(n,["usageMetadata"]);g!=null&&r(e,["usageMetadata"],KS(g));const h=s(n,["goAway"]);h!=null&&r(e,["goAway"],ZS(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],$S(y)),e}function jS(){return{}}function ex(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function tx(n){const e={},i=s(n,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>ex(c))),r(e,["weightedPrompts"],a)}return e}function nx(n){const e={},i=s(n,["temperature"]);i!=null&&r(e,["temperature"],i);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const g=s(n,["bpm"]);g!=null&&r(e,["bpm"],g);const h=s(n,["density"]);h!=null&&r(e,["density"],h);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const _=s(n,["onlyBassAndDrums"]);return _!=null&&r(e,["onlyBassAndDrums"],_),e}function lx(n){const e={},i=s(n,["clientContent"]);i!=null&&r(e,["clientContent"],tx(i));const a=s(n,["musicGenerationConfig"]);return a!=null&&r(e,["musicGenerationConfig"],nx(a)),e}function ix(n){const e={},i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);a!=null&&r(e,["mimeType"],a);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],lx(c)),e}function ox(n){const e={},i=s(n,["audioChunks"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>ix(c))),r(e,["audioChunks"],a)}return e}function ax(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const a=s(n,["filteredReason"]);return a!=null&&r(e,["filteredReason"],a),e}function sx(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],jS());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],ox(a));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],ax(c)),e}function rx(n){const e={},i=s(n,["sessionId"]);return i!=null&&r(e,["sessionId"],i),e}function ux(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function cx(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function fx(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function dx(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],ux(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],cx(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],fx(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function mx(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>dx(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function wp(n){const e={},i=s(n,["text"]);i!=null&&r(e,["text"],i);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function px(n){const e={},i=s(n,["modelTurn"]);i!=null&&r(e,["modelTurn"],mx(i));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const g=s(n,["generationComplete"]);g!=null&&r(e,["generationComplete"],g);const h=s(n,["inputTranscription"]);h!=null&&r(e,["inputTranscription"],wp(h));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],wp(y)),e}function gx(n){const e={},i=s(n,["args"]);i!=null&&r(e,["args"],i);const a=s(n,["name"]);return a!=null&&r(e,["name"],a),e}function hx(n){const e={},i=s(n,["functionCalls"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>gx(c))),r(e,["functionCalls"],a)}return e}function yx(n){const e={},i=s(n,["ids"]);return i!=null&&r(e,["ids"],i),e}function Ca(n){const e={},i=s(n,["modality"]);i!=null&&r(e,["modality"],i);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function vx(n){const e={},i=s(n,["promptTokenCount"]);i!=null&&r(e,["promptTokenCount"],i);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const g=s(n,["thoughtsTokenCount"]);g!=null&&r(e,["thoughtsTokenCount"],g);const h=s(n,["totalTokenCount"]);h!=null&&r(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let D=y;Array.isArray(D)&&(D=D.map(H=>Ca(H))),r(e,["promptTokensDetails"],D)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let D=p;Array.isArray(D)&&(D=D.map(H=>Ca(H))),r(e,["cacheTokensDetails"],D)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let D=v;Array.isArray(D)&&(D=D.map(H=>Ca(H))),r(e,["responseTokensDetails"],D)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let D=C;Array.isArray(D)&&(D=D.map(H=>Ca(H))),r(e,["toolUsePromptTokensDetails"],D)}const _=s(n,["trafficType"]);return _!=null&&r(e,["trafficType"],_),e}function Tx(n){const e={},i=s(n,["timeLeft"]);return i!=null&&r(e,["timeLeft"],i),e}function Cx(n){const e={},i=s(n,["newHandle"]);i!=null&&r(e,["newHandle"],i);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function Sx(n){const e={},i=s(n,["setupComplete"]);i!=null&&r(e,["setupComplete"],rx(i));const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],px(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],hx(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],yx(d));const g=s(n,["usageMetadata"]);g!=null&&r(e,["usageMetadata"],vx(g));const h=s(n,["goAway"]);h!=null&&r(e,["goAway"],Tx(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],Cx(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xx(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Ex(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function _x(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Ax(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],xx(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Ex(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],_x(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Na(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>Ax(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Mx(n){const e={},i=s(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const _=s(n,["maximum"]);_!=null&&r(e,["maximum"],_);const D=s(n,["minItems"]);D!=null&&r(e,["minItems"],D);const H=s(n,["minLength"]);H!=null&&r(e,["minLength"],H);const O=s(n,["minProperties"]);O!=null&&r(e,["minProperties"],O);const J=s(n,["minimum"]);J!=null&&r(e,["minimum"],J);const W=s(n,["nullable"]);W!=null&&r(e,["nullable"],W);const K=s(n,["pattern"]);K!=null&&r(e,["pattern"],K);const $=s(n,["properties"]);$!=null&&r(e,["properties"],$);const Z=s(n,["propertyOrdering"]);Z!=null&&r(e,["propertyOrdering"],Z);const F=s(n,["required"]);F!=null&&r(e,["required"],F);const re=s(n,["title"]);re!=null&&r(e,["title"],re);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function Rx(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(n,["category"]);i!=null&&r(e,["category"],i);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function bx(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Nx(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function wx(n){const e={},i=s(n,["timeRangeFilter"]);return i!=null&&r(e,["timeRangeFilter"],Nx(i)),e}function Dx(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Ux(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],Dx(i)),e}function Ix(){return{}}function Lx(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>bx(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],wx(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],Ux(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],Ix());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function Px(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Vx(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function qx(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],Vx(i));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function Gx(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],Px(i));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],qx(a)),e}function kx(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function pg(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],kx(i)),e}function Hx(n){const e={},i=s(n,["speaker"]);i!=null&&r(e,["speaker"],i);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],pg(a)),e}function Bx(n){const e={},i=s(n,["speakerVoiceConfigs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Hx(c))),r(e,["speakerVoiceConfigs"],a)}return e}function zx(n){const e={},i=s(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],pg(i));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],Bx(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function Ox(n){const e={},i=s(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function Yx(n,e,i){const a={},c=s(e,["systemInstruction"]);i!==void 0&&c!=null&&r(i,["systemInstruction"],Na(at(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(a,["topP"],g);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&r(a,["logprobs"],_);const D=s(e,["presencePenalty"]);D!=null&&r(a,["presencePenalty"],D);const H=s(e,["frequencyPenalty"]);H!=null&&r(a,["frequencyPenalty"],H);const O=s(e,["seed"]);O!=null&&r(a,["seed"],O);const J=s(e,["responseMimeType"]);J!=null&&r(a,["responseMimeType"],J);const W=s(e,["responseSchema"]);W!=null&&r(a,["responseSchema"],Mx(uu(W)));const K=s(e,["responseJsonSchema"]);if(K!=null&&r(a,["responseJsonSchema"],K),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=s(e,["safetySettings"]);if(i!==void 0&&$!=null){let ne=$;Array.isArray(ne)&&(ne=ne.map(se=>Rx(se))),r(i,["safetySettings"],ne)}const Z=s(e,["tools"]);if(i!==void 0&&Z!=null){let ne=Fl(Z);Array.isArray(ne)&&(ne=ne.map(se=>Lx(Yl(se)))),r(i,["tools"],ne)}const F=s(e,["toolConfig"]);if(i!==void 0&&F!=null&&r(i,["toolConfig"],Gx(F)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=s(e,["cachedContent"]);i!==void 0&&re!=null&&r(i,["cachedContent"],an(n,re));const ee=s(e,["responseModalities"]);ee!=null&&r(a,["responseModalities"],ee);const xe=s(e,["mediaResolution"]);xe!=null&&r(a,["mediaResolution"],xe);const ie=s(e,["speechConfig"]);if(ie!=null&&r(a,["speechConfig"],zx(cu(ie))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=s(e,["thinkingConfig"]);return j!=null&&r(a,["thinkingConfig"],Ox(j)),a}function Dp(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(h=>Na(h))),r(i,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(i,["generationConfig"],Yx(n,d,i)),i}function Fx(n,e){const i={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Jx(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["contents"]);c!=null&&r(i,["requests[]","content"],$p(n,c));const d=s(e,["config"]);d!=null&&r(i,["config"],Fx(d,i));const g=s(e,["model"]);return g!==void 0&&r(i,["requests[]","model"],we(n,g)),i}function Qx(n,e){const i={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const h=s(n,["personGeneration"]);e!==void 0&&h!=null&&r(e,["parameters","personGeneration"],h);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const _=s(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&r(e,["parameters","outputOptions","compressionQuality"],_),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Xx(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(i,["config"],Qx(d,i)),i}function Kx(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function Zx(n,e,i){const a={},c=s(e,["pageSize"]);i!==void 0&&c!=null&&r(i,["_query","pageSize"],c);const d=s(e,["pageToken"]);i!==void 0&&d!=null&&r(i,["_query","pageToken"],d);const g=s(e,["filter"]);i!==void 0&&g!=null&&r(i,["_query","filter"],g);const h=s(e,["queryBase"]);return i!==void 0&&h!=null&&r(i,["_url","models_url"],eg(n,h)),a}function $x(n,e){const i={},a=s(e,["config"]);return a!=null&&r(i,["config"],Zx(n,a,i)),i}function Wx(n,e){const i={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),i}function jx(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],Wx(c,i)),i}function eE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function tE(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function nE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(h=>Na(h))),r(i,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(i,["config"],tE(d)),i}function lE(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=s(n,["imageBytes"]);i!=null&&r(e,["bytesBase64Encoded"],jn(i));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function iE(n,e){const i={},a=s(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);if(e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=s(n,["personGeneration"]);if(e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=s(n,["negativePrompt"]);e!==void 0&&h!=null&&r(e,["parameters","negativePrompt"],h);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function oE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&r(i,["instances[0]","image"],lE(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const g=s(e,["config"]);return g!=null&&r(i,["config"],iE(g,i)),i}function aE(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function sE(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function rE(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function uE(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],aE(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],sE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],rE(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Ql(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>uE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function cE(n){const e={},i=s(n,["anyOf"]);i!=null&&r(e,["anyOf"],i);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const _=s(n,["maximum"]);_!=null&&r(e,["maximum"],_);const D=s(n,["minItems"]);D!=null&&r(e,["minItems"],D);const H=s(n,["minLength"]);H!=null&&r(e,["minLength"],H);const O=s(n,["minProperties"]);O!=null&&r(e,["minProperties"],O);const J=s(n,["minimum"]);J!=null&&r(e,["minimum"],J);const W=s(n,["nullable"]);W!=null&&r(e,["nullable"],W);const K=s(n,["pattern"]);K!=null&&r(e,["pattern"],K);const $=s(n,["properties"]);$!=null&&r(e,["properties"],$);const Z=s(n,["propertyOrdering"]);Z!=null&&r(e,["propertyOrdering"],Z);const F=s(n,["required"]);F!=null&&r(e,["required"],F);const re=s(n,["title"]);re!=null&&r(e,["title"],re);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function fE(n){const e={},i=s(n,["featureSelectionPreference"]);return i!=null&&r(e,["featureSelectionPreference"],i),e}function dE(n){const e={},i=s(n,["method"]);i!=null&&r(e,["method"],i);const a=s(n,["category"]);a!=null&&r(e,["category"],a);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function mE(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=s(n,["description"]);i!=null&&r(e,["description"],i);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function pE(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function gE(n){const e={},i=s(n,["timeRangeFilter"]);return i!=null&&r(e,["timeRangeFilter"],pE(i)),e}function hE(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function yE(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],hE(i)),e}function vE(){return{}}function TE(n){const e={},i=s(n,["apiKeyString"]);return i!=null&&r(e,["apiKeyString"],i),e}function CE(n){const e={},i=s(n,["apiKeyConfig"]);i!=null&&r(e,["apiKeyConfig"],TE(i));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function SE(n){const e={},i=s(n,["authConfig"]);return i!=null&&r(e,["authConfig"],CE(i)),e}function xE(){return{}}function gg(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let C=i;Array.isArray(C)&&(C=C.map(_=>mE(_))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],gE(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],yE(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],vE());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],SE(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],xE());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function EE(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function _E(n){const e={},i=s(n,["latitude"]);i!=null&&r(e,["latitude"],i);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function AE(n){const e={},i=s(n,["latLng"]);i!=null&&r(e,["latLng"],_E(i));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function ME(n){const e={},i=s(n,["functionCallingConfig"]);i!=null&&r(e,["functionCallingConfig"],EE(i));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],AE(a)),e}function RE(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function bE(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],RE(i)),e}function NE(n){const e={},i=s(n,["voiceConfig"]);if(i!=null&&r(e,["voiceConfig"],bE(i)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function wE(n){const e={},i=s(n,["includeThoughts"]);i!=null&&r(e,["includeThoughts"],i);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function DE(n,e,i){const a={},c=s(e,["systemInstruction"]);i!==void 0&&c!=null&&r(i,["systemInstruction"],Ql(at(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(a,["topP"],g);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&r(a,["logprobs"],_);const D=s(e,["presencePenalty"]);D!=null&&r(a,["presencePenalty"],D);const H=s(e,["frequencyPenalty"]);H!=null&&r(a,["frequencyPenalty"],H);const O=s(e,["seed"]);O!=null&&r(a,["seed"],O);const J=s(e,["responseMimeType"]);J!=null&&r(a,["responseMimeType"],J);const W=s(e,["responseSchema"]);W!=null&&r(a,["responseSchema"],cE(uu(W)));const K=s(e,["responseJsonSchema"]);K!=null&&r(a,["responseJsonSchema"],K);const $=s(e,["routingConfig"]);$!=null&&r(a,["routingConfig"],$);const Z=s(e,["modelSelectionConfig"]);Z!=null&&r(a,["modelConfig"],fE(Z));const F=s(e,["safetySettings"]);if(i!==void 0&&F!=null){let ge=F;Array.isArray(ge)&&(ge=ge.map(k=>dE(k))),r(i,["safetySettings"],ge)}const re=s(e,["tools"]);if(i!==void 0&&re!=null){let ge=Fl(re);Array.isArray(ge)&&(ge=ge.map(k=>gg(Yl(k)))),r(i,["tools"],ge)}const ee=s(e,["toolConfig"]);i!==void 0&&ee!=null&&r(i,["toolConfig"],ME(ee));const xe=s(e,["labels"]);i!==void 0&&xe!=null&&r(i,["labels"],xe);const ie=s(e,["cachedContent"]);i!==void 0&&ie!=null&&r(i,["cachedContent"],an(n,ie));const j=s(e,["responseModalities"]);j!=null&&r(a,["responseModalities"],j);const ne=s(e,["mediaResolution"]);ne!=null&&r(a,["mediaResolution"],ne);const se=s(e,["speechConfig"]);se!=null&&r(a,["speechConfig"],NE(cu(se)));const Te=s(e,["audioTimestamp"]);Te!=null&&r(a,["audioTimestamp"],Te);const Re=s(e,["thinkingConfig"]);return Re!=null&&r(a,["thinkingConfig"],wE(Re)),a}function Up(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(h=>Ql(h))),r(i,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(i,["generationConfig"],DE(n,d,i)),i}function UE(n,e){const i={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["instances[]","task_type"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const g=s(n,["mimeType"]);e!==void 0&&g!=null&&r(e,["instances[]","mimeType"],g);const h=s(n,["autoTruncate"]);return e!==void 0&&h!=null&&r(e,["parameters","autoTruncate"],h),i}function IE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["contents"]);c!=null&&r(i,["instances[]","content"],$p(n,c));const d=s(e,["config"]);return d!=null&&r(i,["config"],UE(d,i)),i}function LE(n,e){const i={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const g=s(n,["aspectRatio"]);e!==void 0&&g!=null&&r(e,["parameters","aspectRatio"],g);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&r(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const _=s(n,["includeRaiReason"]);e!==void 0&&_!=null&&r(e,["parameters","includeRaiReason"],_);const D=s(n,["language"]);e!==void 0&&D!=null&&r(e,["parameters","language"],D);const H=s(n,["outputMimeType"]);e!==void 0&&H!=null&&r(e,["parameters","outputOptions","mimeType"],H);const O=s(n,["outputCompressionQuality"]);e!==void 0&&O!=null&&r(e,["parameters","outputOptions","compressionQuality"],O);const J=s(n,["addWatermark"]);e!==void 0&&J!=null&&r(e,["parameters","addWatermark"],J);const W=s(n,["imageSize"]);e!==void 0&&W!=null&&r(e,["parameters","sampleImageSize"],W);const K=s(n,["enhancePrompt"]);return e!==void 0&&K!=null&&r(e,["parameters","enhancePrompt"],K),i}function PE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(i,["config"],LE(d,i)),i}function wa(n){const e={},i=s(n,["gcsUri"]);i!=null&&r(e,["gcsUri"],i);const a=s(n,["imageBytes"]);a!=null&&r(e,["bytesBase64Encoded"],jn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function VE(n){const e={},i=s(n,["maskMode"]);i!=null&&r(e,["maskMode"],i);const a=s(n,["segmentationClasses"]);a!=null&&r(e,["maskClasses"],a);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function qE(n){const e={},i=s(n,["controlType"]);i!=null&&r(e,["controlType"],i);const a=s(n,["enableControlImageComputation"]);return a!=null&&r(e,["computeControl"],a),e}function GE(n){const e={},i=s(n,["styleDescription"]);return i!=null&&r(e,["styleDescription"],i),e}function kE(n){const e={},i=s(n,["subjectType"]);i!=null&&r(e,["subjectType"],i);const a=s(n,["subjectDescription"]);return a!=null&&r(e,["subjectDescription"],a),e}function HE(n){const e={},i=s(n,["referenceImage"]);i!=null&&r(e,["referenceImage"],wa(i));const a=s(n,["referenceId"]);a!=null&&r(e,["referenceId"],a);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],VE(d));const g=s(n,["controlImageConfig"]);g!=null&&r(e,["controlImageConfig"],qE(g));const h=s(n,["styleImageConfig"]);h!=null&&r(e,["styleImageConfig"],GE(h));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],kE(y)),e}function BE(n,e){const i={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const g=s(n,["aspectRatio"]);e!==void 0&&g!=null&&r(e,["parameters","aspectRatio"],g);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&r(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const _=s(n,["includeRaiReason"]);e!==void 0&&_!=null&&r(e,["parameters","includeRaiReason"],_);const D=s(n,["language"]);e!==void 0&&D!=null&&r(e,["parameters","language"],D);const H=s(n,["outputMimeType"]);e!==void 0&&H!=null&&r(e,["parameters","outputOptions","mimeType"],H);const O=s(n,["outputCompressionQuality"]);e!==void 0&&O!=null&&r(e,["parameters","outputOptions","compressionQuality"],O);const J=s(n,["addWatermark"]);e!==void 0&&J!=null&&r(e,["parameters","addWatermark"],J);const W=s(n,["editMode"]);e!==void 0&&W!=null&&r(e,["parameters","editMode"],W);const K=s(n,["baseSteps"]);return e!==void 0&&K!=null&&r(e,["parameters","editConfig","baseSteps"],K),i}function zE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>HE(y))),r(i,["instances[0]","referenceImages"],h)}const g=s(e,["config"]);return g!=null&&r(i,["config"],BE(g,i)),i}function OE(n,e){const i={},a=s(n,["includeRaiReason"]);e!==void 0&&a!=null&&r(e,["parameters","includeRaiReason"],a);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","compressionQuality"],d);const g=s(n,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const h=s(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const p=s(n,["mode"]);return e!==void 0&&p!=null&&r(e,["parameters","mode"],p),i}function YE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["image"]);c!=null&&r(i,["instances[0]","image"],wa(c));const d=s(e,["upscaleFactor"]);d!=null&&r(i,["parameters","upscaleConfig","upscaleFactor"],d);const g=s(e,["config"]);return g!=null&&r(i,["config"],OE(g,i)),i}function FE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function JE(n,e,i){const a={},c=s(e,["pageSize"]);i!==void 0&&c!=null&&r(i,["_query","pageSize"],c);const d=s(e,["pageToken"]);i!==void 0&&d!=null&&r(i,["_query","pageToken"],d);const g=s(e,["filter"]);i!==void 0&&g!=null&&r(i,["_query","filter"],g);const h=s(e,["queryBase"]);return i!==void 0&&h!=null&&r(i,["_url","models_url"],eg(n,h)),a}function QE(n,e){const i={},a=s(e,["config"]);return a!=null&&r(i,["config"],JE(n,a,i)),i}function XE(n,e){const i={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),i}function KE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],XE(c,i)),i}function ZE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","name"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],c),i}function $E(n,e){const i={},a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&r(e,["systemInstruction"],Ql(at(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(h=>gg(h))),r(e,["tools"],g)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),i}function WE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(h=>Ql(h))),r(i,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(i,["config"],$E(d,i)),i}function jE(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(h=>Ql(h))),r(i,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(i,["config"],d),i}function e_(n){const e={},i=s(n,["uri"]);i!=null&&r(e,["gcsUri"],i);const a=s(n,["videoBytes"]);a!=null&&r(e,["bytesBase64Encoded"],jn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function t_(n,e){const i={},a=s(n,["numberOfVideos"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const g=s(n,["durationSeconds"]);e!==void 0&&g!=null&&r(e,["parameters","durationSeconds"],g);const h=s(n,["seed"]);e!==void 0&&h!=null&&r(e,["parameters","seed"],h);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const _=s(n,["negativePrompt"]);e!==void 0&&_!=null&&r(e,["parameters","negativePrompt"],_);const D=s(n,["enhancePrompt"]);e!==void 0&&D!=null&&r(e,["parameters","enhancePrompt"],D);const H=s(n,["generateAudio"]);e!==void 0&&H!=null&&r(e,["parameters","generateAudio"],H);const O=s(n,["lastFrame"]);e!==void 0&&O!=null&&r(e,["instances[0]","lastFrame"],wa(O));const J=s(n,["compressionQuality"]);return e!==void 0&&J!=null&&r(e,["parameters","compressionQuality"],J),i}function n_(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["_url","model"],we(n,a));const c=s(e,["prompt"]);c!=null&&r(i,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&r(i,["instances[0]","image"],wa(d));const g=s(e,["video"]);g!=null&&r(i,["instances[0]","video"],e_(g));const h=s(e,["config"]);return h!=null&&r(i,["config"],t_(h,i)),i}function l_(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function i_(n){const e={},i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function o_(n){const e={},i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function a_(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],l_(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],i_(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],o_(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function s_(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>a_(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function r_(n){const e={},i=s(n,["citationSources"]);return i!=null&&r(e,["citations"],i),e}function u_(n){const e={},i=s(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function c_(n){const e={},i=s(n,["urlMetadata"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>u_(c))),r(e,["urlMetadata"],a)}return e}function f_(n){const e={},i=s(n,["content"]);i!=null&&r(e,["content"],s_(i));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],r_(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],c_(g));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Ip(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>f_(y))),r(e,["candidates"],h)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function d_(n){const e={},i=s(n,["values"]);return i!=null&&r(e,["values"],i),e}function m_(){return{}}function p_(n){const e={},i=s(n,["embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>d_(d))),r(e,["embeddings"],c)}return s(n,["metadata"])!=null&&r(e,["metadata"],m_()),e}function g_(n){const e={},i=s(n,["bytesBase64Encoded"]);i!=null&&r(e,["imageBytes"],jn(i));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function hg(n){const e={},i=s(n,["safetyAttributes","categories"]);i!=null&&r(e,["categories"],i);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function h_(n){const e={},i=s(n,["_self"]);i!=null&&r(e,["image"],g_(i));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],hg(c)),e}function y_(n){const e={},i=s(n,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>h_(d))),r(e,["generatedImages"],c)}const a=s(n,["positivePromptSafetyAttributes"]);return a!=null&&r(e,["positivePromptSafetyAttributes"],hg(a)),e}function v_(n){const e={},i=s(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function iu(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const g=s(n,["_self"]);g!=null&&r(e,["tunedModelInfo"],v_(g));const h=s(n,["inputTokenLimit"]);h!=null&&r(e,["inputTokenLimit"],h);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=s(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function T_(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=tg(c);Array.isArray(d)&&(d=d.map(g=>iu(g))),r(e,["models"],d)}return e}function C_(){return{}}function S_(n){const e={},i=s(n,["totalTokens"]);i!=null&&r(e,["totalTokens"],i);const a=s(n,["cachedContentTokenCount"]);return a!=null&&r(e,["cachedContentTokenCount"],a),e}function x_(n){const e={},i=s(n,["video","uri"]);i!=null&&r(e,["uri"],i);const a=s(n,["video","encodedVideo"]);a!=null&&r(e,["videoBytes"],jn(a));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function E_(n){const e={},i=s(n,["_self"]);return i!=null&&r(e,["video"],x_(i)),e}function __(n){const e={},i=s(n,["generatedSamples"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(g=>E_(g))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function A_(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const g=s(n,["response","generateVideoResponse"]);return g!=null&&r(e,["response"],__(g)),e}function M_(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function R_(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function b_(n){const e={},i=s(n,["displayName"]);i!=null&&r(e,["displayName"],i);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function N_(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],M_(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],R_(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],b_(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function w_(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>N_(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function D_(n){const e={},i=s(n,["citations"]);return i!=null&&r(e,["citations"],i),e}function U_(n){const e={},i=s(n,["retrievedUrl"]);i!=null&&r(e,["retrievedUrl"],i);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function I_(n){const e={},i=s(n,["urlMetadata"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>U_(c))),r(e,["urlMetadata"],a)}return e}function L_(n){const e={},i=s(n,["content"]);i!=null&&r(e,["content"],w_(i));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],D_(a));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],I_(g));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Lp(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>L_(v))),r(e,["candidates"],p)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["responseId"]);d!=null&&r(e,["responseId"],d);const g=s(n,["modelVersion"]);g!=null&&r(e,["modelVersion"],g);const h=s(n,["promptFeedback"]);h!=null&&r(e,["promptFeedback"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function P_(n){const e={},i=s(n,["truncated"]);i!=null&&r(e,["truncated"],i);const a=s(n,["token_count"]);return a!=null&&r(e,["tokenCount"],a),e}function V_(n){const e={},i=s(n,["values"]);i!=null&&r(e,["values"],i);const a=s(n,["statistics"]);return a!=null&&r(e,["statistics"],P_(a)),e}function q_(n){const e={},i=s(n,["billableCharacterCount"]);return i!=null&&r(e,["billableCharacterCount"],i),e}function G_(n){const e={},i=s(n,["predictions[]","embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>V_(d))),r(e,["embeddings"],c)}const a=s(n,["metadata"]);return a!=null&&r(e,["metadata"],q_(a)),e}function k_(n){const e={},i=s(n,["gcsUri"]);i!=null&&r(e,["gcsUri"],i);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["imageBytes"],jn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function yg(n){const e={},i=s(n,["safetyAttributes","categories"]);i!=null&&r(e,["categories"],i);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function du(n){const e={},i=s(n,["_self"]);i!=null&&r(e,["image"],k_(i));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],yg(c));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function H_(n){const e={},i=s(n,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>du(d))),r(e,["generatedImages"],c)}const a=s(n,["positivePromptSafetyAttributes"]);return a!=null&&r(e,["positivePromptSafetyAttributes"],yg(a)),e}function B_(n){const e={},i=s(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>du(c))),r(e,["generatedImages"],a)}return e}function z_(n){const e={},i=s(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>du(c))),r(e,["generatedImages"],a)}return e}function O_(n){const e={},i=s(n,["endpoint"]);i!=null&&r(e,["name"],i);const a=s(n,["deployedModelId"]);return a!=null&&r(e,["deployedModelId"],a),e}function Y_(n){const e={},i=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&r(e,["baseModel"],i);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function F_(n){const e={},i=s(n,["checkpointId"]);i!=null&&r(e,["checkpointId"],i);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function ou(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const g=s(n,["deployedModels"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(_=>O_(_))),r(e,["endpoints"],C)}const h=s(n,["labels"]);h!=null&&r(e,["labels"],h);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],Y_(y));const p=s(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=s(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(_=>F_(_))),r(e,["checkpoints"],C)}return e}function J_(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=tg(c);Array.isArray(d)&&(d=d.map(g=>ou(g))),r(e,["models"],d)}return e}function Q_(){return{}}function X_(n){const e={},i=s(n,["totalTokens"]);return i!=null&&r(e,["totalTokens"],i),e}function K_(n){const e={},i=s(n,["tokensInfo"]);return i!=null&&r(e,["tokensInfo"],i),e}function Z_(n){const e={},i=s(n,["gcsUri"]);i!=null&&r(e,["uri"],i);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["videoBytes"],jn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function $_(n){const e={},i=s(n,["_self"]);return i!=null&&r(e,["video"],Z_(i)),e}function W_(n){const e={},i=s(n,["videos"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(g=>$_(g))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function j_(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const g=s(n,["response"]);return g!=null&&r(e,["response"],W_(g)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eA="Content-Type",tA="X-Server-Timeout",nA="User-Agent",au="x-goog-api-client",lA="1.11.0",iA=`google-genai-sdk/${lA}`,oA="v1beta1",aA="v1beta",Pp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class sA{constructor(e){var i,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:oA,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:aA,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,a){const c=[this.getRequestUrlInternal(i)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,i,a);if(e.queryParams)for(const[g,h]of Object.entries(e.queryParams))c.searchParams.append(g,String(h));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,i,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,i){const a=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(i))typeof d=="object"?a[c]=Object.assign(Object.assign({},a[c]),d):d!==void 0&&(a[c]=d);return a}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,i,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,i,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,a){if(i&&i.timeout||a){const c=new AbortController,d=c.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const g=setTimeout(()=>c.abort(),i.timeout);g&&typeof g.unref=="function"&&g.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return i&&i.extraBody!==null&&rA(e,i.extraBody),e.headers=await this.getHeadersInternal(i),e}async unaryApiCall(e,i,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:a})).then(async c=>(await Vp(c),new Wr(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,i,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:a})).then(async c=>(await Vp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var i;return zl(this,arguments,function*(){const c=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let g="";for(;;){const{done:h,value:y}=yield qe(c.read());if(h){if(g.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=d.decode(y,{stream:!0});try{const C=JSON.parse(p);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),D=_.status,H=_.code,O=`got status: ${D}. ${JSON.stringify(C)}`;if(H>=400&&H<600)throw new ba({message:O,status:H})}}catch(C){if(C.name==="ApiError")throw C}g+=p;let v=g.match(Pp);for(;v;){const C=v[1];try{const _=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new Wr(_)),g=g.slice(v[0].length),v=g.match(Pp)}catch(_){throw new Error(`exception parsing stream chunk ${C}. ${_}`)}}}}finally{c.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},i=iA+" "+this.clientOptions.userAgentExtra;return e[nA]=i,e[au]=i,e[eA]="application/json",e}async getHeadersInternal(e){const i=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))i.append(a,c);e.timeout&&e.timeout>0&&i.append(tA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(e,i){var a;const c={};i!=null&&(c.mimeType=i.mimeType,c.name=i.name,c.displayName=i.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,g=await d.stat(e);c.sizeBytes=String(g.size);const h=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:g.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=h;const y=await this.fetchUploadUrl(c,i);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var a;let c={};i!=null&&i.httpOptions?c=i.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},g=await this.request({path:oe("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=g==null?void 0:g.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Vp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(a);throw i>=400&&i<600?new ba({message:c,status:i}):new Error(c)}}function rA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))i=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,g){const h=Object.assign({},d);for(const y in g)if(Object.prototype.hasOwnProperty.call(g,y)){const p=g[y],v=h[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[y]=p)}return h}const c=a(i,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uA="mcp_used/unknown";let cA=!1;function vg(n){for(const e of n)if(fA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return cA}function Tg(n){var e;const i=(e=n[au])!==null&&e!==void 0?e:"";n[au]=(i+` ${uA}`).trimStart()}function fA(n){return n!==null&&typeof n=="object"&&n instanceof mu}function dA(n,e=100){return zl(this,arguments,function*(){let a,c=0;for(;c<e;){const d=yield qe(n.listTools({cursor:a}));for(const g of d.tools)yield yield qe(g),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class mu{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new mu(e,i)}async initialize(){var e,i,a,c;if(this.mcpTools.length>0)return;const d={},g=[];for(const v of this.mcpClients)try{for(var h=!0,y=(i=void 0,ji(dA(v))),p;p=await y.next(),e=p.done,!e;h=!0){c=p.value,h=!1;const C=c;g.push(C);const _=C.name;if(d[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);d[_]=v}}catch(C){i={error:C}}finally{try{!h&&!e&&(a=y.return)&&await a.call(y)}finally{if(i)throw i.error}}this.mcpTools=g,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),sv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const g=await c.callTool({name:a.name,arguments:a.args},void 0,d);i.push({functionResponse:{name:a.name,response:g.isError?{error:g}:g}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function mA(n,e,i){const a=new j0;let c;i.data instanceof Blob?c=JSON.parse(await i.data.text()):c=JSON.parse(i.data);const d=sx(c);Object.assign(a,d),e(a)}class pA{constructor(e,i,a){this.apiClient=e,this.auth=i,this.webSocketFactory=a}async connect(e){var i,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),g=yA(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise($=>{p=$}),C=e.callbacks,_=function(){p({})},D=this.apiClient,H={onopen:_,onmessage:$=>{mA(D,C.onmessage,$)},onerror:(i=C==null?void 0:C.onerror)!==null&&i!==void 0?i:function($){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function($){}},O=this.webSocketFactory.create(y,hA(g),H);O.connect(),await v;const J=we(this.apiClient,e.model),W=dg({model:J}),K=lu({setup:W});return O.send(JSON.stringify(K)),new gA(O,this.apiClient)}}class gA{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=oS(e),a=mg(i);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=aS(e),a=lu(i);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const i=lu({playbackControl:e});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Hl.PLAY)}pause(){this.sendPlaybackControl(Hl.PAUSE)}stop(){this.sendPlaybackControl(Hl.STOP)}resetContext(){this.sendPlaybackControl(Hl.RESET_CONTEXT)}close(){this.conn.close()}}function hA(n){const e={};return n.forEach((i,a)=>{e[a]=i}),e}function yA(n){const e=new Headers;for(const[i,a]of Object.entries(n))e.append(i,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TA(n,e,i){const a=new W0;let c;i.data instanceof Blob?c=await i.data.text():i.data instanceof ArrayBuffer?c=new TextDecoder().decode(i.data):c=i.data;const d=JSON.parse(c);if(n.isVertexAI()){const g=Sx(d);Object.assign(a,g)}else{const g=WS(d);Object.assign(a,g)}e(a)}class CA{constructor(e,i,a){this.apiClient=e,this.auth=i,this.webSocketFactory=a,this.music=new pA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,a,c,d,g,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&vg(e.config.tools)&&Tg(C);const _=_A(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const ie=this.apiClient.getApiKey();let j="BidiGenerateContent",ne="key";ie!=null&&ie.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",ne="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${j}?${ne}=${ie}`}let D=()=>{};const H=new Promise(ie=>{D=ie}),O=e.callbacks,J=function(){var ie;(ie=O==null?void 0:O.onopen)===null||ie===void 0||ie.call(O),D({})},W=this.apiClient,K={onopen:J,onmessage:ie=>{TA(W,O.onmessage,ie)},onerror:(i=O==null?void 0:O.onerror)!==null&&i!==void 0?i:function(ie){},onclose:(a=O==null?void 0:O.onclose)!==null&&a!==void 0?a:function(ie){}},$=this.webSocketFactory.create(v,EA(_),K);$.connect(),await H;let Z=we(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const ie=this.apiClient.getProject(),j=this.apiClient.getLocation();Z=`projects/${ie}/locations/${j}/`+Z}let F={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Aa.AUDIO]}:e.config.responseModalities=[Aa.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const re=(h=(g=e.config)===null||g===void 0?void 0:g.tools)!==null&&h!==void 0?h:[],ee=[];for(const ie of re)if(this.isCallableTool(ie)){const j=ie;ee.push(await j.tool())}else ee.push(ie);ee.length>0&&(e.config.tools=ee);const xe={model:Z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=IS(this.apiClient,xe):F=tS(this.apiClient,xe),delete F.config,$.send(JSON.stringify(F)),new xA($,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const SA={turnComplete:!0};class xA{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let a=[];try{a=It(i.turns),e.isVertexAI()?a=a.map(c=>Ql(c)):a=a.map(c=>Na(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:a,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let a=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?a=i.functionResponses:a=[i.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(vA)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},SA),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:VS(e)}:i={realtimeInput:iS(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function EA(n){const e={};return n.forEach((i,a)=>{e[a]=i}),e}function _A(n){const e=new Headers;for(const[i,a]of Object.entries(n))e.append(i,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qp=10;function Gp(n){var e,i,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const g of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ol(g)){c=!0;break}if(!c)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Ol(n){return"callTool"in n&&typeof n.callTool=="function"}function AA(n){var e,i,a;return(a=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(c=>Ol(c)))!==null&&a!==void 0?a:!1}function MA(n){var e,i,a;return(a=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(c=>!Ol(c)))!==null&&a!==void 0?a:!1}function kp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RA extends Wn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var a,c,d,g,h;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!AA(i)||Gp(i.config))return await this.generateContentInternal(y);if(MA(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const C=It(y.contents),_=(d=(c=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:qp;let D=0;for(;D<_&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const H=p.candidates[0].content,O=[];for(const J of(h=(g=i.config)===null||g===void 0?void 0:g.tools)!==null&&h!==void 0?h:[])if(Ol(J)){const K=await J.callTool(p.functionCalls);O.push(...K)}D++,v={role:"user",parts:O},y.contents=It(y.contents),y.contents.push(H),y.contents.push(v),kp(y.config)&&(C.push(H),C.push(v))}return kp(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),Gp(i.config)){const a=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(a=>{var c;let d;const g=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:g.push(y);let h;return d?h={generatedImages:g,positivePromptSafetyAttributes:d}:h={generatedImages:g},h}),this.list=async i=>{var a;const g={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!g.config.queryBase){if(!((a=g.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");g.config.filter="labels.tune-type:*"}return new eo($n.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(g),g)},this.editImage=async i=>{const a={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(a.referenceImages=i.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async i=>{let a={numberOfImages:1,mode:"upscale"};i.config&&(a=Object.assign(Object.assign({},a),i.config));const c={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:a};return await this.upscaleImageInternal(c)},this.generateVideos=async i=>await this.generateVideosInternal(i)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,a,c;const d=(i=e.config)===null||i===void 0?void 0:i.tools;if(!d)return e;const g=await Promise.all(d.map(async y=>Ol(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:g})};if(h.config.tools=g,e.config&&e.config.tools&&vg(e.config.tools)){const y=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Tg(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var i,a,c;const d=new Map;for(const g of(a=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&a!==void 0?a:[])if(Ol(g)){const h=g,y=await h.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(d.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);d.set(p.name,h)}}return d}async processAfcStream(e){var i,a,c;const d=(c=(a=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:qp;let g=!1,h=0;const y=await this.initAfcToolsMap(e);return function(p,v,C){var _,D;return zl(this,arguments,function*(){for(var H,O,J,W;h<d;){g&&(h++,g=!1);const F=yield qe(p.processParamsMaybeAddMcpUsage(C)),re=yield qe(p.generateContentStreamInternal(F)),ee=[],xe=[];try{for(var K=!0,$=(O=void 0,ji(re)),Z;Z=yield qe($.next()),H=Z.done,!H;K=!0){W=Z.value,K=!1;const ie=W;if(yield yield qe(ie),ie.candidates&&(!((_=ie.candidates[0])===null||_===void 0)&&_.content)){xe.push(ie.candidates[0].content);for(const j of(D=ie.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(h<d&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(j.functionCall.name)){const ne=yield qe(v.get(j.functionCall.name).callTool([j.functionCall]));ee.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(ie){O={error:ie}}finally{try{!K&&!H&&(J=$.return)&&(yield qe(J.call($)))}finally{if(O)throw O.error}}if(ee.length>0){g=!0;const ie=new Ki;ie.candidates=[{content:{role:"user",parts:ee}}],yield yield qe(ie);const j=[];j.push(...xe),j.push({role:"user",parts:ee});const ne=It(C.contents).concat(j);C.contents=ne}else break}})}(this,y,e)}async generateContentInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Up(this.apiClient,e);return h=oe("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=Lp(v),_=new Ki;return Object.assign(_,C),_})}else{const p=Dp(this.apiClient,e);return h=oe("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=Ip(v),_=new Ki;return Object.assign(_,C),_})}}async generateContentStreamInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Up(this.apiClient,e);return h=oe("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),g.then(function(C){return zl(this,arguments,function*(){var _,D,H,O;try{for(var J=!0,W=ji(C),K;K=yield qe(W.next()),_=K.done,!_;J=!0){O=K.value,J=!1;const $=O,Z=Lp(yield qe($.json()));Z.sdkHttpResponse={headers:$.headers};const F=new Ki;Object.assign(F,Z),yield yield qe(F)}}catch($){D={error:$}}finally{try{!J&&!_&&(H=W.return)&&(yield qe(H.call(W)))}finally{if(D)throw D.error}}})})}else{const p=Dp(this.apiClient,e);return h=oe("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),g.then(function(C){return zl(this,arguments,function*(){var _,D,H,O;try{for(var J=!0,W=ji(C),K;K=yield qe(W.next()),_=K.done,!_;J=!0){O=K.value,J=!1;const $=O,Z=Ip(yield qe($.json()));Z.sdkHttpResponse={headers:$.headers};const F=new Ki;Object.assign(F,Z),yield yield qe(F)}}catch($){D={error:$}}finally{try{!J&&!_&&(H=W.return)&&(yield qe(H.call(W)))}finally{if(D)throw D.error}}})})}}async embedContent(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=IE(this.apiClient,e);return h=oe("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>{const C=G_(v),_=new cp;return Object.assign(_,C),_})}else{const p=Jx(this.apiClient,e);return h=oe("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>{const C=p_(v),_=new cp;return Object.assign(_,C),_})}}async generateImagesInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=PE(this.apiClient,e);return h=oe("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>{const C=H_(v),_=new fp;return Object.assign(_,C),_})}else{const p=Xx(this.apiClient,e);return h=oe("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>{const C=y_(v),_=new fp;return Object.assign(_,C),_})}}async editImageInternal(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=zE(this.apiClient,e);return d=oe("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=B_(y),v=new J0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=YE(this.apiClient,e);return d=oe("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=z_(y),v=new Q0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=FE(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>ou(v))}else{const p=Kx(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>iu(v))}}async listInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=QE(this.apiClient,e);return h=oe("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=J_(v),_=new dp;return Object.assign(_,C),_})}else{const p=$x(this.apiClient,e);return h=oe("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=T_(v),_=new dp;return Object.assign(_,C),_})}}async update(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=KE(this.apiClient,e);return h=oe("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>ou(v))}else{const p=jx(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>iu(v))}}async delete(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=ZE(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(()=>{const v=Q_(),C=new mp;return Object.assign(C,v),C})}else{const p=eE(this.apiClient,e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(()=>{const v=C_(),C=new mp;return Object.assign(C,v),C})}}async countTokens(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=WE(this.apiClient,e);return h=oe("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>{const C=X_(v),_=new pp;return Object.assign(_,C),_})}else{const p=nE(this.apiClient,e);return h=oe("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>{const C=S_(v),_=new pp;return Object.assign(_,C),_})}}async computeTokens(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=jE(this.apiClient,e);return d=oe("{model}:computeTokens",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=K_(y),v=new X0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=n_(this.apiClient,e);return h=oe("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>{const C=j_(v),_=new Ma;return Object.assign(_,C),_})}else{const p=oE(this.apiClient,e);return h=oe("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>{const C=A_(v),_=new Ma;return Object.assign(_,C),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(n){const e={},i=s(n,["operationName"]);i!=null&&r(e,["_url","operationName"],i);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function NA(n){const e={},i=s(n,["operationName"]);i!=null&&r(e,["_url","operationName"],i);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function wA(n){const e={},i=s(n,["operationName"]);i!=null&&r(e,["operationName"],i);const a=s(n,["resourceName"]);a!=null&&r(e,["_url","resourceName"],a);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DA extends Wn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,a=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=i.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const g=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:c,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:g,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const i=e.operation,a=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=i.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const g=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:c,config:{httpOptions:d}});return i._fromAPIResponse({apiResponse:g,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:i.name,config:a});return i._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=NA(e);return h=oe("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g}else{const p=bA(e);return h=oe("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g}}async fetchPredictVideosOperationInternal(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=wA(e);return d=oe("{resourceName}:fetchPredictOperation",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UA(n){const e={},i=s(n,["voiceName"]);return i!=null&&r(e,["voiceName"],i),e}function Cg(n){const e={},i=s(n,["prebuiltVoiceConfig"]);return i!=null&&r(e,["prebuiltVoiceConfig"],UA(i)),e}function IA(n){const e={},i=s(n,["speaker"]);i!=null&&r(e,["speaker"],i);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],Cg(a)),e}function LA(n){const e={},i=s(n,["speakerVoiceConfigs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>IA(c))),r(e,["speakerVoiceConfigs"],a)}return e}function PA(n){const e={},i=s(n,["voiceConfig"]);i!=null&&r(e,["voiceConfig"],Cg(i));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],LA(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function VA(n){const e={},i=s(n,["fps"]);i!=null&&r(e,["fps"],i);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function qA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["data"]);i!=null&&r(e,["data"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function GA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(n,["fileUri"]);i!=null&&r(e,["fileUri"],i);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function kA(n){const e={},i=s(n,["videoMetadata"]);i!=null&&r(e,["videoMetadata"],VA(i));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],qA(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],GA(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function HA(n){const e={},i=s(n,["parts"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>kA(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function BA(n){const e={},i=s(n,["behavior"]);i!=null&&r(e,["behavior"],i);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function zA(n){const e={},i=s(n,["startTime"]);i!=null&&r(e,["startTime"],i);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function OA(n){const e={},i=s(n,["timeRangeFilter"]);return i!=null&&r(e,["timeRangeFilter"],zA(i)),e}function YA(n){const e={},i=s(n,["mode"]);i!=null&&r(e,["mode"],i);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function FA(n){const e={},i=s(n,["dynamicRetrievalConfig"]);return i!=null&&r(e,["dynamicRetrievalConfig"],YA(i)),e}function JA(){return{}}function QA(n){const e={},i=s(n,["functionDeclarations"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(p=>BA(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],OA(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],FA(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],JA());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function XA(n){const e={},i=s(n,["handle"]);if(i!=null&&r(e,["handle"],i),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Hp(){return{}}function KA(n){const e={},i=s(n,["disabled"]);i!=null&&r(e,["disabled"],i);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function ZA(n){const e={},i=s(n,["automaticActivityDetection"]);i!=null&&r(e,["automaticActivityDetection"],KA(i));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function $A(n){const e={},i=s(n,["targetTokens"]);return i!=null&&r(e,["targetTokens"],i),e}function WA(n){const e={},i=s(n,["triggerTokens"]);i!=null&&r(e,["triggerTokens"],i);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],$A(a)),e}function jA(n){const e={},i=s(n,["proactiveAudio"]);return i!=null&&r(e,["proactiveAudio"],i),e}function e1(n,e){const i={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],PA(fu(C)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],_);const D=s(n,["systemInstruction"]);e!==void 0&&D!=null&&r(e,["setup","systemInstruction"],HA(at(D)));const H=s(n,["tools"]);if(e!==void 0&&H!=null){let F=Fl(H);Array.isArray(F)&&(F=F.map(re=>QA(Yl(re)))),r(e,["setup","tools"],F)}const O=s(n,["sessionResumption"]);e!==void 0&&O!=null&&r(e,["setup","sessionResumption"],XA(O));const J=s(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","inputAudioTranscription"],Hp());const W=s(n,["outputAudioTranscription"]);e!==void 0&&W!=null&&r(e,["setup","outputAudioTranscription"],Hp());const K=s(n,["realtimeInputConfig"]);e!==void 0&&K!=null&&r(e,["setup","realtimeInputConfig"],ZA(K));const $=s(n,["contextWindowCompression"]);e!==void 0&&$!=null&&r(e,["setup","contextWindowCompression"],WA($));const Z=s(n,["proactivity"]);return e!==void 0&&Z!=null&&r(e,["setup","proactivity"],jA(Z)),i}function t1(n,e){const i={},a=s(e,["model"]);a!=null&&r(i,["setup","model"],we(n,a));const c=s(e,["config"]);return c!=null&&r(i,["config"],e1(c,i)),i}function n1(n,e,i){const a={},c=s(e,["expireTime"]);i!==void 0&&c!=null&&r(i,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);i!==void 0&&d!=null&&r(i,["newSessionExpireTime"],d);const g=s(e,["uses"]);i!==void 0&&g!=null&&r(i,["uses"],g);const h=s(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&r(i,["bidiGenerateContentSetup"],t1(n,h));const y=s(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&r(i,["fieldMask"],y),a}function l1(n,e){const i={},a=s(e,["config"]);return a!=null&&r(i,["config"],n1(n,a,i)),i}function i1(n){const e={},i=s(n,["name"]);return i!=null&&r(e,["name"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o1(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const a=n[i];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(d=>`${i}.${d}`);e.push(...c)}else e.push(i)}return e.join(",")}function a1(n,e){let i=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,i=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(i){const d=o1(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const g=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];c.length>0&&(h=c.map(p=>g.includes(p)?`generationConfig.${p}`:p));const y=[];d&&y.push(d),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class s1 extends Wn{constructor(e){super(),this.apiClient=e}async create(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=l1(this.apiClient,e);d=oe("auth_tokens",h._url),g=h._query,delete h.config,delete h._url,delete h._query;const y=a1(h,e.config);return c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),c.then(p=>i1(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r1(n){const e={},i=s(n,["name"]);i!=null&&r(e,["_url","name"],i);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function u1(n,e){const i={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function c1(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],u1(i,e)),e}function f1(n){const e={},i=s(n,["textInput"]);i!=null&&r(e,["textInput"],i);const a=s(n,["output"]);return a!=null&&r(e,["output"],a),e}function d1(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(n,["examples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>f1(c))),r(e,["examples","examples"],a)}return e}function m1(n,e){const i={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=s(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&r(e,["displayName"],a),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=s(n,["batchSize"]);e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","batchSize"],g);const h=s(n,["learningRate"]);return e!==void 0&&h!=null&&r(e,["tuningTask","hyperparameters","learningRate"],h),i}function p1(n){const e={},i=s(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const a=s(n,["trainingDataset"]);a!=null&&r(e,["tuningTask","trainingData"],d1(a));const c=s(n,["config"]);return c!=null&&r(e,["config"],m1(c,e)),e}function g1(n){const e={},i=s(n,["name"]);i!=null&&r(e,["_url","name"],i);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function h1(n,e){const i={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),i}function y1(n){const e={},i=s(n,["config"]);return i!=null&&r(e,["config"],h1(i,e)),e}function v1(n,e){const i={},a=s(n,["gcsUri"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function T1(n,e){const i={},a=s(n,["gcsUri"]);a!=null&&r(i,["validationDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),i}function C1(n,e){const i={},a=s(n,["validationDataset"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec"],T1(a,i));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const g=s(n,["epochCount"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],g);const h=s(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function S1(n){const e={},i=s(n,["baseModel"]);i!=null&&r(e,["baseModel"],i);const a=s(n,["trainingDataset"]);a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],v1(a,e));const c=s(n,["config"]);return c!=null&&r(e,["config"],C1(c,e)),e}function x1(n){const e={},i=s(n,["name"]);i!=null&&r(e,["model"],i);const a=s(n,["name"]);return a!=null&&r(e,["endpoint"],a),e}function Sg(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["state"]);a!=null&&r(e,["state"],Wp(a));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["tuningTask","startTime"]);d!=null&&r(e,["startTime"],d);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["description"]);y!=null&&r(e,["description"],y);const p=s(n,["baseModel"]);p!=null&&r(e,["baseModel"],p);const v=s(n,["_self"]);v!=null&&r(e,["tunedModel"],x1(v));const C=s(n,["distillationSpec"]);C!=null&&r(e,["distillationSpec"],C);const _=s(n,["experiment"]);_!=null&&r(e,["experiment"],_);const D=s(n,["labels"]);D!=null&&r(e,["labels"],D);const H=s(n,["pipelineJob"]);H!=null&&r(e,["pipelineJob"],H);const O=s(n,["satisfiesPzi"]);O!=null&&r(e,["satisfiesPzi"],O);const J=s(n,["satisfiesPzs"]);J!=null&&r(e,["satisfiesPzs"],J);const W=s(n,["serviceAccount"]);W!=null&&r(e,["serviceAccount"],W);const K=s(n,["tunedModelDisplayName"]);return K!=null&&r(e,["tunedModelDisplayName"],K),e}function E1(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>Sg(g))),r(e,["tuningJobs"],d)}return e}function _1(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],d),e}function A1(n){const e={},i=s(n,["checkpointId"]);i!=null&&r(e,["checkpointId"],i);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function M1(n){const e={},i=s(n,["model"]);i!=null&&r(e,["model"],i);const a=s(n,["endpoint"]);a!=null&&r(e,["endpoint"],a);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>A1(g))),r(e,["checkpoints"],d)}return e}function su(n){const e={},i=s(n,["name"]);i!=null&&r(e,["name"],i);const a=s(n,["state"]);a!=null&&r(e,["state"],Wp(a));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["startTime"]);d!=null&&r(e,["startTime"],d);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["error"]);y!=null&&r(e,["error"],y);const p=s(n,["description"]);p!=null&&r(e,["description"],p);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const C=s(n,["tunedModel"]);C!=null&&r(e,["tunedModel"],M1(C));const _=s(n,["supervisedTuningSpec"]);_!=null&&r(e,["supervisedTuningSpec"],_);const D=s(n,["tuningDataStats"]);D!=null&&r(e,["tuningDataStats"],D);const H=s(n,["encryptionSpec"]);H!=null&&r(e,["encryptionSpec"],H);const O=s(n,["partnerModelTuningSpec"]);O!=null&&r(e,["partnerModelTuningSpec"],O);const J=s(n,["distillationSpec"]);J!=null&&r(e,["distillationSpec"],J);const W=s(n,["experiment"]);W!=null&&r(e,["experiment"],W);const K=s(n,["labels"]);K!=null&&r(e,["labels"],K);const $=s(n,["pipelineJob"]);$!=null&&r(e,["pipelineJob"],$);const Z=s(n,["satisfiesPzi"]);Z!=null&&r(e,["satisfiesPzi"],Z);const F=s(n,["satisfiesPzs"]);F!=null&&r(e,["satisfiesPzs"],F);const re=s(n,["serviceAccount"]);re!=null&&r(e,["serviceAccount"],re);const ee=s(n,["tunedModelDisplayName"]);return ee!=null&&r(e,["tunedModelDisplayName"],ee),e}function R1(n){const e={},i=s(n,["sdkHttpResponse"]);i!=null&&r(e,["sdkHttpResponse"],i);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>su(g))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b1 extends Wn{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new eo($n.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(i);{const a=await this.tuneMldevInternal(i);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:$r.JOB_STATE_QUEUED}}}}async getInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=g1(e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>su(v))}else{const p=r1(e);return h=oe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>Sg(v))}}async listInternal(e){var i,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=y1(e);return h=oe("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=R1(v),_=new hp;return Object.assign(_,C),_})}else{const p=c1(e);return h=oe("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=E1(v),_=new hp;return Object.assign(_,C),_})}}async tuneInternal(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=S1(e);return d=oe("tuningJobs",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>su(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=p1(e);return d=oe("tunedModels",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>_1(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N1{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const w1=1024*1024*8,D1=3,U1=1e3,I1=2,Kr="x-goog-upload-status";async function L1(n,e,i){var a,c,d;let g=0,h=0,y=new Wr(new Response),p="upload";for(g=n.size;h<g;){const C=Math.min(w1,g-h),_=n.slice(h,h+C);h+C>=g&&(p+=", finalize");let D=0,H=U1;for(;D<D1&&(y=await i.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(C)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[Kr]));)D++,await V1(H),H=H*I1;if(h+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Kr])!=="active")break;if(g<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Kr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function P1(n){return{size:n.size,type:n.type}}function V1(n){return new Promise(e=>setTimeout(e,n))}class q1{async upload(e,i,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await L1(e,i,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await P1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G1{create(e,i,a){return new k1(e,i,a)}}class k1{constructor(e,i,a){this.url=e,this.headers=i,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bp="x-goog-api-key";class H1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Bp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Bp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B1="gl-node/";class z1{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const a=F0(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new H1(this.apiKey);this.apiClient=new sA({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:B1+"web",uploader:new q1,downloader:new N1}),this.models=new RA(this.apiClient),this.live=new CA(this.apiClient,c,new G1),this.batches=new pT(this.apiClient),this.chats=new vC(this.models,this.apiClient),this.caches=new gC(this.apiClient),this.files=new DC(this.apiClient),this.operations=new DA(this.apiClient),this.authTokens=new s1(this.apiClient),this.tunings=new b1(this.apiClient)}}const xg={articles_a_an:{title:"The Basics: Articles 'a' and 'an'",explanation:"Use 'an' before words that start with a vowel sound (a, e, i, o, u). Use 'a' for all other sounds. This helps words flow smoothly!",examples:[{text:"an orange",icon_name:"orange"},{text:"a cat",icon_name:"cat"},{text:"an idea",icon_name:"idea"}]}},O1=void 0;console.warn("API_KEY is not set. Gemini features will be disabled.");new z1({apiKey:O1});async function Y1(n){return{data:(console.log("Using fallback quiz due to API error or missing key."),{sentence:`This is ___ ${n}.`,correctAnswer:["a","e","i","o","u"].includes(n[0].toLowerCase())?"an":"a",options:["a","an"]}),errorType:"NETWORK_ERROR"}}async function F1(n){return{data:(()=>{const i=xg[n];return i?(console.log("Using fallback full lesson due to API error or missing key."),i):{title:"Error",explanation:"Lesson not found.",examples:[]}})(),errorType:"NETWORK_ERROR"}}const Oe=48,Eg={TILE_SIZE:Oe,levelNumber:1,theme:"meadows",playerSpawn:{x:1,y:7},exitPosition:{x:18,y:12},layout:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,0,0,0,1],[1,0,1,1,0,0,0,0,1,0,0,0,0,1,1,1,0,1,0,1],[1,0,1,1,0,1,1,0,1,1,1,1,0,1,0,0,0,1,0,1],[1,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,1,1,0,1],[1,1,1,0,1,1,0,1,1,1,0,1,0,0,0,1,0,0,0,1],[1,0,0,0,1,0,0,1,0,0,0,1,1,1,0,1,0,1,1,1],[1,0,1,1,1,0,1,1,0,1,0,0,0,1,0,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,1,1,1,0,1,1,1,1,1,0,1],[1,1,1,1,1,0,1,0,1,1,0,0,0,0,0,0,0,1,0,1],[1,0,0,0,1,0,1,0,0,0,0,1,1,1,1,0,1,1,0,1],[1,0,1,0,1,1,1,1,1,1,1,1,0,0,1,0,1,0,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],npc:{name:"Fitz",position:{x:3,y:7},quest:"I seem to have dropped my things again! Can you find my book, hat, and apple?"},guidingStone:{lessonId:"articles_a_an",position:{x:2,y:2}},questItems:[{id:"item_1",name:"book",pos:{x:18*Oe,y:2*Oe},isCollected:!1,guardianId:"enemy_1"},{id:"item_2",name:"hat",pos:{x:17*Oe,y:8*Oe},isCollected:!1,guardianId:"enemy_2"},{id:"item_3",name:"apple",pos:{x:8*Oe,y:12*Oe},isCollected:!1,guardianId:"enemy_3"}],enemies:[{id:"enemy_1",type:"article_imp",position:{x:17*Oe,y:2*Oe},startPos:{x:17*Oe,y:2*Oe},patrolRange:1*Oe,status:"patrolling",direction:"right",challenge:{type:"article",itemName:"book",sentence:"He is reading ___ book.",options:["a","an"],correctAnswer:"a"},vx:0,vy:0},{id:"enemy_2",type:"article_imp",position:{x:17*Oe,y:9*Oe},startPos:{x:17*Oe,y:9*Oe},patrolRange:1*Oe,status:"patrolling",direction:"right",challenge:{type:"article",itemName:"hat",sentence:"That is ___ nice hat.",options:["a","an"],correctAnswer:"a"},vx:0,vy:0},{id:"enemy_3",type:"article_imp",position:{x:8*Oe,y:11*Oe},startPos:{x:8*Oe,y:11*Oe},patrolRange:1*Oe,status:"patrolling",direction:"right",challenge:{type:"article",itemName:"apple",sentence:"She is eating ___ apple.",options:["a","an"],correctAnswer:"an"},vx:0,vy:0}]};async function J1(n){return{data:(()=>{console.log("Using fallback procedural level due to API error or max retries.");const i=JSON.parse(JSON.stringify(Eg));return i.levelNumber=n,i})(),errorType:"NETWORK_ERROR"}}const Sa={status:"not_started",fitzDialogueState:"initial_quest",isPortalSpawned:!1,questItems:qt.interactives.filter(n=>n.type==="quest_item").map(n=>({id:n.id,name:n.itemName,pos:{x:n.x*qt.TILE_SIZE,y:n.y*qt.TILE_SIZE},isCollected:!1,guardianId:n.guardianId})),enemies:qt.enemies.map(n=>({id:n.id,type:n.type,position:{x:n.x*qt.TILE_SIZE,y:n.y*qt.TILE_SIZE},startPos:{x:n.x*qt.TILE_SIZE,y:n.y*qt.TILE_SIZE},patrolRange:n.patrolRange*qt.TILE_SIZE,status:"patrolling",direction:"right",challenge:n.challenge,vx:0,vy:0}))},zp=["book","hat","apple"],Q1=["Rune of Run","Rune of Jump","Rune of Climb"],X1=["Restored Red Crystal","Restored Green Crystal","Restored Blue Crystal"],K1=10,Z1=100,Op=3,$1=1500,Zi=40,$i=48,W1=10,Yp=[{id:"Restored Red Crystal",targetObject:"flower",icon:"",requiredAdjectives:["red","small"],availableAdjectives:["red","blue","big","small","shiny","tall"],position:"top-1/4 right-1/4"},{id:"Restored Green Crystal",targetObject:"tree",icon:"",requiredAdjectives:["tall","green"],availableAdjectives:["short","wide","tall","green","leafy","bare"],position:"bottom-1/4 left-1/3"},{id:"Restored Blue Crystal",targetObject:"rock",icon:"",requiredAdjectives:["big","blue"],availableAdjectives:["small","blue","orange","pointy","big","smooth"],position:"bottom-1/2 right-1/4"}],_a=[{id:"bridge-01",initialState:"broken",solvedState:"whole",position:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",prompt:"The bridge looks like it was whole long ago.",challenge:{subject:"The bridge",verbOptions:{past:"was",present:"is",future:"will be"},complement:"strong.",correctTense:"past"}},{id:"plant-01",initialState:"seed",solvedState:"grown",position:"bottom-1/4 left-1/4",prompt:"This seed holds great potential. It needs a glimpse of its destiny.",challenge:{subject:"This seed",verbOptions:{past:"grew",present:"grows",future:"will grow"},complement:"a great tree.",correctTense:"future"}},{id:"crystal-01",initialState:"phasing",solvedState:"stable",position:"top-1/4 right-1/4",prompt:"To stabilize the crystal, you must ground it in the here and now.",challenge:{subject:"The crystal",verbOptions:{past:"was",present:"is",future:"will be"},complement:"stable.",correctTense:"present"}}],j1=_a.reduce((n,e)=>(n[e.id]=e.initialState,n),{}),eM={Common:[{type:"xp",name:"+50 XP"}],Rare:[{type:"decoration",name:"Glowing Lantern"},{type:"decoration",name:"Stone Bench"},{type:"companion",name:"Book Owl"}],Epic:[{type:"outfit",name:"Scholar Robe"},{type:"sage",name:"Sage of Synonyms"},{type:"companion",name:"Grammar Gremlin"}]},tM={TILE_SIZE:48,layout:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],interactives:[],playerStart:{x:10,y:7},enemies:[]},nM=()=>{const[n,e]=ce.useState(()=>{var N,w;const S={worldProgress:{noun_meadows:JSON.parse(JSON.stringify(Sa)),verb_volcanoes:{status:"not_started"},adjective_isles:{status:"not_started",isColored:!1},tense_tangled_forest:{status:"not_started",objectStates:j1}},inventory:[],playerXP:0,lingoGems:100,wordTome:{nouns:[],verbs:[],adjectives:[]},activeCombat:{isActive:!1,challenge:null,enemyId:null},activePuzzle:{isActive:!1,targetObject:"",requiredAdjectives:[],selectedAdjectives:[],availableAdjectives:[]},activeTimePuzzle:{isActive:!1,targetId:"",prompt:"",challenge:null},activeLesson:null,currentLocation:"hub_main",unlockedWorlds:["noun_meadows"],playerHP:Op,playerMaxHP:Op,isGameOver:!1,isPlayerInvincible:!1,isGamePaused:!1,loadingStatus:{isGeneratingLevel:!1,isFetchingLesson:!1,isFetchingQuiz:!1},collection:{outfits:["Default Traveler"],companions:["None"],hubDecorations:[],sages:[]},equippedOutfit:"Default Traveler",equippedCompanion:"None",lastDailyChallengeDate:"",gachaResult:null,dailyChallengeState:{isActive:!1,challengesCompleted:0},isAiming:!1,aimingAngle:0,activeProjectiles:[],koEffects:[],dialogueChoices:null,activeProceduralLevel:null,proceduralQuest:null,gauntletHighestLevel:1,currentRunLevel:1,gauntletCompleted:!1,isApiQuotaExhausted:!1},A=localStorage.getItem("lexiconLegendsSave");if(A){const L=JSON.parse(A),G={...S,...L};return L.worldProgress?(G.worldProgress={...S.worldProgress,...L.worldProgress},(N=L.worldProgress.noun_meadows)!=null&&N.enemies||(G.worldProgress.noun_meadows=JSON.parse(JSON.stringify(Sa))),(w=L.worldProgress.noun_meadows)!=null&&w.fitzDialogueState||(G.worldProgress.noun_meadows.fitzDialogueState="initial_quest",G.worldProgress.noun_meadows.isPortalSpawned=!1)):G.worldProgress=S.worldProgress,L.loadingStatus||(G.loadingStatus=S.loadingStatus),G.isGameOver=!1,G.isGamePaused=!1,G.isPlayerInvincible=!1,G.activeCombat={isActive:!1,challenge:null,enemyId:null},G.activeLesson=null,G.isAiming=!1,G.activeProjectiles=[],G.koEffects=[],G.dialogueChoices=null,G.activeProceduralLevel=null,G.proceduralQuest=null,G}return S}),[i,a]=ce.useState(null),[c,d]=ce.useState(null),[g,h]=ce.useState(null),y=ce.useRef(null);ce.useEffect(()=>{localStorage.setItem("lexiconLegendsSave",JSON.stringify(n))},[n]),ce.useEffect(()=>{const S=zp.every(N=>n.inventory.includes(N)),A=n.worldProgress.noun_meadows;S&&A.status==="in_progress"&&(e(N=>{const w={...N.worldProgress.noun_meadows,status:"completed",fitzDialogueState:"post_quest_choice"},L={...N.worldProgress,noun_meadows:w};return{...N,worldProgress:L,playerXP:N.playerXP+100,lingoGems:N.lingoGems+10}}),a("You found them all! A true hero! Please, speak with me again when you are ready for your next trial."))},[n.inventory,n.worldProgress.noun_meadows]),ce.useEffect(()=>{const{activeProceduralLevel:S,proceduralQuest:A}=n;S&&(A!=null&&A.isStarted)&&!A.isComplete&&S.questItems.every(w=>w.isCollected)&&(e(w=>({...w,proceduralQuest:{...w.proceduralQuest,isComplete:!0},playerXP:w.playerXP+S.levelNumber*50,lingoGems:w.lingoGems+S.levelNumber*5})),a("You've found everything! Incredible work. The portal out of this area is now open... or you can return to the Hub from the map."))},[n.activeProceduralLevel,n.proceduralQuest]),ce.useEffect(()=>{Q1.every(A=>n.inventory.includes(A))&&n.worldProgress.verb_volcanoes.status!=="completed"&&(e(A=>{const N={...A.worldProgress,verb_volcanoes:{...A.worldProgress.verb_volcanoes,status:"completed"}};return{...A,worldProgress:N,playerXP:A.playerXP+250,lingoGems:A.lingoGems+20,unlockedWorlds:[...new Set([...A.unlockedWorlds,"adjective_isles"])]}}),a("Amazing! You did it! The Golem lives! A mysterious, colorful archipelago has appeared on your map! The Adjective Isles await your discovery."))},[n.inventory,n.worldProgress.verb_volcanoes.status]),ce.useEffect(()=>{X1.every(A=>n.inventory.includes(A))&&n.worldProgress.adjective_isles.status!=="completed"&&(e(A=>{const N={...A.worldProgress,adjective_isles:{...A.worldProgress.adjective_isles,status:"completed",isColored:!0}};return{...A,worldProgress:N,playerXP:A.playerXP+400,lingoGems:A.lingoGems+30,unlockedWorlds:[...new Set([...A.unlockedWorlds,"tense_tangled_forest"])]}}),a("Incredible! You've brought color back to my world! You feel a strange pull towards the ancient woods. A path veiled in mist has now appeared on your map: The Tense-Tangled Forest."))},[n.inventory,n.worldProgress.adjective_isles.status]),ce.useEffect(()=>{_a.every(A=>{var N;return((N=n.worldProgress.tense_tangled_forest.objectStates)==null?void 0:N[A.id])===A.solvedState})&&n.worldProgress.tense_tangled_forest.status!=="completed"&&(e(A=>{const N={...A.worldProgress,tense_tangled_forest:{...A.worldProgress.tense_tangled_forest,status:"completed"}};return{...A,worldProgress:N,playerXP:A.playerXP+600,lingoGems:A.lingoGems+50,wordTome:{...A.wordTome,tenseGuide:{past:"'The bridge was strong.' - Past tense describes things that have already happened.",present:"'The crystal is stable.' - Present tense describes things happening now.",future:"'This seed will grow a great tree.' - Future tense describes things that are yet to happen."}}}}),a("Balance... is returning. You have a gift for language... and time. Thank you. The mist in the forest has cleared."))},[n.worldProgress.tense_tangled_forest.objectStates,n.worldProgress.tense_tangled_forest.status]),ce.useEffect(()=>{n.playerHP<=0&&!n.isGameOver&&e(S=>({...S,isGameOver:!0,isGamePaused:!0}))},[n.playerHP,n.isGameOver]);const p=()=>new Date().toISOString().split("T")[0],v=ce.useCallback(async S=>{if(a(`Entering Gauntlet Level ${S}...`),e(L=>({...L,loadingStatus:{...L.loadingStatus,isGeneratingLevel:!0},currentLocation:"procedural_gauntlet"})),n.isApiQuotaExhausted){console.log("Quota exhausted, loading fallback procedural level.");const L=JSON.parse(JSON.stringify(Eg));e(G=>{const V=S>G.gauntletHighestLevel;return{...G,playerHP:G.playerMaxHP,activeProceduralLevel:{...L,levelNumber:S},currentRunLevel:S,gauntletHighestLevel:V?S:G.gauntletHighestLevel,loadingStatus:{...G.loadingStatus,isGeneratingLevel:!1},isGamePaused:!1,proceduralQuest:{isStarted:!1,isComplete:!1}}}),S>n.gauntletHighestLevel&&a(`Checkpoint Saved! You've reached Level ${S}!`);return}const A=await J1(S);A.errorType==="QUOTA_EXHAUSTED"&&!n.isApiQuotaExhausted?a("The well of magic has run dry for today! Standard challenges will be used until tomorrow."):A.errorType==="NETWORK_ERROR"&&console.error("An unexpected error occurred during level generation, using fallback.");const N=A.data,w=S>n.gauntletHighestLevel;w&&A.errorType!=="QUOTA_EXHAUSTED"&&a(`Checkpoint Saved! You've reached Level ${S}!`),e(L=>({...L,playerHP:L.playerMaxHP,activeProceduralLevel:N,currentRunLevel:S,gauntletHighestLevel:w?S:L.gauntletHighestLevel,loadingStatus:{...L.loadingStatus,isGeneratingLevel:!1},isGamePaused:!1,proceduralQuest:{isStarted:!1,isComplete:!1},isApiQuotaExhausted:L.isApiQuotaExhausted||A.errorType==="QUOTA_EXHAUSTED"}))},[n.isApiQuotaExhausted,n.gauntletHighestLevel]),C=ce.useCallback(()=>{n.gauntletCompleted?(a("You have already conquered the Gauntlet! What would you like to do?"),e(S=>({...S,dialogueChoices:[{text:"Start New Gauntlet",onSelect:()=>{a("A new challenge begins! The Gauntlet resets..."),e(A=>({...A,gauntletHighestLevel:1,currentRunLevel:1,gauntletCompleted:!1,dialogueChoices:null})),v(1)}},{text:"Enter at Checkpoint",onSelect:()=>{a(`Returning to your highest level: ${S.gauntletHighestLevel}`),e(A=>({...A,dialogueChoices:null})),v(S.gauntletHighestLevel)}}]}))):(a("The portal hums with power... You are being transported!"),v(n.gauntletHighestLevel))},[n.gauntletHighestLevel,n.gauntletCompleted,v]),_=ce.useCallback(()=>{const{currentRunLevel:S}=n,A=S+1;A>W1?(e(N=>({...N,gauntletCompleted:!0,currentLocation:"hub_main",activeProceduralLevel:null,proceduralQuest:null})),a("Victory! You have conquered the Gauntlet of Grammar! You are a true Lexicon Legend.")):v(A)},[n.currentRunLevel,v]),D=ce.useCallback(()=>{var S;(S=y.current)==null||S.abort(),e(A=>({...A,activeLesson:null,isGamePaused:!1,loadingStatus:{...A.loadingStatus,isFetchingLesson:!1}})),h(null)},[]),H=ce.useCallback(async(S,A)=>{var G;(G=y.current)==null||G.abort();const N=new AbortController;y.current=N,e(V=>({...V,loadingStatus:{...V.loadingStatus,isFetchingLesson:!0}})),A||(e(V=>({...V,activeLesson:S,isGamePaused:!0})),h(null));const w=()=>{h(xg[S]||null),e(V=>({...V,loadingStatus:{...V.loadingStatus,isFetchingLesson:!1}}))};if(n.isApiQuotaExhausted){console.log("Quota is exhausted, loading fallback lesson."),w();return}if(N.signal.aborted){console.log("Request cancelled before fetch.");return}const L=await F1(S);if(N.signal.aborted){console.log("Request cancelled during fetch.");return}h(L.data),L.errorType==="QUOTA_EXHAUSTED"&&!n.isApiQuotaExhausted?(a("The well of wisdom has run dry for today! Standard lessons will be used until tomorrow."),e(V=>({...V,isApiQuotaExhausted:!0}))):L.errorType==="NETWORK_ERROR"&&console.error("Failed to fetch lesson, using fallback:",L.data),e(V=>({...V,loadingStatus:{...V.loadingStatus,isFetchingLesson:!1}}))},[n.isApiQuotaExhausted,D]),O=ce.useCallback(S=>{const{currentLocation:A,activeProceduralLevel:N,proceduralQuest:w,worldProgress:L}=n;if(A==="procedural_gauntlet"&&N&&w){const G=N.npc;if(S===G.name)if(w.isComplete)a("You're a true legend! Step through the portal to face your next challenge.");else if(w.isStarted){const V=N.questItems.filter(ue=>!ue.isCollected).length;a(`You still need to find ${V} item(s). Good luck!`)}else a(G.quest),e(V=>({...V,proceduralQuest:{...V.proceduralQuest,isStarted:!0}}));return}if(S==="Fitz"){const G=L.noun_meadows;switch(G.fitzDialogueState){case"initial_quest":G.status==="not_started"?(e(V=>{const ue={...V.worldProgress.noun_meadows,status:"in_progress"},me={...V.worldProgress,noun_meadows:ue};return{...V,worldProgress:me}}),a("Oh, Traveler, thank goodness! Pesky Article Imps have stolen my favorite things. Please, retrieve my book, hat, and apple for me!")):a("Please hurry! Find my book, hat, and apple. You'll have to defeat their guardians first!");break;case"post_quest_choice":a("Your skill is undeniable. You are ready to face a greater challenge. Will you step into the Gauntlet of Grammar?"),e(V=>({...V,dialogueChoices:[{text:"Yes, I am ready!",onSelect:()=>{a("Excellent! I have opened a gateway for you. It will not last forever. Find the portal and prove your mastery!"),e(ue=>{const me={...ue.worldProgress.noun_meadows,fitzDialogueState:"quest_completed",isPortalSpawned:!0},_e={...ue.worldProgress,noun_meadows:me};return{...ue,dialogueChoices:null,worldProgress:_e}})}},{text:"No, I need more time.",onSelect:()=>{a("Of course. There is no rush. Prepare yourself and speak to me again when you are ready."),e(ue=>({...ue,dialogueChoices:null}))}}]}));break;case"quest_completed":a("The portal awaits your challenge, Traveler. Show them what a Lexicon Legend you've become!");break}}else if(S==="Vera"){const G=L.verb_volcanoes.status;G==="not_started"?(e(V=>{const ue={...V.worldProgress,verb_volcanoes:{...V.worldProgress.verb_volcanoes,status:"in_progress"}};return{...V,worldProgress:ue}}),a("Traveler! The Great Golem is dormant! We need to reactivate its core. Please find the three Action Runes. Watch out for the Tense Terrors that guard them!")):a(G==="completed"?"The Golem's power flows thanks to you!":"Find the Action Runes to awaken the Golem!")}else if(S==="Arturo"){const G=L.adjective_isles.status;G==="not_started"?(e(V=>{const ue={...V.worldProgress,adjective_isles:{...V.worldProgress.adjective_isles,status:"in_progress"}};return{...V,worldProgress:ue}}),a("Traveler! The world... it's so dull! The Chroma Crystals that give this archipelago its color have gone dim. Please, help me restore them by correctly describing the world around you.")):a(G==="completed"?"My art has never been so vibrant, thank you!":"Bring color back to my canvas by solving the descriptive puzzles!")}else if(S==="Chronos"){const G=L.tense_tangled_forest.status;G==="not_started"?(e(V=>{const ue={...V.worldProgress,tense_tangled_forest:{...V.worldProgress.tense_tangled_forest,status:"in_progress"}};return{...V,worldProgress:ue}}),a("Traveler... time... it is broken here. The three great Time Anchors are unstable. You must... speak to the world as it was, as it is, and as it will be... to restore balance.")):a(G==="completed"?"The forest's timeline is whole once more, thanks to you.":"The Time Anchors are still unstable. The past, present, and future are tangled.")}},[n]),J=ce.useCallback((S,A)=>{const{currentLocation:N,activeProceduralLevel:w,proceduralQuest:L}=n;if(N==="procedural_gauntlet"){if(S==="gauntlet_exit_portal"){_();return}if(A==="npc"&&w&&L){O(S);return}if(A==="guiding_stone"){H(S,!1);return}if(A==="quest_item"&&w&&L){if(!L.isStarted){a("You should probably talk to the person standing over there first.");return}e(V=>{const ue={...V.activeProceduralLevel},me=ue.questItems.find(Le=>Le.id===S);if(!me||me.isCollected)return V;const _e=ue.enemies.find(Le=>Le.id===me.guardianId);if((_e==null?void 0:_e.status)==="defeated"){a(`You collected the ${me.name}!`);const Le=ue.questItems.map(ke=>ke.id===S?{...ke,isCollected:!0}:ke);return ue.questItems=Le,{...V,inventory:[...new Set([...V.inventory,me.name])],wordTome:{...V.wordTome,nouns:V.wordTome.nouns.includes(me.name)?V.wordTome.nouns:[...V.wordTome.nouns,me.name]},activeProceduralLevel:ue}}else return a(`You can't take this yet! A ${(_e==null?void 0:_e.type)||"monster"} is guarding it.`),V})}return}if(S==="portal_gate"){C();return}const G=qt.interactives.find(V=>V.id===S);if(G)switch(G.type){case"npc":O(G.id);return;case"guiding_stone":H(G.lessonId,!1);return}e(V=>{var Le,ke,Et;const ue=V.worldProgress.noun_meadows,me=(Le=ue.questItems)==null?void 0:Le.find(st=>st.id===S);if(!me||me.isCollected)return V;const _e=(ke=ue.enemies)==null?void 0:ke.find(st=>st.id===me.guardianId);if((_e==null?void 0:_e.status)==="defeated"){a(`You collected the ${me.name}!`);const st=(Et=ue.questItems)==null?void 0:Et.map(Kl=>Kl.id===S?{...Kl,isCollected:!0}:Kl),Xl={...ue,questItems:st};return{...V,inventory:[...new Set([...V.inventory,me.name])],wordTome:{...V.wordTome,nouns:V.wordTome.nouns.includes(me.name)?V.wordTome.nouns:[...V.wordTome.nouns,me.name]},worldProgress:{...V.worldProgress,noun_meadows:Xl}}}else return a("You can't take this yet! A pesky Article Imp is guarding it."),V})},[n,O,C,H,_]),W=ce.useCallback(async S=>{var L;if(n.activeCombat.isActive||n.isAiming)return;if(n.currentLocation==="procedural_gauntlet"){if(!((L=n.proceduralQuest)!=null&&L.isStarted)){a("This creature seems passive. Maybe you should talk to the local first.");return}}else if(n.worldProgress.noun_meadows.status!=="in_progress"){a("Talk to Old Man Fitz to start the quest!");return}e(G=>({...G,loadingStatus:{...G.loadingStatus,isFetchingQuiz:!0},activeCombat:{isActive:!0,challenge:null,enemyId:S.id}}));const A=S.challenge.itemName;let N;if(n.isApiQuotaExhausted)console.log("Quota exhausted, using fallback quiz."),N={sentence:`This is ___ ${A}.`,correctAnswer:["a","e","i","o","u"].includes(A[0].toLowerCase())?"an":"a",options:["a","an"]};else{const G=await Y1(A);N=G.data,G.errorType==="QUOTA_EXHAUSTED"&&!n.isApiQuotaExhausted?(a("The well of wit has run dry for today! Standard questions will be used until tomorrow."),e(V=>({...V,isApiQuotaExhausted:!0}))):G.errorType==="NETWORK_ERROR"&&console.error("Unexpected error fetching quiz, using fallback.")}const w={type:"article",itemName:A,sentence:N.sentence,options:N.options,correctAnswer:N.correctAnswer};e(G=>({...G,loadingStatus:{...G.loadingStatus,isFetchingQuiz:!1},activeCombat:{...G.activeCombat,challenge:w}}))},[n.worldProgress.noun_meadows.status,n.activeCombat.isActive,n.isAiming,n.currentLocation,n.proceduralQuest,n.isApiQuotaExhausted]),K=ce.useCallback(()=>{n.isPlayerInvincible||(e(S=>({...S,playerHP:S.playerHP-1,isPlayerInvincible:!0})),setTimeout(()=>{e(S=>({...S,isPlayerInvincible:!1}))},$1))},[n.isPlayerInvincible]),$=ce.useCallback(()=>{if(n.currentLocation==="procedural_gauntlet"){const S=n.gauntletHighestLevel;a(`Defeated! Returning to your checkpoint: Level ${S}.`),e(A=>({...A,isGameOver:!1,playerHP:A.playerMaxHP,isAiming:!1,activeProjectiles:[],koEffects:[]})),v(S)}else e(S=>{const A=JSON.parse(JSON.stringify(Sa)),N=S.inventory.filter(w=>!zp.some(L=>L===w));return{...S,isGameOver:!1,isGamePaused:!1,playerHP:S.playerMaxHP,isAiming:!1,activeProjectiles:[],koEffects:[],dialogueChoices:null,activeCombat:{isActive:!1,challenge:null,enemyId:null},worldProgress:{...S.worldProgress,noun_meadows:A},inventory:N,currentLocation:"noun_meadows"}}),a("You've been defeated, but don't give up! The Noun Meadows have been reset.")},[n.currentLocation,n.gauntletHighestLevel,v]),Z=S=>{a(null),e(A=>({...A,currentLocation:S,dialogueChoices:null,isGamePaused:!1}))},F=S=>{d({message:`Reset ${S}?`,detail:"All of your progress in this world will be permanently lost, but you will keep any items earned. This cannot be undone.",onConfirm:()=>{e(A=>{const N={...A.worldProgress};return S==="noun_meadows"&&(N.noun_meadows=JSON.parse(JSON.stringify(Sa))),{...A,worldProgress:N}}),d(null),Z(S)}})},re=S=>{const A=S===1?K1:Z1;if(n.lingoGems<A){a("You don't have enough Lingo Gems for that.");return}const N=[];for(let w=0;w<S;w++){const L=Math.random()*100;let G;L<5?G="Epic":L<30?G="Rare":G="Common";const V=eM[G],ue=V[Math.floor(Math.random()*V.length)];N.push({...ue,rarity:G})}e(w=>{const L={...w,lingoGems:w.lingoGems-A,gachaResult:N};return N.forEach(G=>{switch(G.type){case"xp":L.playerXP+=50;break;case"outfit":L.collection.outfits.includes(G.name)||L.collection.outfits.push(G.name);break;case"companion":L.collection.companions.includes(G.name)||L.collection.companions.push(G.name);break;case"decoration":L.collection.hubDecorations.includes(G.name)||L.collection.hubDecorations.push(G.name);break;case"sage":L.collection.sages.includes(G.name)||L.collection.sages.push(G.name);break}}),L})},ee=()=>{const S=p();return n.lastDailyChallengeDate===S},xe=()=>{a("A series of challenges begin! Complete 3 to earn a reward."),e(S=>({...S,dailyChallengeState:{isActive:!0,challengesCompleted:0},currentLocation:"noun_meadows"}))},ie=(S,A)=>{S==="outfit"?e(N=>({...N,equippedOutfit:A})):S==="companion"&&e(N=>({...N,equippedCompanion:A}))},j=S=>{const{activeCombat:A,currentLocation:N,activeProceduralLevel:w}=n;if(!A.challenge||!A.enemyId)return;const L=S===A.challenge.correctAnswer,G=A.enemyId;L?(a("Correct! The enemy is defeated!"),N==="noun_meadows"?e(V=>{var Le,ke,Et;const ue=(ke=(Le=V.worldProgress.noun_meadows.enemies)==null?void 0:Le.find(st=>st.id===G))==null?void 0:ke.position,me=((Et=V.worldProgress.noun_meadows.enemies)==null?void 0:Et.map(st=>st.id===G?{...st,status:"defeated"}:st))||[],_e={...V.worldProgress.noun_meadows,enemies:me};return{...V,activeCombat:{isActive:!1,challenge:null,enemyId:null},worldProgress:{...V.worldProgress,noun_meadows:_e},playerXP:V.playerXP+20,koEffects:[...V.koEffects,{id:`ko-${Date.now()}`,pos:ue||{x:0,y:0}}]}}):N==="procedural_gauntlet"&&w&&e(V=>{var _e;const ue=(_e=V.activeProceduralLevel.enemies.find(Le=>Le.id===G))==null?void 0:_e.position,me=V.activeProceduralLevel.enemies.map(Le=>Le.id===G?{...Le,status:"defeated"}:Le);return{...V,activeCombat:{isActive:!1,challenge:null,enemyId:null},playerXP:V.playerXP+15,activeProceduralLevel:{...V.activeProceduralLevel,enemies:me},koEffects:[...V.koEffects,{id:`ko-${Date.now()}`,pos:ue||{x:0,y:0}}]}})):(a("Incorrect! You've taken damage!"),e(V=>({...V,activeCombat:{isActive:!1,challenge:null,enemyId:null}})),K())},ne=S=>{e(A=>({...A,activePuzzle:{isActive:!0,targetObject:S.targetObject,requiredAdjectives:S.requiredAdjectives,availableAdjectives:S.availableAdjectives,selectedAdjectives:[]}}))},se=S=>{e(A=>{const{activePuzzle:N}=A,w=N.selectedAdjectives;return w.includes(S)?{...A,activePuzzle:{...N,selectedAdjectives:w.filter(L=>L!==S)}}:w.length<N.requiredAdjectives.length?{...A,activePuzzle:{...N,selectedAdjectives:[...w,S]}}:A})},Te=()=>{e(S=>{const{activePuzzle:A}=S,{selectedAdjectives:N,requiredAdjectives:w,targetObject:L}=A,G=w.length===N.length&&w.every(ue=>N.includes(ue)),V=Yp.find(ue=>ue.targetObject===L);return G&&V?(a(`That's it! You described the ${L} perfectly! You received the ${V.id}.`),{...S,inventory:[...new Set([...S.inventory,V.id])],wordTome:{...S.wordTome,adjectives:[...new Set([...S.wordTome.adjectives,...w])]},playerXP:S.playerXP+150,activePuzzle:{...A,isActive:!1}}):(a(`That's not quite right. Try describing the ${L} again.`),{...S,activePuzzle:{...A,selectedAdjectives:[]}})})},Re=S=>{e(A=>({...A,activeTimePuzzle:{isActive:!0,targetId:S.id,prompt:S.prompt,challenge:S.challenge}}))},ge=S=>{e(A=>{const{activeTimePuzzle:N}=A;if(!N.challenge)return A;if(S===N.challenge.correctTense){const L=_a.find(ue=>ue.id===N.targetId);if(!L)return A;a("You've mended the timeline for this object!");const G={...A.worldProgress.tense_tangled_forest.objectStates,[L.id]:L.solvedState},V={...A.worldProgress.tense_tangled_forest,objectStates:G};return{...A,playerXP:A.playerXP+200,activeTimePuzzle:{...N,isActive:!1},worldProgress:{...A.worldProgress,tense_tangled_forest:V}}}else return a("That wasn't the right time... The object remains unstable. You take damage from the temporal feedback!"),K(),{...A,activeTimePuzzle:{...N,isActive:!1}}})},k=ce.useCallback(S=>{e(A=>({...A,aimingAngle:(A.aimingAngle+S+360)%360}))},[]),Q=ce.useCallback(S=>{e(A=>({...A,isAiming:!1,activeProjectiles:[...A.activeProjectiles,{id:`proj-${Date.now()}`,pos:{x:S.x+Zi/2,y:S.y+$i/2},angle:A.aimingAngle}]}))},[]),le=ce.useCallback((S,A)=>{e(N=>{var L;const w={...N,activeProjectiles:N.activeProjectiles.filter(G=>G.id!==S)};if(A){let G;N.currentLocation==="procedural_gauntlet"&&N.activeProceduralLevel?G=N.activeProceduralLevel.enemies.find(V=>V.id===A):N.currentLocation==="noun_meadows"&&(G=(L=N.worldProgress.noun_meadows.enemies)==null?void 0:L.find(V=>V.id===A)),G&&G.status!=="defeated"&&W(G)}return w})},[W]),X=()=>{const{currentLocation:S,worldProgress:A,activeProceduralLevel:N}=n;switch(S){case"noun_meadows":return E.jsx(Xr,{location:S,map:qt,gameState:n,onInteract:J,onPlayerDamage:K,onCombatStart:W,onAim:k,onFire:Q,onProjectileHit:le});case"verb_volcanoes":return E.jsx(Xr,{location:S,map:tM,gameState:n,onInteract:J,onPlayerDamage:K,onCombatStart:W,onAim:k,onFire:Q,onProjectileHit:le,children:E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center",children:E.jsx(Wi,{name:"Vera",showPrompt:!1,onClick:()=>O("Vera")})})});case"adjective_isles":return E.jsxs("div",{className:`w-full h-screen flex flex-col justify-center items-center p-4 pt-20 transition-colors duration-1000 ${A.adjective_isles.isColored?"bg-cyan-200":"bg-gray-400"}`,children:[E.jsx("div",{className:"absolute top-1/3",children:E.jsx(Wi,{name:"Arturo",showPrompt:!1,onClick:()=>O("Arturo")})}),E.jsx("div",{className:"flex space-x-20 mt-10 w-full justify-around items-end h-1/2",children:Yp.map(w=>E.jsx(C0,{objectName:w.targetObject,icon:w.icon,onClick:()=>ne(w),isPuzzleSolved:n.inventory.includes(w.id),isTarget:!n.inventory.includes(w.id)},w.id))})]});case"tense_tangled_forest":return E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-slate-800 p-4 pt-20",children:[E.jsx(Wi,{name:"Chronos",showPrompt:!1,onClick:()=>O("Chronos")}),E.jsx("div",{className:"flex space-x-20 mt-10 relative w-full h-1/2",children:_a.map(w=>{var G;const L=((G=A.tense_tangled_forest.objectStates)==null?void 0:G[w.id])||w.initialState;return E.jsx("div",{className:`absolute ${w.position}`,children:E.jsx(_0,{id:w.id,currentState:L,isSolved:L===w.solvedState,onClick:()=>Re(w)})},w.id)})})]});case"procedural_gauntlet":return n.loadingStatus.isGeneratingLevel?E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("h1",{children:"Generating Gauntlet Level..."})}):N?E.jsx(Xr,{location:"procedural_gauntlet",map:N,gameState:n,onInteract:J,onPlayerDamage:K,onCombatStart:W,onAim:k,onFire:Q,onProjectileHit:le}):E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("h1",{children:"Loading Gauntlet..."})});default:return null}};return E.jsxs("div",{className:"app-container bg-gray-900 text-white font-sans",children:[E.jsx(i0,{xp:n.playerXP,gems:n.lingoGems,inventory:n.inventory,onShowMap:()=>Z("map"),hp:n.playerHP,maxHp:n.playerMaxHP}),n.currentLocation==="map"&&E.jsx(T0,{unlockedWorlds:n.unlockedWorlds,onTravel:Z,worldProgress:n.worldProgress,onResetRequest:F}),n.currentLocation==="hub_main"&&E.jsx(M0,{onNavigate:Z,collection:n.collection,equippedOutfit:n.equippedOutfit,equippedCompanion:n.equippedCompanion}),n.currentLocation==="well_of_words"&&E.jsx(N0,{gems:n.lingoGems,onDraw:re,onBack:()=>Z("hub_main"),results:n.gachaResult,onCloseResults:()=>e(S=>({...S,gachaResult:null}))}),n.currentLocation==="endless_tower"&&E.jsx(w0,{onBack:()=>Z("hub_main"),onStart:xe,isAvailable:!ee()}),n.currentLocation==="collection_screen"&&E.jsx(D0,{collection:n.collection,onBack:()=>Z("hub_main"),onEquip:ie,equippedOutfit:n.equippedOutfit,equippedCompanion:n.equippedCompanion}),X(),i&&E.jsx(y0,{message:i,onClose:()=>a(null),choices:n.dialogueChoices}),n.activeCombat.isActive&&E.jsx(v0,{combatState:n.activeCombat,onResolve:j,isFetchingQuiz:n.loadingStatus.isFetchingQuiz}),n.activePuzzle.isActive&&E.jsx(S0,{puzzleState:n.activePuzzle,onSelectAdjective:se,onSubmit:Te,onClose:()=>e(S=>({...S,activePuzzle:{...S.activePuzzle,isActive:!1}}))}),n.activeTimePuzzle.isActive&&E.jsx(x0,{puzzleState:n.activeTimePuzzle,onSelectTense:ge,onClose:()=>e(S=>({...S,activeTimePuzzle:{...S.activeTimePuzzle,isActive:!1}}))}),n.activeLesson&&E.jsx(V0,{lessonData:g,isLoading:n.loadingStatus.isFetchingLesson,onClose:D,onCancel:D,onRefresh:()=>H(n.activeLesson,!0)}),n.isGameOver&&E.jsx(U0,{onRetry:$}),c&&E.jsx(I0,{...c,onCancel:()=>d(null)})]})},_g=document.getElementById("root");if(!_g)throw new Error("Could not find root element to mount to");const lM=l0.createRoot(_g);lM.render(E.jsx(Ky.StrictMode,{children:E.jsx(nM,{})}));
