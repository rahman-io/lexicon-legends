(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Kp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Or={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Zy(){if(fm)return Ql;fm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(a,c,d){var g=null;if(d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:n,type:a,key:g,ref:c!==void 0?c:null,props:d}}return Ql.Fragment=e,Ql.jsx=l,Ql.jsxs=l,Ql}var dm;function $y(){return dm||(dm=1,Or.exports=Zy()),Or.exports}var E=$y(),Yr={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function Wy(){if(mm)return ye;mm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=C&&S[C]||S["@@iterator"],typeof S=="function"?S:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,k={};function F(S,A,w){this.props=S,this.context=A,this.refs=k,this.updater=w||b}F.prototype.isReactComponent={},F.prototype.setState=function(S,A){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,A,"setState")},F.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Z(){}Z.prototype=F.prototype;function X(S,A,w){this.props=S,this.context=A,this.refs=k,this.updater=w||b}var W=X.prototype=new Z;W.constructor=X,H(W,F.prototype),W.isPureReactComponent=!0;var $=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function ee(S,A,w,D,L,V){return w=V.ref,{$$typeof:n,type:S,key:A,ref:w!==void 0?w:null,props:V}}function Ee(S,A){return ee(S.type,A,void 0,void 0,void 0,S.props)}function le(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function j(S){var A={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(w){return A[w]})}var ne=/\/+/g;function re(S,A){return typeof S=="object"&&S!==null&&S.key!=null?j(""+S.key):A.toString(36)}function Ce(){}function be(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Ce,Ce):(S.status="pending",S.then(function(A){S.status==="pending"&&(S.status="fulfilled",S.value=A)},function(A){S.status==="pending"&&(S.status="rejected",S.reason=A)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function he(S,A,w,D,L){var V=typeof S;(V==="undefined"||V==="boolean")&&(S=null);var q=!1;if(S===null)q=!0;else switch(V){case"bigint":case"string":case"number":q=!0;break;case"object":switch(S.$$typeof){case n:case e:q=!0;break;case v:return q=S._init,he(q(S._payload),A,w,D,L)}}if(q)return L=L(S),q=D===""?"."+re(S,0):D,$(L)?(w="",q!=null&&(w=q.replace(ne,"$&/")+"/"),he(L,A,w,"",function(Ae){return Ae})):L!=null&&(le(L)&&(L=Ee(L,w+(L.key==null||S&&S.key===L.key?"":(""+L.key).replace(ne,"$&/")+"/")+q)),A.push(L)),1;q=0;var ce=D===""?".":D+":";if($(S))for(var pe=0;pe<S.length;pe++)D=S[pe],V=ce+re(D,pe),q+=he(D,A,w,V,L);else if(pe=_(S),typeof pe=="function")for(S=pe.call(S),pe=0;!(D=S.next()).done;)D=D.value,V=ce+re(D,pe++),q+=he(D,A,w,V,L);else if(V==="object"){if(typeof S.then=="function")return he(be(S),A,w,D,L);throw A=String(S),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return q}function B(S,A,w){if(S==null)return S;var D=[],L=0;return he(S,D,"","",function(V){return A.call(w,V,L++)}),D}function Q(S){if(S._status===-1){var A=S._result;A=A(),A.then(function(w){(S._status===0||S._status===-1)&&(S._status=1,S._result=w)},function(w){(S._status===0||S._status===-1)&&(S._status=2,S._result=w)}),S._status===-1&&(S._status=0,S._result=A)}if(S._status===1)return S._result.default;throw S._result}var ie=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function K(){}return ye.Children={map:B,forEach:function(S,A,w){B(S,function(){A.apply(this,arguments)},w)},count:function(S){var A=0;return B(S,function(){A++}),A},toArray:function(S){return B(S,function(A){return A})||[]},only:function(S){if(!le(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ye.Component=F,ye.Fragment=l,ye.Profiler=c,ye.PureComponent=X,ye.StrictMode=a,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ye.__COMPILER_RUNTIME={__proto__:null,c:function(S){return J.H.useMemoCache(S)}},ye.cache=function(S){return function(){return S.apply(null,arguments)}},ye.cloneElement=function(S,A,w){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var D=H({},S.props),L=S.key,V=void 0;if(A!=null)for(q in A.ref!==void 0&&(V=void 0),A.key!==void 0&&(L=""+A.key),A)!ue.call(A,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&A.ref===void 0||(D[q]=A[q]);var q=arguments.length-2;if(q===1)D.children=w;else if(1<q){for(var ce=Array(q),pe=0;pe<q;pe++)ce[pe]=arguments[pe+2];D.children=ce}return ee(S.type,L,void 0,void 0,V,D)},ye.createContext=function(S){return S={$$typeof:g,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},ye.createElement=function(S,A,w){var D,L={},V=null;if(A!=null)for(D in A.key!==void 0&&(V=""+A.key),A)ue.call(A,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(L[D]=A[D]);var q=arguments.length-2;if(q===1)L.children=w;else if(1<q){for(var ce=Array(q),pe=0;pe<q;pe++)ce[pe]=arguments[pe+2];L.children=ce}if(S&&S.defaultProps)for(D in q=S.defaultProps,q)L[D]===void 0&&(L[D]=q[D]);return ee(S,V,void 0,void 0,null,L)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(S){return{$$typeof:h,render:S}},ye.isValidElement=le,ye.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:Q}},ye.memo=function(S,A){return{$$typeof:p,type:S,compare:A===void 0?null:A}},ye.startTransition=function(S){var A=J.T,w={};J.T=w;try{var D=S(),L=J.S;L!==null&&L(w,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(K,ie)}catch(V){ie(V)}finally{J.T=A}},ye.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ye.use=function(S){return J.H.use(S)},ye.useActionState=function(S,A,w){return J.H.useActionState(S,A,w)},ye.useCallback=function(S,A){return J.H.useCallback(S,A)},ye.useContext=function(S){return J.H.useContext(S)},ye.useDebugValue=function(){},ye.useDeferredValue=function(S,A){return J.H.useDeferredValue(S,A)},ye.useEffect=function(S,A,w){var D=J.H;if(typeof w=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(S,A)},ye.useId=function(){return J.H.useId()},ye.useImperativeHandle=function(S,A,w){return J.H.useImperativeHandle(S,A,w)},ye.useInsertionEffect=function(S,A){return J.H.useInsertionEffect(S,A)},ye.useLayoutEffect=function(S,A){return J.H.useLayoutEffect(S,A)},ye.useMemo=function(S,A){return J.H.useMemo(S,A)},ye.useOptimistic=function(S,A){return J.H.useOptimistic(S,A)},ye.useReducer=function(S,A,w){return J.H.useReducer(S,A,w)},ye.useRef=function(S){return J.H.useRef(S)},ye.useState=function(S){return J.H.useState(S)},ye.useSyncExternalStore=function(S,A,w){return J.H.useSyncExternalStore(S,A,w)},ye.useTransition=function(){return J.H.useTransition()},ye.version="19.1.1",ye}var pm;function uu(){return pm||(pm=1,Yr.exports=Wy()),Yr.exports}var fe=uu();const jy=Kp(fe);var Fr={exports:{}},Xl={},Jr={exports:{}},Qr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function e0(){return gm||(gm=1,function(n){function e(B,Q){var ie=B.length;B.push(Q);e:for(;0<ie;){var K=ie-1>>>1,S=B[K];if(0<c(S,Q))B[K]=Q,B[ie]=S,ie=K;else break e}}function l(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var Q=B[0],ie=B.pop();if(ie!==Q){B[0]=ie;e:for(var K=0,S=B.length,A=S>>>1;K<A;){var w=2*(K+1)-1,D=B[w],L=w+1,V=B[L];if(0>c(D,ie))L<S&&0>c(V,D)?(B[K]=V,B[L]=ie,K=L):(B[K]=D,B[w]=ie,K=w);else if(L<S&&0>c(V,ie))B[K]=V,B[L]=ie,K=L;else break e}}return Q}function c(B,Q){var ie=B.sortIndex-Q.sortIndex;return ie!==0?ie:B.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var g=Date,h=g.now();n.unstable_now=function(){return g.now()-h}}var y=[],p=[],v=1,C=null,_=3,b=!1,H=!1,k=!1,F=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function $(B){for(var Q=l(p);Q!==null;){if(Q.callback===null)a(p);else if(Q.startTime<=B)a(p),Q.sortIndex=Q.expirationTime,e(y,Q);else break;Q=l(p)}}function J(B){if(k=!1,$(B),!H)if(l(y)!==null)H=!0,ue||(ue=!0,re());else{var Q=l(p);Q!==null&&he(J,Q.startTime-B)}}var ue=!1,ee=-1,Ee=5,le=-1;function j(){return F?!0:!(n.unstable_now()-le<Ee)}function ne(){if(F=!1,ue){var B=n.unstable_now();le=B;var Q=!0;try{e:{H=!1,k&&(k=!1,X(ee),ee=-1),b=!0;var ie=_;try{t:{for($(B),C=l(y);C!==null&&!(C.expirationTime>B&&j());){var K=C.callback;if(typeof K=="function"){C.callback=null,_=C.priorityLevel;var S=K(C.expirationTime<=B);if(B=n.unstable_now(),typeof S=="function"){C.callback=S,$(B),Q=!0;break t}C===l(y)&&a(y),$(B)}else a(y);C=l(y)}if(C!==null)Q=!0;else{var A=l(p);A!==null&&he(J,A.startTime-B),Q=!1}}break e}finally{C=null,_=ie,b=!1}Q=void 0}}finally{Q?re():ue=!1}}}var re;if(typeof W=="function")re=function(){W(ne)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,be=Ce.port2;Ce.port1.onmessage=ne,re=function(){be.postMessage(null)}}else re=function(){Z(ne,0)};function he(B,Q){ee=Z(function(){B(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(B){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var ie=_;_=Q;try{return B()}finally{_=ie}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=_;_=B;try{return Q()}finally{_=ie}},n.unstable_scheduleCallback=function(B,Q,ie){var K=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?K+ie:K):ie=K,B){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ie+S,B={id:v++,callback:Q,priorityLevel:B,startTime:ie,expirationTime:S,sortIndex:-1},ie>K?(B.sortIndex=ie,e(p,B),l(y)===null&&B===l(p)&&(k?(X(ee),ee=-1):k=!0,he(J,ie-K))):(B.sortIndex=S,e(y,B),H||b||(H=!0,ue||(ue=!0,re()))),B},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(B){var Q=_;return function(){var ie=_;_=Q;try{return B.apply(this,arguments)}finally{_=ie}}}}(Qr)),Qr}var hm;function t0(){return hm||(hm=1,Jr.exports=e0()),Jr.exports}var Xr={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function n0(){if(ym)return at;ym=1;var n=uu();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:p,implementation:v}}var g=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,at.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return d(y,p,null,v)},at.flushSync=function(y){var p=g.T,v=a.p;try{if(g.T=null,a.p=2,y)return y()}finally{g.T=p,a.p=v,a.d.f()}},at.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},at.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},at.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,C=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:b}):v==="script"&&a.d.X(y,{crossOrigin:C,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},at.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},at.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=h(v,p.crossOrigin);a.d.L(y,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},at.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},at.requestFormReset=function(y){a.d.r(y)},at.unstable_batchedUpdates=function(y,p){return y(p)},at.useFormState=function(y,p,v){return g.H.useFormState(y,p,v)},at.useFormStatus=function(){return g.H.useHostTransitionStatus()},at.version="19.1.1",at}var vm;function i0(){if(vm)return Xr.exports;vm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xr.exports=n0(),Xr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function l0(){if(Tm)return Xl;Tm=1;var n=t0(),e=uu(),l=i0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function g(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(d(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,u=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return h(f),t;if(m===u)return h(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,x=f.child;x;){if(x===o){T=!0,o=f,u=m;break}if(x===u){T=!0,u=f,o=m;break}x=x.sibling}if(!T){for(x=m.child;x;){if(x===o){T=!0,o=m,u=f;break}if(x===u){T=!0,u=m,o=f;break}x=x.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ce?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case J:return"Suspense";case ue:return"SuspenseList";case le:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case W:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case $:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return i=t.displayName||null,i!==null?i:be(t.type)||"Memo";case Ee:i=t._payload,t=t._init;try{return be(t(i))}catch{}}return null}var he=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},K=[],S=-1;function A(t){return{current:t}}function w(t){0>S||(t.current=K[S],K[S]=null,S--)}function D(t,i){S++,K[S]=t.current,t.current=i}var L=A(null),V=A(null),q=A(null),ce=A(null);function pe(t,i){switch(D(q,i),D(V,t),D(L,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?kd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=kd(i),t=Bd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}w(L),D(L,t)}function Ae(){w(L),w(V),w(q)}function qe(t){t.memoizedState!==null&&D(ce,t);var i=L.current,o=Bd(i,t.type);i!==o&&(D(V,t),D(L,o))}function He(t){V.current===t&&(w(L),w(V)),ce.current===t&&(w(ce),zl._currentValue=ie)}var _t=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,Xi=n.unstable_cancelCallback,Ki=n.unstable_shouldYield,Ng=n.unstable_requestPaint,kt=n.unstable_now,wg=n.unstable_getCurrentPriorityLevel,vu=n.unstable_ImmediatePriority,Tu=n.unstable_UserBlockingPriority,no=n.unstable_NormalPriority,Dg=n.unstable_LowPriority,Cu=n.unstable_IdlePriority,Ig=n.log,Ug=n.unstable_setDisableYieldValue,Zi=null,gt=null;function rn(t){if(typeof Ig=="function"&&Ug(t),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Zi,t)}catch{}}var ht=Math.clz32?Math.clz32:qg,Lg=Math.log,Pg=Math.LN2;function qg(t){return t>>>=0,t===0?32:31-(Lg(t)/Pg|0)|0}var io=256,lo=4194304;function Un(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oo(t,i,o){var u=t.pendingLanes;if(u===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var x=u&134217727;return x!==0?(u=x&~m,u!==0?f=Un(u):(T&=x,T!==0?f=Un(T):o||(o=x&~t,o!==0&&(f=Un(o))))):(x=u&~m,x!==0?f=Un(x):T!==0?f=Un(T):o||(o=u&~t,o!==0&&(f=Un(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function $i(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gg(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=io;return io<<=1,(io&4194048)===0&&(io=256),t}function xu(){var t=lo;return lo<<=1,(lo&62914560)===0&&(lo=4194304),t}function Ia(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function Wi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vg(t,i,o,u,f,m){var T=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var x=t.entanglements,M=t.expirationTimes,U=t.hiddenUpdates;for(o=T&~o;0<o;){var z=31-ht(o),Y=1<<z;x[z]=0,M[z]=-1;var P=U[z];if(P!==null)for(U[z]=null,z=0;z<P.length;z++){var G=P[z];G!==null&&(G.lane&=-536870913)}o&=~Y}u!==0&&Eu(t,u,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~i))}function Eu(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-ht(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function _u(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-ht(o),f=1<<u;f&i|t[u]&i&&(t[u]|=i),o&=~f}}function Ua(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function La(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Au(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:om(t.type))}function kg(t,i){var o=Q.p;try{return Q.p=t,i()}finally{Q.p=o}}var un=Math.random().toString(36).slice(2),lt="__reactFiber$"+un,ct="__reactProps$"+un,ei="__reactContainer$"+un,Pa="__reactEvents$"+un,Bg="__reactListeners$"+un,Hg="__reactHandles$"+un,Mu="__reactResources$"+un,ji="__reactMarker$"+un;function qa(t){delete t[lt],delete t[ct],delete t[Pa],delete t[Bg],delete t[Hg]}function ti(t){var i=t[lt];if(i)return i;for(var o=t.parentNode;o;){if(i=o[ei]||o[lt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Yd(t);t!==null;){if(o=t[lt])return o;t=Yd(t)}return i}t=o,o=t.parentNode}return null}function ni(t){if(t=t[lt]||t[ei]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function el(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ii(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $e(t){t[ji]=!0}var Ru=new Set,bu={};function Ln(t,i){li(t,i),li(t+"Capture",i)}function li(t,i){for(bu[t]=i,t=0;t<i.length;t++)Ru.add(i[t])}var zg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},wu={};function Og(t){return _t.call(wu,t)?!0:_t.call(Nu,t)?!1:zg.test(t)?wu[t]=!0:(Nu[t]=!0,!1)}function ao(t,i,o){if(Og(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function so(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function Ft(t,i,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+u)}}var Ga,Du;function oi(t){if(Ga===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ga=i&&i[1]||"",Du=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+t+Du}var Va=!1;function ka(t,i){if(!t||Va)return"";Va=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(G){var P=G}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(G){P=G}t.call(Y.prototype)}}else{try{throw Error()}catch(G){P=G}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(G){if(G&&P&&typeof G.stack=="string")return[G.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],x=m[1];if(T&&x){var M=T.split(`
`),U=x.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===U.length)for(u=M.length-1,f=U.length-1;1<=u&&0<=f&&M[u]!==U[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==U[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==U[f]){var z=`
`+M[u].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=u&&0<=f);break}}}finally{Va=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?oi(o):""}function Yg(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return ka(t.type,!1);case 11:return ka(t.type.render,!1);case 1:return ka(t.type,!0);case 31:return oi("Activity");default:return""}}function Iu(t){try{var i="";do i+=Yg(t),t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function At(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fg(t){var i=Uu(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ro(t){t._valueTracker||(t._valueTracker=Fg(t))}function Lu(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Uu(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function uo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jg=/[\n"\\]/g;function Mt(t){return t.replace(Jg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ba(t,i,o,u,f,m,T,x){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+At(i)):t.value!==""+At(i)&&(t.value=""+At(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Ha(t,T,At(i)):o!=null?Ha(t,T,At(o)):u!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+At(x):t.removeAttribute("name")}function Pu(t,i,o,u,f,m,T,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;o=o!=null?""+At(o):"",i=i!=null?""+At(i):o,x||i===t.value||(t.value=i),t.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=x?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Ha(t,i,o){i==="number"&&uo(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function ai(t,i,o,u){if(t=t.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=i.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+At(o),i=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function qu(t,i,o){if(i!=null&&(i=""+At(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+At(o):""}function Gu(t,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(he(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=At(i),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function si(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Qg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(t,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,o):typeof o!="number"||o===0||Qg.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function ku(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Vu(t,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Vu(t,m,i[m])}function za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(t){return Kg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Oa=null;function Ya(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ri=null,ui=null;function Bu(t){var i=ni(t);if(i&&(t=i.stateNode)){var o=t[ct]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ba(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var f=u[ct]||null;if(!f)throw Error(a(90));Ba(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===t.form&&Lu(u)}break e;case"textarea":qu(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ai(t,!!o.multiple,i,!1)}}}var Fa=!1;function Hu(t,i,o){if(Fa)return t(i,o);Fa=!0;try{var u=t(i);return u}finally{if(Fa=!1,(ri!==null||ui!==null)&&(Zo(),ri&&(i=ri,t=ui,ui=ri=null,Bu(i),t)))for(i=0;i<t.length;i++)Bu(t[i])}}function tl(t,i){var o=t.stateNode;if(o===null)return null;var u=o[ct]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(Jt)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{Ja=!1}var cn=null,Qa=null,fo=null;function zu(){if(fo)return fo;var t,i=Qa,o=i.length,u,f="value"in cn?cn.value:cn.textContent,m=f.length;for(t=0;t<o&&i[t]===f[t];t++);var T=o-t;for(u=1;u<=T&&i[o-u]===f[m-u];u++);return fo=f.slice(t,1<u?1-u:void 0)}function mo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function po(){return!0}function Ou(){return!1}function ft(t){function i(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(o=t[x],this[x]=o?o(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?po:Ou,this.isPropagationStopped=Ou,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),i}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=ft(Pn),il=v({},Pn,{view:0,detail:0}),Zg=ft(il),Xa,Ka,ll,ho=v({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ll&&(ll&&t.type==="mousemove"?(Xa=t.screenX-ll.screenX,Ka=t.screenY-ll.screenY):Ka=Xa=0,ll=t),Xa)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Yu=ft(ho),$g=v({},ho,{dataTransfer:0}),Wg=ft($g),jg=v({},il,{relatedTarget:0}),Za=ft(jg),eh=v({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),th=ft(eh),nh=v({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ih=ft(nh),lh=v({},Pn,{data:0}),Fu=ft(lh),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=sh[t])?!!i[t]:!1}function $a(){return rh}var uh=v({},il,{key:function(t){if(t.key){var i=oh[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ah[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(t){return t.type==="keypress"?mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ch=ft(uh),fh=v({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=ft(fh),dh=v({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),mh=ft(dh),ph=v({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gh=ft(ph),hh=v({},ho,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yh=ft(hh),vh=v({},Pn,{newState:0,oldState:0}),Th=ft(vh),Ch=[9,13,27,32],Wa=Jt&&"CompositionEvent"in window,ol=null;Jt&&"documentMode"in document&&(ol=document.documentMode);var Sh=Jt&&"TextEvent"in window&&!ol,Qu=Jt&&(!Wa||ol&&8<ol&&11>=ol),Xu=" ",Ku=!1;function Zu(t,i){switch(t){case"keyup":return Ch.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ci=!1;function xh(t,i){switch(t){case"compositionend":return $u(i);case"keypress":return i.which!==32?null:(Ku=!0,Xu);case"textInput":return t=i.data,t===Xu&&Ku?null:t;default:return null}}function Eh(t,i){if(ci)return t==="compositionend"||!Wa&&Zu(t,i)?(t=zu(),fo=Qa=cn=null,ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Qu&&i.locale!=="ko"?null:i.data;default:return null}}var _h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!_h[t.type]:i==="textarea"}function ju(t,i,o,u){ri?ui?ui.push(u):ui=[u]:ri=u,i=na(i,"onChange"),0<i.length&&(o=new go("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var al=null,sl=null;function Ah(t){Ld(t,0)}function yo(t){var i=el(t);if(Lu(i))return t}function ec(t,i){if(t==="change")return i}var tc=!1;if(Jt){var ja;if(Jt){var es="oninput"in document;if(!es){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),es=typeof nc.oninput=="function"}ja=es}else ja=!1;tc=ja&&(!document.documentMode||9<document.documentMode)}function ic(){al&&(al.detachEvent("onpropertychange",lc),sl=al=null)}function lc(t){if(t.propertyName==="value"&&yo(sl)){var i=[];ju(i,sl,t,Ya(t)),Hu(Ah,i)}}function Mh(t,i,o){t==="focusin"?(ic(),al=i,sl=o,al.attachEvent("onpropertychange",lc)):t==="focusout"&&ic()}function Rh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yo(sl)}function bh(t,i){if(t==="click")return yo(i)}function Nh(t,i){if(t==="input"||t==="change")return yo(i)}function wh(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yt=typeof Object.is=="function"?Object.is:wh;function rl(t,i){if(yt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!_t.call(i,f)||!yt(t[f],i[f]))return!1}return!0}function oc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ac(t,i){var o=oc(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=oc(o)}}function sc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function rc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=uo(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=uo(t.document)}return i}function ts(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Dh=Jt&&"documentMode"in document&&11>=document.documentMode,fi=null,ns=null,ul=null,is=!1;function uc(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;is||fi==null||fi!==uo(u)||(u=fi,"selectionStart"in u&&ts(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ul&&rl(ul,u)||(ul=u,u=na(ns,"onSelect"),0<u.length&&(i=new go("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=fi)))}function qn(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var di={animationend:qn("Animation","AnimationEnd"),animationiteration:qn("Animation","AnimationIteration"),animationstart:qn("Animation","AnimationStart"),transitionrun:qn("Transition","TransitionRun"),transitionstart:qn("Transition","TransitionStart"),transitioncancel:qn("Transition","TransitionCancel"),transitionend:qn("Transition","TransitionEnd")},ls={},cc={};Jt&&(cc=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Gn(t){if(ls[t])return ls[t];if(!di[t])return t;var i=di[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in cc)return ls[t]=i[o];return t}var fc=Gn("animationend"),dc=Gn("animationiteration"),mc=Gn("animationstart"),Ih=Gn("transitionrun"),Uh=Gn("transitionstart"),Lh=Gn("transitioncancel"),pc=Gn("transitionend"),gc=new Map,os="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");os.push("scrollEnd");function Pt(t,i){gc.set(t,i),Ln(i,[t])}var hc=new WeakMap;function Rt(t,i){if(typeof t=="object"&&t!==null){var o=hc.get(t);return o!==void 0?o:(i={value:t,source:i,stack:Iu(i)},hc.set(t,i),i)}return{value:t,source:i,stack:Iu(i)}}var bt=[],mi=0,as=0;function vo(){for(var t=mi,i=as=mi=0;i<t;){var o=bt[i];bt[i++]=null;var u=bt[i];bt[i++]=null;var f=bt[i];bt[i++]=null;var m=bt[i];if(bt[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&yc(o,f,m)}}function To(t,i,o,u){bt[mi++]=t,bt[mi++]=i,bt[mi++]=o,bt[mi++]=u,as|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ss(t,i,o,u){return To(t,i,o,u),Co(t)}function pi(t,i){return To(t,null,null,i),Co(t)}function yc(t,i,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=t.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-ht(o),t=m.hiddenUpdates,u=t[f],u===null?t[f]=[i]:u.push(i),i.lane=o|536870912),m):null}function Co(t){if(50<Ll)throw Ll=0,mr=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var gi={};function Ph(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,i,o,u){return new Ph(t,i,o,u)}function rs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qt(t,i){var o=t.alternate;return o===null?(o=vt(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function vc(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function So(t,i,o,u,f,m){var T=0;if(u=t,typeof t=="function")rs(t)&&(T=1);else if(typeof t=="string")T=Gy(t,o,L.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case le:return t=vt(31,o,i,f),t.elementType=le,t.lanes=m,t;case H:return Vn(o.children,f,m,i);case k:T=8,f|=24;break;case F:return t=vt(12,o,i,f|2),t.elementType=F,t.lanes=m,t;case J:return t=vt(13,o,i,f),t.elementType=J,t.lanes=m,t;case ue:return t=vt(19,o,i,f),t.elementType=ue,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:case W:T=10;break e;case X:T=9;break e;case $:T=11;break e;case ee:T=14;break e;case Ee:T=16,u=null;break e}T=29,o=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=vt(T,o,i,f),i.elementType=t,i.type=u,i.lanes=m,i}function Vn(t,i,o,u){return t=vt(7,t,u,i),t.lanes=o,t}function us(t,i,o){return t=vt(6,t,null,i),t.lanes=o,t}function cs(t,i,o){return i=vt(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var hi=[],yi=0,xo=null,Eo=0,Nt=[],wt=0,kn=null,Xt=1,Kt="";function Bn(t,i){hi[yi++]=Eo,hi[yi++]=xo,xo=t,Eo=i}function Tc(t,i,o){Nt[wt++]=Xt,Nt[wt++]=Kt,Nt[wt++]=kn,kn=t;var u=Xt;t=Kt;var f=32-ht(u)-1;u&=~(1<<f),o+=1;var m=32-ht(i)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Xt=1<<32-ht(i)+f|o<<f|u,Kt=m+t}else Xt=1<<m|o<<f|u,Kt=t}function fs(t){t.return!==null&&(Bn(t,1),Tc(t,1,0))}function ds(t){for(;t===xo;)xo=hi[--yi],hi[yi]=null,Eo=hi[--yi],hi[yi]=null;for(;t===kn;)kn=Nt[--wt],Nt[wt]=null,Kt=Nt[--wt],Nt[wt]=null,Xt=Nt[--wt],Nt[wt]=null}var ut=null,Oe=null,Re=!1,Hn=null,Bt=!1,ms=Error(a(519));function zn(t){var i=Error(a(418,""));throw dl(Rt(i,t)),ms}function Cc(t){var i=t.stateNode,o=t.type,u=t.memoizedProps;switch(i[lt]=t,i[ct]=u,o){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(o=0;o<ql.length;o++)xe(ql[o],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Pu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ro(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Gu(i,u.value,u.defaultValue,u.children),ro(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Vd(i.textContent,o)?(u.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),u.onScroll!=null&&xe("scroll",i),u.onScrollEnd!=null&&xe("scrollend",i),u.onClick!=null&&(i.onclick=ia),i=!0):i=!1,i||zn(t)}function Sc(t){for(ut=t.return;ut;)switch(ut.tag){case 5:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:ut=ut.return}}function cl(t){if(t!==ut)return!1;if(!Re)return Sc(t),Re=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Nr(t.type,t.memoizedProps)),o=!o),o&&Oe&&zn(t),Sc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(i===0){Oe=Gt(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;t=t.nextSibling}Oe=null}}else i===27?(i=Oe,Mn(t.type)?(t=Ur,Ur=null,Oe=t):Oe=i):Oe=ut?Gt(t.stateNode.nextSibling):null;return!0}function fl(){Oe=ut=null,Re=!1}function xc(){var t=Hn;return t!==null&&(pt===null?pt=t:pt.push.apply(pt,t),Hn=null),t}function dl(t){Hn===null?Hn=[t]:Hn.push(t)}var ps=A(null),On=null,Zt=null;function fn(t,i,o){D(ps,i._currentValue),i._currentValue=o}function $t(t){t._currentValue=ps.current,w(ps)}function gs(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function hs(t,i,o,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=f;for(var M=0;M<i.length;M++)if(x.context===i[M]){m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),gs(m.return,o,t),u||(T=null);break e}m=x.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),gs(T,o,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ml(t,i,o,u){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var x=f.type;yt(f.pendingProps.value,T.value)||(t!==null?t.push(x):t=[x])}}else if(f===ce.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}f=f.return}t!==null&&hs(i,t,o,u),i.flags|=262144}function _o(t){for(t=t.firstContext;t!==null;){if(!yt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yn(t){On=t,Zt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return Ec(On,t)}function Ao(t,i){return On===null&&Yn(t),Ec(t,i)}function Ec(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Zt===null){if(t===null)throw Error(a(308));Zt=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zt=Zt.next=i;return o}var qh=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},Gh=n.unstable_scheduleCallback,Vh=n.unstable_NormalPriority,Ke={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ys(){return{controller:new qh,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&Gh(Vh,function(){t.controller.abort()})}var gl=null,vs=0,vi=0,Ti=null;function kh(t,i){if(gl===null){var o=gl=[];vs=0,vi=Cr(),Ti={status:"pending",value:void 0,then:function(u){o.push(u)}}}return vs++,i.then(_c,_c),i}function _c(){if(--vs===0&&gl!==null){Ti!==null&&(Ti.status="fulfilled");var t=gl;gl=null,vi=0,Ti=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Bh(t,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ac=B.S;B.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kh(t,i),Ac!==null&&Ac(t,i)};var Fn=A(null);function Ts(){var t=Fn.current;return t!==null?t:Ve.pooledCache}function Mo(t,i){i===null?D(Fn,Fn.current):D(Fn,i.pool)}function Mc(){var t=Ts();return t===null?null:{parent:Ke._currentValue,pool:t}}var hl=Error(a(460)),Rc=Error(a(474)),Ro=Error(a(542)),Cs={then:function(){}};function bc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bo(){}function Nc(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(bo,bo),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Dc(t),t;default:if(typeof i.status=="string")i.then(bo,bo);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Dc(t),t}throw yl=i,hl}}var yl=null;function wc(){if(yl===null)throw Error(a(459));var t=yl;return yl=null,t}function Dc(t){if(t===hl||t===Ro)throw Error(a(483))}var dn=!1;function Ss(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xs(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pn(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(we&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Co(t),yc(t,null,o),i}return To(t,u,i,o),Co(t)}function vl(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,_u(t,o)}}function Es(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var _s=!1;function Tl(){if(_s){var t=Ti;if(t!==null)throw t}}function Cl(t,i,o,u){_s=!1;var f=t.updateQueue;dn=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var M=x,U=M.next;M.next=null,T===null?m=U:T.next=U,T=M;var z=t.alternate;z!==null&&(z=z.updateQueue,x=z.lastBaseUpdate,x!==T&&(x===null?z.firstBaseUpdate=U:x.next=U,z.lastBaseUpdate=M))}if(m!==null){var Y=f.baseState;T=0,z=U=M=null,x=m;do{var P=x.lane&-536870913,G=P!==x.lane;if(G?(_e&P)===P:(u&P)===P){P!==0&&P===vi&&(_s=!0),z!==null&&(z=z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ge=t,de=x;P=i;var Pe=o;switch(de.tag){case 1:if(ge=de.payload,typeof ge=="function"){Y=ge.call(Pe,Y,P);break e}Y=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=de.payload,P=typeof ge=="function"?ge.call(Pe,Y,P):ge,P==null)break e;Y=v({},Y,P);break e;case 2:dn=!0}}P=x.callback,P!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[P]:G.push(P))}else G={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},z===null?(U=z=G,M=Y):z=z.next=G,T|=P;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;G=x,x=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);z===null&&(M=Y),f.baseState=M,f.firstBaseUpdate=U,f.lastBaseUpdate=z,m===null&&(f.shared.lanes=0),xn|=T,t.lanes=T,t.memoizedState=Y}}function Ic(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Uc(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Ic(o[t],i)}var Ci=A(null),No=A(0);function Lc(t,i){t=on,D(No,t),D(Ci,i),on=t|i.baseLanes}function As(){D(No,on),D(Ci,Ci.current)}function Ms(){on=No.current,w(Ci),w(No)}var gn=0,ve=null,Ue=null,Qe=null,wo=!1,Si=!1,Jn=!1,Do=0,Sl=0,xi=null,Hh=0;function Fe(){throw Error(a(321))}function Rs(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!yt(t[o],i[o]))return!1;return!0}function bs(t,i,o,u,f,m){return gn=m,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?vf:Tf,Jn=!1,m=o(u,f),Jn=!1,Si&&(m=qc(i,o,u,f)),Pc(t),m}function Pc(t){B.H=Go;var i=Ue!==null&&Ue.next!==null;if(gn=0,Qe=Ue=ve=null,wo=!1,Sl=0,xi=null,i)throw Error(a(300));t===null||We||(t=t.dependencies,t!==null&&_o(t)&&(We=!0))}function qc(t,i,o,u){ve=t;var f=0;do{if(Si&&(xi=null),Sl=0,Si=!1,25<=f)throw Error(a(301));if(f+=1,Qe=Ue=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=Xh,m=i(o,u)}while(Si);return m}function zh(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?xl(i):i,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(ve.flags|=1024),i}function Ns(){var t=Do!==0;return Do=0,t}function ws(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function Ds(t){if(wo){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}wo=!1}gn=0,Qe=Ue=ve=null,Si=!1,Sl=Do=0,xi=null}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ve.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Xe(){if(Ue===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var i=Qe===null?ve.memoizedState:Qe.next;if(i!==null)Qe=i,Ue=t;else{if(t===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Qe===null?ve.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Is(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var i=Sl;return Sl+=1,xi===null&&(xi=[]),t=Nc(xi,t,i),i=ve,(Qe===null?i.memoizedState:Qe.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?vf:Tf),t}function Io(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===W)return ot(t)}throw Error(a(438,String(t)))}function Us(t){var i=null,o=ve.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Is(),ve.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),u=0;u<t;u++)o[u]=j;return i.index++,o}function Wt(t,i){return typeof i=="function"?i(t):i}function Uo(t){var i=Xe();return Ls(i,Ue,t)}function Ls(t,i,o){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var f=t.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}i.baseQueue=f=m,u.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var x=T=null,M=null,U=i,z=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(_e&Y)===Y:(gn&Y)===Y){var P=U.revertLane;if(P===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===vi&&(z=!0);else if((gn&P)===P){U=U.next,P===vi&&(z=!0);continue}else Y={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(x=M=Y,T=m):M=M.next=Y,ve.lanes|=P,xn|=P;Y=U.action,Jn&&o(m,Y),m=U.hasEagerState?U.eagerState:o(m,Y)}else P={lane:Y,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(x=M=P,T=m):M=M.next=P,ve.lanes|=Y,xn|=Y;U=U.next}while(U!==null&&U!==i);if(M===null?T=m:M.next=x,!yt(m,t.memoizedState)&&(We=!0,z&&(o=Ti,o!==null)))throw o;t.memoizedState=m,t.baseState=T,t.baseQueue=M,u.lastRenderedState=m}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Ps(t){var i=Xe(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);yt(m,i.memoizedState)||(We=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function Gc(t,i,o){var u=ve,f=Xe(),m=Re;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var T=!yt((Ue||f).memoizedState,o);T&&(f.memoizedState=o,We=!0),f=f.queue;var x=Bc.bind(null,u,f,t);if(El(2048,8,x,[t]),f.getSnapshot!==i||T||Qe!==null&&Qe.memoizedState.tag&1){if(u.flags|=2048,Ei(9,Lo(),kc.bind(null,u,f,o,i),null),Ve===null)throw Error(a(349));m||(gn&124)!==0||Vc(u,i,o)}return o}function Vc(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=ve.updateQueue,i===null?(i=Is(),ve.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function kc(t,i,o,u){i.value=o,i.getSnapshot=u,Hc(i)&&zc(t)}function Bc(t,i,o){return o(function(){Hc(i)&&zc(t)})}function Hc(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!yt(t,o)}catch{return!0}}function zc(t){var i=pi(t,2);i!==null&&Et(i,t,2)}function qs(t){var i=dt();if(typeof t=="function"){var o=t;if(t=o(),Jn){rn(!0);try{o()}finally{rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:t},i}function Oc(t,i,o,u){return t.baseState=o,Ls(t,Ue,typeof u=="function"?u:Wt)}function Oh(t,i,o,u,f){if(qo(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};B.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,Yc(i,m)):(m.next=o.next,i.pending=o.next=m)}}function Yc(t,i){var o=i.action,u=i.payload,f=t.state;if(i.isTransition){var m=B.T,T={};B.T=T;try{var x=o(f,u),M=B.S;M!==null&&M(T,x),Fc(t,i,x)}catch(U){Gs(t,i,U)}finally{B.T=m}}else try{m=o(f,u),Fc(t,i,m)}catch(U){Gs(t,i,U)}}function Fc(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Jc(t,i,u)},function(u){return Gs(t,i,u)}):Jc(t,i,o)}function Jc(t,i,o){i.status="fulfilled",i.value=o,Qc(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,Yc(t,o)))}function Gs(t,i,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Qc(i),i=i.next;while(i!==u)}t.action=null}function Qc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xc(t,i){return i}function Kc(t,i){if(Re){var o=Ve.formState;if(o!==null){e:{var u=ve;if(Re){if(Oe){t:{for(var f=Oe,m=Bt;f.nodeType!==8;){if(!m){f=null;break t}if(f=Gt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Oe=Gt(f.nextSibling),u=f.data==="F!";break e}}zn(u)}u=!1}u&&(i=o[0])}}return o=dt(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:i},o.queue=u,o=gf.bind(null,ve,u),u.dispatch=o,u=qs(!1),m=zs.bind(null,ve,!1,u.queue),u=dt(),f={state:i,dispatch:null,action:t,pending:null},u.queue=f,o=Oh.bind(null,ve,f,m,o),f.dispatch=o,u.memoizedState=t,[i,o,!1]}function Zc(t){var i=Xe();return $c(i,Ue,t)}function $c(t,i,o){if(i=Ls(t,i,Xc)[0],t=Uo(Wt)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=xl(i)}catch(T){throw T===hl?Ro:T}else u=i;i=Xe();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(ve.flags|=2048,Ei(9,Lo(),Yh.bind(null,f,o),null)),[u,m,t]}function Yh(t,i){t.action=i}function Wc(t){var i=Xe(),o=Ue;if(o!==null)return $c(i,o,t);Xe(),i=i.memoizedState,o=Xe();var u=o.queue.dispatch;return o.memoizedState=t,[i,u,!1]}function Ei(t,i,o,u){return t={tag:t,create:o,deps:u,inst:i,next:null},i=ve.updateQueue,i===null&&(i=Is(),ve.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t),t}function Lo(){return{destroy:void 0,resource:void 0}}function jc(){return Xe().memoizedState}function Po(t,i,o,u){var f=dt();u=u===void 0?null:u,ve.flags|=t,f.memoizedState=Ei(1|i,Lo(),o,u)}function El(t,i,o,u){var f=Xe();u=u===void 0?null:u;var m=f.memoizedState.inst;Ue!==null&&u!==null&&Rs(u,Ue.memoizedState.deps)?f.memoizedState=Ei(i,m,o,u):(ve.flags|=t,f.memoizedState=Ei(1|i,m,o,u))}function ef(t,i){Po(8390656,8,t,i)}function tf(t,i){El(2048,8,t,i)}function nf(t,i){return El(4,2,t,i)}function lf(t,i){return El(4,4,t,i)}function of(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function af(t,i,o){o=o!=null?o.concat([t]):null,El(4,4,of.bind(null,i,t),o)}function Vs(){}function sf(t,i){var o=Xe();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Rs(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function rf(t,i){var o=Xe();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Rs(i,u[1]))return u[0];if(u=t(),Jn){rn(!0);try{t()}finally{rn(!1)}}return o.memoizedState=[u,i],u}function ks(t,i,o){return o===void 0||(gn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=o,t=fd(),ve.lanes|=t,xn|=t,o)}function uf(t,i,o,u){return yt(o,i)?o:Ci.current!==null?(t=ks(t,o,u),yt(t,i)||(We=!0),t):(gn&42)===0?(We=!0,t.memoizedState=o):(t=fd(),ve.lanes|=t,xn|=t,i)}function cf(t,i,o,u,f){var m=Q.p;Q.p=m!==0&&8>m?m:8;var T=B.T,x={};B.T=x,zs(t,!1,i,o);try{var M=f(),U=B.S;if(U!==null&&U(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var z=Bh(M,u);_l(t,i,z,xt(t))}else _l(t,i,u,xt(t))}catch(Y){_l(t,i,{then:function(){},status:"rejected",reason:Y},xt())}finally{Q.p=m,B.T=T}}function Fh(){}function Bs(t,i,o,u){if(t.tag!==5)throw Error(a(476));var f=ff(t).queue;cf(t,f,i,ie,o===null?Fh:function(){return df(t),o(u)})}function ff(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:ie},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function df(t){var i=ff(t).next.queue;_l(t,i,{},xt())}function Hs(){return ot(zl)}function mf(){return Xe().memoizedState}function pf(){return Xe().memoizedState}function Jh(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=xt();t=mn(o);var u=pn(i,t,o);u!==null&&(Et(u,i,o),vl(u,i,o)),i={cache:ys()},t.payload=i;return}i=i.return}}function Qh(t,i,o){var u=xt();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},qo(t)?hf(i,o):(o=ss(t,i,o,u),o!==null&&(Et(o,t,u),yf(o,i,u)))}function gf(t,i,o){var u=xt();_l(t,i,o,u)}function _l(t,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(qo(t))hf(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,x=m(T,o);if(f.hasEagerState=!0,f.eagerState=x,yt(x,T))return To(t,i,f,0),Ve===null&&vo(),!1}catch{}finally{}if(o=ss(t,i,f,u),o!==null)return Et(o,t,u),yf(o,i,u),!0}return!1}function zs(t,i,o,u){if(u={lane:2,revertLane:Cr(),action:u,hasEagerState:!1,eagerState:null,next:null},qo(t)){if(i)throw Error(a(479))}else i=ss(t,o,u,2),i!==null&&Et(i,t,2)}function qo(t){var i=t.alternate;return t===ve||i!==null&&i===ve}function hf(t,i){Si=wo=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function yf(t,i,o){if((o&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,_u(t,o)}}var Go={readContext:ot,use:Io,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},vf={readContext:ot,use:Io,useCallback:function(t,i){return dt().memoizedState=[t,i===void 0?null:i],t},useContext:ot,useEffect:ef,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,Po(4194308,4,of.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Po(4194308,4,t,i)},useInsertionEffect:function(t,i){Po(4,2,t,i)},useMemo:function(t,i){var o=dt();i=i===void 0?null:i;var u=t();if(Jn){rn(!0);try{t()}finally{rn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(t,i,o){var u=dt();if(o!==void 0){var f=o(i);if(Jn){rn(!0);try{o(i)}finally{rn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=Qh.bind(null,ve,t),[u.memoizedState,t]},useRef:function(t){var i=dt();return t={current:t},i.memoizedState=t},useState:function(t){t=qs(t);var i=t.queue,o=gf.bind(null,ve,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Vs,useDeferredValue:function(t,i){var o=dt();return ks(o,t,i)},useTransition:function(){var t=qs(!1);return t=cf.bind(null,ve,t.queue,!0,!1),dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var u=ve,f=dt();if(Re){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ve===null)throw Error(a(349));(_e&124)!==0||Vc(u,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,ef(Bc.bind(null,u,m,t),[t]),u.flags|=2048,Ei(9,Lo(),kc.bind(null,u,m,o,i),null),o},useId:function(){var t=dt(),i=Ve.identifierPrefix;if(Re){var o=Kt,u=Xt;o=(u&~(1<<32-ht(u)-1)).toString(32)+o,i=""+i+"R"+o,o=Do++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=Hh++,i=""+i+"r"+o.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Hs,useFormState:Kc,useActionState:Kc,useOptimistic:function(t){var i=dt();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=zs.bind(null,ve,!0,o),o.dispatch=i,[t,i]},useMemoCache:Us,useCacheRefresh:function(){return dt().memoizedState=Jh.bind(null,ve)}},Tf={readContext:ot,use:Io,useCallback:sf,useContext:ot,useEffect:tf,useImperativeHandle:af,useInsertionEffect:nf,useLayoutEffect:lf,useMemo:rf,useReducer:Uo,useRef:jc,useState:function(){return Uo(Wt)},useDebugValue:Vs,useDeferredValue:function(t,i){var o=Xe();return uf(o,Ue.memoizedState,t,i)},useTransition:function(){var t=Uo(Wt)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:xl(t),i]},useSyncExternalStore:Gc,useId:mf,useHostTransitionStatus:Hs,useFormState:Zc,useActionState:Zc,useOptimistic:function(t,i){var o=Xe();return Oc(o,Ue,t,i)},useMemoCache:Us,useCacheRefresh:pf},Xh={readContext:ot,use:Io,useCallback:sf,useContext:ot,useEffect:tf,useImperativeHandle:af,useInsertionEffect:nf,useLayoutEffect:lf,useMemo:rf,useReducer:Ps,useRef:jc,useState:function(){return Ps(Wt)},useDebugValue:Vs,useDeferredValue:function(t,i){var o=Xe();return Ue===null?ks(o,t,i):uf(o,Ue.memoizedState,t,i)},useTransition:function(){var t=Ps(Wt)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:xl(t),i]},useSyncExternalStore:Gc,useId:mf,useHostTransitionStatus:Hs,useFormState:Wc,useActionState:Wc,useOptimistic:function(t,i){var o=Xe();return Ue!==null?Oc(o,Ue,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Us,useCacheRefresh:pf},_i=null,Al=0;function Vo(t){var i=Al;return Al+=1,_i===null&&(_i=[]),Nc(_i,t,i)}function Ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ko(t,i){throw i.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Cf(t){var i=t._init;return i(t._payload)}function Sf(t){function i(N,R){if(t){var I=N.deletions;I===null?(N.deletions=[R],N.flags|=16):I.push(R)}}function o(N,R){if(!t)return null;for(;R!==null;)i(N,R),R=R.sibling;return null}function u(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function f(N,R){return N=Qt(N,R),N.index=0,N.sibling=null,N}function m(N,R,I){return N.index=I,t?(I=N.alternate,I!==null?(I=I.index,I<R?(N.flags|=67108866,R):I):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function x(N,R,I,O){return R===null||R.tag!==6?(R=us(I,N.mode,O),R.return=N,R):(R=f(R,I),R.return=N,R)}function M(N,R,I,O){var te=I.type;return te===H?z(N,R,I.props.children,O,I.key):R!==null&&(R.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ee&&Cf(te)===R.type)?(R=f(R,I.props),Ml(R,I),R.return=N,R):(R=So(I.type,I.key,I.props,null,N.mode,O),Ml(R,I),R.return=N,R)}function U(N,R,I,O){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=cs(I,N.mode,O),R.return=N,R):(R=f(R,I.children||[]),R.return=N,R)}function z(N,R,I,O,te){return R===null||R.tag!==7?(R=Vn(I,N.mode,O,te),R.return=N,R):(R=f(R,I),R.return=N,R)}function Y(N,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=us(""+R,N.mode,I),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return I=So(R.type,R.key,R.props,null,N.mode,I),Ml(I,R),I.return=N,I;case b:return R=cs(R,N.mode,I),R.return=N,R;case Ee:var O=R._init;return R=O(R._payload),Y(N,R,I)}if(he(R)||re(R))return R=Vn(R,N.mode,I,null),R.return=N,R;if(typeof R.then=="function")return Y(N,Vo(R),I);if(R.$$typeof===W)return Y(N,Ao(N,R),I);ko(N,R)}return null}function P(N,R,I,O){var te=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return te!==null?null:x(N,R,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return I.key===te?M(N,R,I,O):null;case b:return I.key===te?U(N,R,I,O):null;case Ee:return te=I._init,I=te(I._payload),P(N,R,I,O)}if(he(I)||re(I))return te!==null?null:z(N,R,I,O,null);if(typeof I.then=="function")return P(N,R,Vo(I),O);if(I.$$typeof===W)return P(N,R,Ao(N,I),O);ko(N,I)}return null}function G(N,R,I,O,te){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return N=N.get(I)||null,x(R,N,""+O,te);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _:return N=N.get(O.key===null?I:O.key)||null,M(R,N,O,te);case b:return N=N.get(O.key===null?I:O.key)||null,U(R,N,O,te);case Ee:var Te=O._init;return O=Te(O._payload),G(N,R,I,O,te)}if(he(O)||re(O))return N=N.get(I)||null,z(R,N,O,te,null);if(typeof O.then=="function")return G(N,R,I,Vo(O),te);if(O.$$typeof===W)return G(N,R,I,Ao(R,O),te);ko(R,O)}return null}function ge(N,R,I,O){for(var te=null,Te=null,se=R,me=R=0,et=null;se!==null&&me<I.length;me++){se.index>me?(et=se,se=null):et=se.sibling;var Me=P(N,se,I[me],O);if(Me===null){se===null&&(se=et);break}t&&se&&Me.alternate===null&&i(N,se),R=m(Me,R,me),Te===null?te=Me:Te.sibling=Me,Te=Me,se=et}if(me===I.length)return o(N,se),Re&&Bn(N,me),te;if(se===null){for(;me<I.length;me++)se=Y(N,I[me],O),se!==null&&(R=m(se,R,me),Te===null?te=se:Te.sibling=se,Te=se);return Re&&Bn(N,me),te}for(se=u(se);me<I.length;me++)et=G(se,N,me,I[me],O),et!==null&&(t&&et.alternate!==null&&se.delete(et.key===null?me:et.key),R=m(et,R,me),Te===null?te=et:Te.sibling=et,Te=et);return t&&se.forEach(function(Dn){return i(N,Dn)}),Re&&Bn(N,me),te}function de(N,R,I,O){if(I==null)throw Error(a(151));for(var te=null,Te=null,se=R,me=R=0,et=null,Me=I.next();se!==null&&!Me.done;me++,Me=I.next()){se.index>me?(et=se,se=null):et=se.sibling;var Dn=P(N,se,Me.value,O);if(Dn===null){se===null&&(se=et);break}t&&se&&Dn.alternate===null&&i(N,se),R=m(Dn,R,me),Te===null?te=Dn:Te.sibling=Dn,Te=Dn,se=et}if(Me.done)return o(N,se),Re&&Bn(N,me),te;if(se===null){for(;!Me.done;me++,Me=I.next())Me=Y(N,Me.value,O),Me!==null&&(R=m(Me,R,me),Te===null?te=Me:Te.sibling=Me,Te=Me);return Re&&Bn(N,me),te}for(se=u(se);!Me.done;me++,Me=I.next())Me=G(se,N,me,Me.value,O),Me!==null&&(t&&Me.alternate!==null&&se.delete(Me.key===null?me:Me.key),R=m(Me,R,me),Te===null?te=Me:Te.sibling=Me,Te=Me);return t&&se.forEach(function(Ky){return i(N,Ky)}),Re&&Bn(N,me),te}function Pe(N,R,I,O){if(typeof I=="object"&&I!==null&&I.type===H&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _:e:{for(var te=I.key;R!==null;){if(R.key===te){if(te=I.type,te===H){if(R.tag===7){o(N,R.sibling),O=f(R,I.props.children),O.return=N,N=O;break e}}else if(R.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ee&&Cf(te)===R.type){o(N,R.sibling),O=f(R,I.props),Ml(O,I),O.return=N,N=O;break e}o(N,R);break}else i(N,R);R=R.sibling}I.type===H?(O=Vn(I.props.children,N.mode,O,I.key),O.return=N,N=O):(O=So(I.type,I.key,I.props,null,N.mode,O),Ml(O,I),O.return=N,N=O)}return T(N);case b:e:{for(te=I.key;R!==null;){if(R.key===te)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){o(N,R.sibling),O=f(R,I.children||[]),O.return=N,N=O;break e}else{o(N,R);break}else i(N,R);R=R.sibling}O=cs(I,N.mode,O),O.return=N,N=O}return T(N);case Ee:return te=I._init,I=te(I._payload),Pe(N,R,I,O)}if(he(I))return ge(N,R,I,O);if(re(I)){if(te=re(I),typeof te!="function")throw Error(a(150));return I=te.call(I),de(N,R,I,O)}if(typeof I.then=="function")return Pe(N,R,Vo(I),O);if(I.$$typeof===W)return Pe(N,R,Ao(N,I),O);ko(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(o(N,R.sibling),O=f(R,I),O.return=N,N=O):(o(N,R),O=us(I,N.mode,O),O.return=N,N=O),T(N)):o(N,R)}return function(N,R,I,O){try{Al=0;var te=Pe(N,R,I,O);return _i=null,te}catch(se){if(se===hl||se===Ro)throw se;var Te=vt(29,se,null,N.mode);return Te.lanes=O,Te.return=N,Te}finally{}}}var Ai=Sf(!0),xf=Sf(!1),Dt=A(null),Ht=null;function hn(t){var i=t.alternate;D(Ze,Ze.current&1),D(Dt,t),Ht===null&&(i===null||Ci.current!==null||i.memoizedState!==null)&&(Ht=t)}function Ef(t){if(t.tag===22){if(D(Ze,Ze.current),D(Dt,t),Ht===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ht=t)}}else yn()}function yn(){D(Ze,Ze.current),D(Dt,Dt.current)}function jt(t){w(Dt),Ht===t&&(Ht=null),w(Ze)}var Ze=A(0);function Bo(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ir(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Os(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Ys={enqueueSetState:function(t,i,o){t=t._reactInternals;var u=xt(),f=mn(u);f.payload=i,o!=null&&(f.callback=o),i=pn(t,f,u),i!==null&&(Et(i,t,u),vl(i,t,u))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=xt(),f=mn(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=pn(t,f,u),i!==null&&(Et(i,t,u),vl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=xt(),u=mn(o);u.tag=2,i!=null&&(u.callback=i),i=pn(t,u,o),i!==null&&(Et(i,t,o),vl(i,t,o))}};function _f(t,i,o,u,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,T):i.prototype&&i.prototype.isPureReactComponent?!rl(o,u)||!rl(f,m):!0}function Af(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&Ys.enqueueReplaceState(i,i.state,null)}function Qn(t,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(t=t.defaultProps){o===i&&(o=v({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}var Ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Mf(t){Ho(t)}function Rf(t){console.error(t)}function bf(t){Ho(t)}function zo(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Nf(t,i,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fs(t,i,o){return o=mn(o),o.tag=3,o.payload={element:null},o.callback=function(){zo(t,i)},o}function wf(t){return t=mn(t),t.tag=3,t}function Df(t,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;t.payload=function(){return f(m)},t.callback=function(){Nf(i,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Nf(i,o,u),typeof f!="function"&&(En===null?En=new Set([this]):En.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function Kh(t,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&ml(i,o,f,!0),o=Dt.current,o!==null){switch(o.tag){case 13:return Ht===null?gr():o.alternate===null&&Ye===0&&(Ye=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Cs?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),yr(t,u,f)),!1;case 22:return o.flags|=65536,u===Cs?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),yr(t,u,f)),!1}throw Error(a(435,o.tag))}return yr(t,u,f),gr(),!1}if(Re)return i=Dt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==ms&&(t=Error(a(422),{cause:u}),dl(Rt(t,o)))):(u!==ms&&(i=Error(a(423),{cause:u}),dl(Rt(i,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Rt(u,o),f=Fs(t.stateNode,u,f),Es(t,f),Ye!==4&&(Ye=2)),!1;var m=Error(a(520),{cause:u});if(m=Rt(m,o),Ul===null?Ul=[m]:Ul.push(m),Ye!==4&&(Ye=2),i===null)return!0;u=Rt(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=Fs(o.stateNode,u,t),Es(o,t),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(En===null||!En.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=wf(f),Df(f,t,o,u),Es(o,f),!1}o=o.return}while(o!==null);return!1}var If=Error(a(461)),We=!1;function tt(t,i,o,u){i.child=t===null?xf(i,null,o,u):Ai(i,t.child,o,u)}function Uf(t,i,o,u,f){o=o.render;var m=i.ref;if("ref"in u){var T={};for(var x in u)x!=="ref"&&(T[x]=u[x])}else T=u;return Yn(i),u=bs(t,i,o,T,m,f),x=Ns(),t!==null&&!We?(ws(t,i,f),en(t,i,f)):(Re&&x&&fs(i),i.flags|=1,tt(t,i,u,f),i.child)}function Lf(t,i,o,u,f){if(t===null){var m=o.type;return typeof m=="function"&&!rs(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Pf(t,i,m,u,f)):(t=So(o.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!js(t,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:rl,o(T,u)&&t.ref===i.ref)return en(t,i,f)}return i.flags|=1,t=Qt(m,u),t.ref=i.ref,t.return=i,i.child=t}function Pf(t,i,o,u,f){if(t!==null){var m=t.memoizedProps;if(rl(m,u)&&t.ref===i.ref)if(We=!1,i.pendingProps=u=m,js(t,f))(t.flags&131072)!==0&&(We=!0);else return i.lanes=t.lanes,en(t,i,f)}return Js(t,i,o,u,f)}function qf(t,i,o){var u=i.pendingProps,f=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,t!==null){for(f=i.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return Gf(t,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mo(i,m!==null?m.cachePool:null),m!==null?Lc(i,m):As(),Ef(i);else return i.lanes=i.childLanes=536870912,Gf(t,i,m!==null?m.baseLanes|o:o,o)}else m!==null?(Mo(i,m.cachePool),Lc(i,m),yn(),i.memoizedState=null):(t!==null&&Mo(i,null),As(),yn());return tt(t,i,f,o),i.child}function Gf(t,i,o,u){var f=Ts();return f=f===null?null:{parent:Ke._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},t!==null&&Mo(i,null),As(),Ef(i),t!==null&&ml(t,i,u,!0),null}function Oo(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function Js(t,i,o,u,f){return Yn(i),o=bs(t,i,o,u,void 0,f),u=Ns(),t!==null&&!We?(ws(t,i,f),en(t,i,f)):(Re&&u&&fs(i),i.flags|=1,tt(t,i,o,f),i.child)}function Vf(t,i,o,u,f,m){return Yn(i),i.updateQueue=null,o=qc(i,u,o,f),Pc(t),u=Ns(),t!==null&&!We?(ws(t,i,m),en(t,i,m)):(Re&&u&&fs(i),i.flags|=1,tt(t,i,o,m),i.child)}function kf(t,i,o,u,f){if(Yn(i),i.stateNode===null){var m=gi,T=o.contextType;typeof T=="object"&&T!==null&&(m=ot(T)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ys,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Ss(i),T=o.contextType,m.context=typeof T=="object"&&T!==null?ot(T):gi,m.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Os(i,o,T,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Ys.enqueueReplaceState(m,m.state,null),Cl(i,u,m,f),Tl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){m=i.stateNode;var x=i.memoizedProps,M=Qn(o,x);m.props=M;var U=m.context,z=o.contextType;T=gi,typeof z=="object"&&z!==null&&(T=ot(z));var Y=o.getDerivedStateFromProps;z=typeof Y=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||U!==T)&&Af(i,m,u,T),dn=!1;var P=i.memoizedState;m.state=P,Cl(i,u,m,f),Tl(),U=i.memoizedState,x||P!==U||dn?(typeof Y=="function"&&(Os(i,o,Y,u),U=i.memoizedState),(M=dn||_f(i,o,M,u,P,U,T))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=U),m.props=u,m.state=U,m.context=T,u=M):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,xs(t,i),T=i.memoizedProps,z=Qn(o,T),m.props=z,Y=i.pendingProps,P=m.context,U=o.contextType,M=gi,typeof U=="object"&&U!==null&&(M=ot(U)),x=o.getDerivedStateFromProps,(U=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Y||P!==M)&&Af(i,m,u,M),dn=!1,P=i.memoizedState,m.state=P,Cl(i,u,m,f),Tl();var G=i.memoizedState;T!==Y||P!==G||dn||t!==null&&t.dependencies!==null&&_o(t.dependencies)?(typeof x=="function"&&(Os(i,o,x,u),G=i.memoizedState),(z=dn||_f(i,o,z,u,P,G,M)||t!==null&&t.dependencies!==null&&_o(t.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,G,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,G,M)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=G),m.props=u,m.state=G,m.context=M,u=z):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),u=!1)}return m=u,Oo(t,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&u?(i.child=Ai(i,t.child,null,f),i.child=Ai(i,null,o,f)):tt(t,i,o,f),i.memoizedState=m.state,t=i.child):t=en(t,i,f),t}function Bf(t,i,o,u){return fl(),i.flags|=256,tt(t,i,o,u),i.child}var Qs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xs(t){return{baseLanes:t,cachePool:Mc()}}function Ks(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=It),t}function Hf(t,i,o){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(Ze.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Re){if(f?hn(i):yn(),Re){var x=Oe,M;if(M=x){e:{for(M=x,x=Bt;M.nodeType!==8;){if(!x){x=null;break e}if(M=Gt(M.nextSibling),M===null){x=null;break e}}x=M}x!==null?(i.memoizedState={dehydrated:x,treeContext:kn!==null?{id:Xt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},M=vt(18,null,null,0),M.stateNode=x,M.return=i,i.child=M,ut=i,Oe=null,M=!0):M=!1}M||zn(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Ir(x)?i.lanes=32:i.lanes=536870912,null;jt(i)}return x=u.children,u=u.fallback,f?(yn(),f=i.mode,x=Yo({mode:"hidden",children:x},f),u=Vn(u,f,o,null),x.return=i,u.return=i,x.sibling=u,i.child=x,f=i.child,f.memoizedState=Xs(o),f.childLanes=Ks(t,T,o),i.memoizedState=Qs,u):(hn(i),Zs(i,x))}if(M=t.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(m)i.flags&256?(hn(i),i.flags&=-257,i=$s(t,i,o)):i.memoizedState!==null?(yn(),i.child=t.child,i.flags|=128,i=null):(yn(),f=u.fallback,x=i.mode,u=Yo({mode:"visible",children:u.children},x),f=Vn(f,x,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Ai(i,t.child,null,o),u=i.child,u.memoizedState=Xs(o),u.childLanes=Ks(t,T,o),i.memoizedState=Qs,i=f);else if(hn(i),Ir(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var U=T.dgst;T=U,u=Error(a(419)),u.stack="",u.digest=T,dl({value:u,source:null,stack:null}),i=$s(t,i,o)}else if(We||ml(t,i,o,!1),T=(o&t.childLanes)!==0,We||T){if(T=Ve,T!==null&&(u=o&-o,u=(u&42)!==0?1:Ua(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,pi(t,u),Et(T,t,u),If;x.data==="$?"||gr(),i=$s(t,i,o)}else x.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Oe=Gt(x.nextSibling),ut=i,Re=!0,Hn=null,Bt=!1,t!==null&&(Nt[wt++]=Xt,Nt[wt++]=Kt,Nt[wt++]=kn,Xt=t.id,Kt=t.overflow,kn=i),i=Zs(i,u.children),i.flags|=4096);return i}return f?(yn(),f=u.fallback,x=i.mode,M=t.child,U=M.sibling,u=Qt(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,U!==null?f=Qt(U,f):(f=Vn(f,x,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,x=t.child.memoizedState,x===null?x=Xs(o):(M=x.cachePool,M!==null?(U=Ke._currentValue,M=M.parent!==U?{parent:U,pool:U}:M):M=Mc(),x={baseLanes:x.baseLanes|o,cachePool:M}),f.memoizedState=x,f.childLanes=Ks(t,T,o),i.memoizedState=Qs,u):(hn(i),o=t.child,t=o.sibling,o=Qt(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=o,i.memoizedState=null,o)}function Zs(t,i){return i=Yo({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Yo(t,i){return t=vt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $s(t,i,o){return Ai(i,t.child,null,o),t=Zs(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function zf(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),gs(t.return,i,o)}function Ws(t,i,o,u,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function Of(t,i,o){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(tt(t,i,u.children,o),u=Ze.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zf(t,o,i);else if(t.tag===19)zf(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(D(Ze,u),f){case"forwards":for(o=i.child,f=null;o!==null;)t=o.alternate,t!==null&&Bo(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Ws(i,!1,f,o,m);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Bo(t)===null){i.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Ws(i,!0,o,null,m);break;case"together":Ws(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function en(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),xn|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(ml(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=Qt(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Qt(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function js(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_o(t)))}function Zh(t,i,o){switch(i.tag){case 3:pe(i,i.stateNode.containerInfo),fn(i,Ke,t.memoizedState.cache),fl();break;case 27:case 5:qe(i);break;case 4:pe(i,i.stateNode.containerInfo);break;case 10:fn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(hn(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Hf(t,i,o):(hn(i),t=en(t,i,o),t!==null?t.sibling:null);hn(i);break;case 19:var f=(t.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(ml(t,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Of(t,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),D(Ze,Ze.current),u)break;return null;case 22:case 23:return i.lanes=0,qf(t,i,o);case 24:fn(i,Ke,t.memoizedState.cache)}return en(t,i,o)}function Yf(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)We=!0;else{if(!js(t,o)&&(i.flags&128)===0)return We=!1,Zh(t,i,o);We=(t.flags&131072)!==0}else We=!1,Re&&(i.flags&1048576)!==0&&Tc(i,Eo,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")rs(u)?(t=Qn(u,t),i.tag=1,i=kf(null,i,u,t,o)):(i.tag=0,i=Js(null,i,u,t,o));else{if(u!=null){if(f=u.$$typeof,f===$){i.tag=11,i=Uf(null,i,u,t,o);break e}else if(f===ee){i.tag=14,i=Lf(null,i,u,t,o);break e}}throw i=be(u)||u,Error(a(306,i,""))}}return i;case 0:return Js(t,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Qn(u,i.pendingProps),kf(t,i,u,f,o);case 3:e:{if(pe(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,xs(t,i),Cl(i,u,null,o);var T=i.memoizedState;if(u=T.cache,fn(i,Ke,u),u!==m.cache&&hs(i,[Ke],o,!0),Tl(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Bf(t,i,u,o);break e}else if(u!==f){f=Rt(Error(a(424)),i),dl(f),i=Bf(t,i,u,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=Gt(t.firstChild),ut=i,Re=!0,Hn=null,Bt=!0,o=xf(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fl(),u===f){i=en(t,i,o);break e}tt(t,i,u,o)}i=i.child}return i;case 26:return Oo(t,i),t===null?(o=Xd(i.type,null,i.pendingProps,null))?i.memoizedState=o:Re||(o=i.type,t=i.pendingProps,u=la(q.current).createElement(o),u[lt]=i,u[ct]=t,it(u,o,t),$e(u),i.stateNode=u):i.memoizedState=Xd(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return qe(i),t===null&&Re&&(u=i.stateNode=Fd(i.type,i.pendingProps,q.current),ut=i,Bt=!0,f=Oe,Mn(i.type)?(Ur=f,Oe=Gt(u.firstChild)):Oe=f),tt(t,i,i.pendingProps.children,o),Oo(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Re&&((f=u=Oe)&&(u=_y(u,i.type,i.pendingProps,Bt),u!==null?(i.stateNode=u,ut=i,Oe=Gt(u.firstChild),Bt=!1,f=!0):f=!1),f||zn(i)),qe(i),f=i.type,m=i.pendingProps,T=t!==null?t.memoizedProps:null,u=m.children,Nr(f,m)?u=null:T!==null&&Nr(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=bs(t,i,zh,null,null,o),zl._currentValue=f),Oo(t,i),tt(t,i,u,o),i.child;case 6:return t===null&&Re&&((t=o=Oe)&&(o=Ay(o,i.pendingProps,Bt),o!==null?(i.stateNode=o,ut=i,Oe=null,t=!0):t=!1),t||zn(i)),null;case 13:return Hf(t,i,o);case 4:return pe(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ai(i,null,u,o):tt(t,i,u,o),i.child;case 11:return Uf(t,i,i.type,i.pendingProps,o);case 7:return tt(t,i,i.pendingProps,o),i.child;case 8:return tt(t,i,i.pendingProps.children,o),i.child;case 12:return tt(t,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,fn(i,i.type,u.value),tt(t,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Yn(i),f=ot(f),u=u(f),i.flags|=1,tt(t,i,u,o),i.child;case 14:return Lf(t,i,i.type,i.pendingProps,o);case 15:return Pf(t,i,i.type,i.pendingProps,o);case 19:return Of(t,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},t===null?(o=Yo(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Qt(t.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return qf(t,i,o);case 24:return Yn(i),u=ot(Ke),t===null?(f=Ts(),f===null&&(f=Ve,m=ys(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:u,cache:f},Ss(i),fn(i,Ke,f)):((t.lanes&o)!==0&&(xs(t,i),Cl(i,null,null,o),Tl()),f=t.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),fn(i,Ke,u)):(u=m.cache,fn(i,Ke,u),u!==f.cache&&hs(i,[Ke],o,!0))),tt(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function tn(t){t.flags|=4}function Ff(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jd(i)){if(i=Dt.current,i!==null&&((_e&4194048)===_e?Ht!==null:(_e&62914560)!==_e&&(_e&536870912)===0||i!==Ht))throw yl=Cs,Rc;t.flags|=8192}}function Fo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xu():536870912,t.lanes|=i,Ni|=i)}function Rl(t,i){if(!Re)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ze(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function $h(t,i,o){var u=i.pendingProps;switch(ds(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(i),null;case 1:return ze(i),null;case 3:return o=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),$t(Ke),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(cl(i)?tn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xc())),ze(i),null;case 26:return o=i.memoizedState,t===null?(tn(i),o!==null?(ze(i),Ff(i,o)):(ze(i),i.flags&=-16777217)):o?o!==t.memoizedState?(tn(i),ze(i),Ff(i,o)):(ze(i),i.flags&=-16777217):(t.memoizedProps!==u&&tn(i),ze(i),i.flags&=-16777217),null;case 27:He(i),o=q.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&tn(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return ze(i),null}t=L.current,cl(i)?Cc(i):(t=Fd(f,u,o),i.stateNode=t,tn(i))}return ze(i),null;case 5:if(He(i),o=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&tn(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return ze(i),null}if(t=L.current,cl(i))Cc(i);else{switch(f=la(q.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}t[lt]=i,t[ct]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(it(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&tn(i)}}return ze(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&tn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=q.current,cl(i)){if(t=i.stateNode,o=i.memoizedProps,u=null,f=ut,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[lt]=i,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Vd(t.nodeValue,o)),t||zn(i)}else t=la(t).createTextNode(u),t[lt]=i,i.stateNode=t}return ze(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=cl(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[lt]=i}else fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ze(i),f=!1}else f=xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(jt(i),i):(jt(i),null)}if(jt(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==t&&o&&(i.child.flags|=8192),Fo(i,i.updateQueue),ze(i),null;case 4:return Ae(),t===null&&_r(i.stateNode.containerInfo),ze(i),null;case 10:return $t(i.type),ze(i),null;case 19:if(w(Ze),f=i.memoizedState,f===null)return ze(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)Rl(f,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Bo(t),m!==null){for(i.flags|=128,Rl(f,!1),t=m.updateQueue,i.updateQueue=t,Fo(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)vc(o,t),o=o.sibling;return D(Ze,Ze.current&1|2),i.child}t=t.sibling}f.tail!==null&&kt()>Xo&&(i.flags|=128,u=!0,Rl(f,!1),i.lanes=4194304)}else{if(!u)if(t=Bo(m),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Fo(i,t),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Re)return ze(i),null}else 2*kt()-f.renderingStartTime>Xo&&o!==536870912&&(i.flags|=128,u=!0,Rl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(t=f.last,t!==null?t.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=kt(),i.sibling=null,t=Ze.current,D(Ze,u?t&1|2:t&1),i):(ze(i),null);case 22:case 23:return jt(i),Ms(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(ze(i),i.subtreeFlags&6&&(i.flags|=8192)):ze(i),o=i.updateQueue,o!==null&&Fo(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),t!==null&&w(Fn),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),$t(Ke),ze(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Wh(t,i){switch(ds(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $t(Ke),Ae(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return He(i),null;case 13:if(jt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));fl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return w(Ze),null;case 4:return Ae(),null;case 10:return $t(i.type),null;case 22:case 23:return jt(i),Ms(),t!==null&&w(Fn),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $t(Ke),null;case 25:return null;default:return null}}function Jf(t,i){switch(ds(i),i.tag){case 3:$t(Ke),Ae();break;case 26:case 27:case 5:He(i);break;case 4:Ae();break;case 13:jt(i);break;case 19:w(Ze);break;case 10:$t(i.type);break;case 22:case 23:jt(i),Ms(),t!==null&&w(Fn);break;case 24:$t(Ke)}}function bl(t,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(x){Ge(i,i.return,x)}}function vn(t,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&t)===t){var T=u.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,f=i;var M=o,U=x;try{U()}catch(z){Ge(f,M,z)}}}u=u.next}while(u!==m)}}catch(z){Ge(i,i.return,z)}}function Qf(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{Uc(i,o)}catch(u){Ge(t,t.return,u)}}}function Xf(t,i,o){o.props=Qn(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Ge(t,i,u)}}function Nl(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(f){Ge(t,i,f)}}function zt(t,i){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Ge(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ge(t,i,f)}else o.current=null}function Kf(t){var i=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Ge(t,t.return,f)}}function er(t,i,o){try{var u=t.stateNode;Ty(u,t.type,o,i),u[ct]=i}catch(f){Ge(t,t.return,f)}}function Zf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mn(t.type)||t.tag===4}function tr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nr(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ia));else if(u!==4&&(u===27&&Mn(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(nr(t,i,o),t=t.sibling;t!==null;)nr(t,i,o),t=t.sibling}function Jo(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(u===27&&Mn(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Jo(t,i,o),t=t.sibling;t!==null;)Jo(t,i,o),t=t.sibling}function $f(t){var i=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);it(i,u,o),i[lt]=t,i[ct]=o}catch(m){Ge(t,t.return,m)}}var nn=!1,Je=!1,ir=!1,Wf=typeof WeakSet=="function"?WeakSet:Set,je=null;function jh(t,i){if(t=t.containerInfo,Rr=ca,t=rc(t),ts(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,x=-1,M=-1,U=0,z=0,Y=t,P=null;t:for(;;){for(var G;Y!==o||f!==0&&Y.nodeType!==3||(x=T+f),Y!==m||u!==0&&Y.nodeType!==3||(M=T+u),Y.nodeType===3&&(T+=Y.nodeValue.length),(G=Y.firstChild)!==null;)P=Y,Y=G;for(;;){if(Y===t)break t;if(P===o&&++U===f&&(x=T),P===m&&++z===u&&(M=T),(G=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=G}o=x===-1||M===-1?null:{start:x,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(br={focusedElem:t,selectionRange:o},ca=!1,je=i;je!==null;)if(i=je,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,je=t;else for(;je!==null;){switch(i=je,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ge=Qn(o.type,f,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(ge,m),u.__reactInternalSnapshotBeforeUpdate=t}catch(de){Ge(o,o.return,de)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)Dr(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,je=t;break}je=i.return}}function jf(t,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Tn(t,o),u&4&&bl(5,o);break;case 1:if(Tn(t,o),u&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(T){Ge(o,o.return,T)}else{var f=Qn(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ge(o,o.return,T)}}u&64&&Qf(o),u&512&&Nl(o,o.return);break;case 3:if(Tn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Uc(t,i)}catch(T){Ge(o,o.return,T)}}break;case 27:i===null&&u&4&&$f(o);case 26:case 5:Tn(t,o),i===null&&u&4&&Kf(o),u&512&&Nl(o,o.return);break;case 12:Tn(t,o);break;case 13:Tn(t,o),u&4&&nd(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=ry.bind(null,o),My(t,o))));break;case 22:if(u=o.memoizedState!==null||nn,!u){i=i!==null&&i.memoizedState!==null||Je,f=nn;var m=Je;nn=u,(Je=i)&&!m?Cn(t,o,(o.subtreeFlags&8772)!==0):Tn(t,o),nn=f,Je=m}break;case 30:break;default:Tn(t,o)}}function ed(t){var i=t.alternate;i!==null&&(t.alternate=null,ed(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&qa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,mt=!1;function ln(t,i,o){for(o=o.child;o!==null;)td(t,i,o),o=o.sibling}function td(t,i,o){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Zi,o)}catch{}switch(o.tag){case 26:Je||zt(o,i),ln(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Je||zt(o,i);var u=Be,f=mt;Mn(o.type)&&(Be=o.stateNode,mt=!1),ln(t,i,o),Vl(o.stateNode),Be=u,mt=f;break;case 5:Je||zt(o,i);case 6:if(u=Be,f=mt,Be=null,ln(t,i,o),Be=u,mt=f,Be!==null)if(mt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(o.stateNode)}catch(m){Ge(o,i,m)}else try{Be.removeChild(o.stateNode)}catch(m){Ge(o,i,m)}break;case 18:Be!==null&&(mt?(t=Be,Od(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Jl(t)):Od(Be,o.stateNode));break;case 4:u=Be,f=mt,Be=o.stateNode.containerInfo,mt=!0,ln(t,i,o),Be=u,mt=f;break;case 0:case 11:case 14:case 15:Je||vn(2,o,i),Je||vn(4,o,i),ln(t,i,o);break;case 1:Je||(zt(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Xf(o,i,u)),ln(t,i,o);break;case 21:ln(t,i,o);break;case 22:Je=(u=Je)||o.memoizedState!==null,ln(t,i,o),Je=u;break;default:ln(t,i,o)}}function nd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jl(t)}catch(o){Ge(i,i.return,o)}}function ey(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Wf),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Wf),i;default:throw Error(a(435,t.tag))}}function lr(t,i){var o=ey(t);i.forEach(function(u){var f=uy.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}function Tt(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=t,T=i,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(Mn(x.type)){Be=x.stateNode,mt=!1;break e}break;case 5:Be=x.stateNode,mt=!1;break e;case 3:case 4:Be=x.stateNode.containerInfo,mt=!0;break e}x=x.return}if(Be===null)throw Error(a(160));td(m,T,f),Be=null,mt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)id(i,t),i=i.sibling}var qt=null;function id(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tt(i,t),Ct(t),u&4&&(vn(3,t,t.return),bl(3,t),vn(5,t,t.return));break;case 1:Tt(i,t),Ct(t),u&512&&(Je||o===null||zt(o,o.return)),u&64&&nn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=qt;if(Tt(i,t),Ct(t),u&512&&(Je||o===null||zt(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ji]||m[lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),it(m,u,o),m[lt]=t,$e(m),u=m;break e;case"link":var T=$d("link","href",f).get(u+(o.href||""));if(T){for(var x=0;x<T.length;x++)if(m=T[x],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(x,1);break t}}m=f.createElement(u),it(m,u,o),f.head.appendChild(m);break;case"meta":if(T=$d("meta","content",f).get(u+(o.content||""))){for(x=0;x<T.length;x++)if(m=T[x],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(x,1);break t}}m=f.createElement(u),it(m,u,o),f.head.appendChild(m);break;default:throw Error(a(468,u))}m[lt]=t,$e(m),u=m}t.stateNode=u}else Wd(f,t.type,t.stateNode);else t.stateNode=Zd(f,u,t.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Wd(f,t.type,t.stateNode):Zd(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&er(t,t.memoizedProps,o.memoizedProps)}break;case 27:Tt(i,t),Ct(t),u&512&&(Je||o===null||zt(o,o.return)),o!==null&&u&4&&er(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Tt(i,t),Ct(t),u&512&&(Je||o===null||zt(o,o.return)),t.flags&32){f=t.stateNode;try{si(f,"")}catch(G){Ge(t,t.return,G)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,er(t,f,o!==null?o.memoizedProps:f)),u&1024&&(ir=!0);break;case 6:if(Tt(i,t),Ct(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(G){Ge(t,t.return,G)}}break;case 3:if(sa=null,f=qt,qt=oa(i.containerInfo),Tt(i,t),qt=f,Ct(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Jl(i.containerInfo)}catch(G){Ge(t,t.return,G)}ir&&(ir=!1,ld(t));break;case 4:u=qt,qt=oa(t.stateNode.containerInfo),Tt(i,t),Ct(t),qt=u;break;case 12:Tt(i,t),Ct(t);break;case 13:Tt(i,t),Ct(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(cr=kt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,lr(t,u)));break;case 22:f=t.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,U=nn,z=Je;if(nn=U||f,Je=z||M,Tt(i,t),Je=z,nn=U,Ct(t),u&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||M||nn||Je||Xn(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){M=o=i;try{if(m=M.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=M.stateNode;var Y=M.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(G){Ge(M,M.return,G)}}}else if(i.tag===6){if(o===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(G){Ge(M,M.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,lr(t,o))));break;case 19:Tt(i,t),Ct(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,lr(t,u)));break;case 30:break;case 21:break;default:Tt(i,t),Ct(t)}}function Ct(t){var i=t.flags;if(i&2){try{for(var o,u=t.return;u!==null;){if(Zf(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=tr(t);Jo(t,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(si(T,""),o.flags&=-33);var x=tr(t);Jo(t,x,T);break;case 3:case 4:var M=o.stateNode.containerInfo,U=tr(t);nr(t,U,M);break;default:throw Error(a(161))}}catch(z){Ge(t,t.return,z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ld(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ld(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Tn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jf(t,i.alternate,i),i=i.sibling}function Xn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:vn(4,i,i.return),Xn(i);break;case 1:zt(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Xf(i,i.return,o),Xn(i);break;case 27:Vl(i.stateNode);case 26:case 5:zt(i,i.return),Xn(i);break;case 22:i.memoizedState===null&&Xn(i);break;case 30:Xn(i);break;default:Xn(i)}t=t.sibling}}function Cn(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=t,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:Cn(f,m,o),bl(4,m);break;case 1:if(Cn(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Ge(u,u.return,U)}if(u=m,f=u.updateQueue,f!==null){var x=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Ic(M[f],x)}catch(U){Ge(u,u.return,U)}}o&&T&64&&Qf(m),Nl(m,m.return);break;case 27:$f(m);case 26:case 5:Cn(f,m,o),o&&u===null&&T&4&&Kf(m),Nl(m,m.return);break;case 12:Cn(f,m,o);break;case 13:Cn(f,m,o),o&&T&4&&nd(f,m);break;case 22:m.memoizedState===null&&Cn(f,m,o),Nl(m,m.return);break;case 30:break;default:Cn(f,m,o)}i=i.sibling}}function or(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&pl(o))}function ar(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function Ot(t,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)od(t,i,o,u),i=i.sibling}function od(t,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ot(t,i,o,u),f&2048&&bl(9,i);break;case 1:Ot(t,i,o,u);break;case 3:Ot(t,i,o,u),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(f&2048){Ot(t,i,o,u),t=i.stateNode;try{var m=i.memoizedProps,T=m.id,x=m.onPostCommit;typeof x=="function"&&x(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Ge(i,i.return,M)}}else Ot(t,i,o,u);break;case 13:Ot(t,i,o,u);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?Ot(t,i,o,u):wl(t,i):m._visibility&2?Ot(t,i,o,u):(m._visibility|=2,Mi(t,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&or(T,i);break;case 24:Ot(t,i,o,u),f&2048&&ar(i.alternate,i);break;default:Ot(t,i,o,u)}}function Mi(t,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,T=i,x=o,M=u,U=T.flags;switch(T.tag){case 0:case 11:case 15:Mi(m,T,x,M,f),bl(8,T);break;case 23:break;case 22:var z=T.stateNode;T.memoizedState!==null?z._visibility&2?Mi(m,T,x,M,f):wl(m,T):(z._visibility|=2,Mi(m,T,x,M,f)),f&&U&2048&&or(T.alternate,T);break;case 24:Mi(m,T,x,M,f),f&&U&2048&&ar(T.alternate,T);break;default:Mi(m,T,x,M,f)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,u=i,f=u.flags;switch(u.tag){case 22:wl(o,u),f&2048&&or(u.alternate,u);break;case 24:wl(o,u),f&2048&&ar(u.alternate,u);break;default:wl(o,u)}i=i.sibling}}var Dl=8192;function Ri(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)ad(t),t=t.sibling}function ad(t){switch(t.tag){case 26:Ri(t),t.flags&Dl&&t.memoizedState!==null&&ky(qt,t.memoizedState,t.memoizedProps);break;case 5:Ri(t);break;case 3:case 4:var i=qt;qt=oa(t.stateNode.containerInfo),Ri(t),qt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Dl,Dl=16777216,Ri(t),Dl=i):Ri(t));break;default:Ri(t)}}function sd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Il(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];je=u,ud(u,t)}sd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rd(t),t=t.sibling}function rd(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&vn(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Qo(t)):Il(t);break;default:Il(t)}}function Qo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];je=u,ud(u,t)}sd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:vn(8,i,i.return),Qo(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Qo(i));break;default:Qo(i)}t=t.sibling}}function ud(t,i){for(;je!==null;){var o=je;switch(o.tag){case 0:case 11:case 15:vn(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,je=u;else e:for(o=t;je!==null;){u=je;var f=u.sibling,m=u.return;if(ed(u),u===o){je=null;break e}if(f!==null){f.return=m,je=f;break e}je=m}}}var ty={getCacheForType:function(t){var i=ot(Ke),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o}},ny=typeof WeakMap=="function"?WeakMap:Map,we=0,Ve=null,Se=null,_e=0,De=0,St=null,Sn=!1,bi=!1,sr=!1,on=0,Ye=0,xn=0,Kn=0,rr=0,It=0,Ni=0,Ul=null,pt=null,ur=!1,cr=0,Xo=1/0,Ko=null,En=null,nt=0,_n=null,wi=null,Di=0,fr=0,dr=null,cd=null,Ll=0,mr=null;function xt(){if((we&2)!==0&&_e!==0)return _e&-_e;if(B.T!==null){var t=vi;return t!==0?t:Cr()}return Au()}function fd(){It===0&&(It=(_e&536870912)===0||Re?Su():536870912);var t=Dt.current;return t!==null&&(t.flags|=32),It}function Et(t,i,o){(t===Ve&&(De===2||De===9)||t.cancelPendingCommit!==null)&&(Ii(t,0),An(t,_e,It,!1)),Wi(t,o),((we&2)===0||t!==Ve)&&(t===Ve&&((we&2)===0&&(Kn|=o),Ye===4&&An(t,_e,It,!1)),Yt(t))}function dd(t,i,o){if((we&6)!==0)throw Error(a(327));var u=!o&&(i&124)===0&&(i&t.expiredLanes)===0||$i(t,i),f=u?oy(t,i):hr(t,i,!0),m=u;do{if(f===0){bi&&!u&&An(t,i,0,!1);break}else{if(o=t.current.alternate,m&&!iy(o)){f=hr(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var x=t;f=Ul;var M=x.current.memoizedState.isDehydrated;if(M&&(Ii(x,T).flags|=256),T=hr(x,T,!1),T!==2){if(sr&&!M){x.errorRecoveryDisabledLanes|=m,Kn|=m,f=4;break e}m=pt,pt=f,m!==null&&(pt===null?pt=m:pt.push.apply(pt,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Ii(t,0),An(t,i,0,!0);break}e:{switch(u=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:An(u,i,It,!Sn);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=cr+300-kt(),10<f)){if(An(u,i,It,!Sn),oo(u,0,!0)!==0)break e;u.timeoutHandle=Hd(md.bind(null,u,o,pt,Ko,ur,i,It,Kn,Ni,Sn,m,2,-0,0),f);break e}md(u,o,pt,Ko,ur,i,It,Kn,Ni,Sn,m,0,-0,0)}}break}while(!0);Yt(t)}function md(t,i,o,u,f,m,T,x,M,U,z,Y,P,G){if(t.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:Vy},ad(i),Y=By(),Y!==null)){t.cancelPendingCommit=Y(Cd.bind(null,t,i,m,o,u,f,T,x,M,z,1,P,G)),An(t,m,T,!U);return}Cd(t,i,m,o,u,f,T,x,M)}function iy(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!yt(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function An(t,i,o,u){i&=~rr,i&=~Kn,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var f=i;0<f;){var m=31-ht(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&Eu(t,o,i)}function Zo(){return(we&6)===0?(Pl(0),!1):!0}function pr(){if(Se!==null){if(De===0)var t=Se.return;else t=Se,Zt=On=null,Ds(t),_i=null,Al=0,t=Se;for(;t!==null;)Jf(t.alternate,t),t=t.return;Se=null}}function Ii(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Sy(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),pr(),Ve=t,Se=o=Qt(t.current,null),_e=i,De=0,St=null,Sn=!1,bi=$i(t,i),sr=!1,Ni=It=rr=Kn=xn=Ye=0,pt=Ul=null,ur=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var f=31-ht(u),m=1<<f;i|=t[f],u&=~m}return on=i,vo(),o}function pd(t,i){ve=null,B.H=Go,i===hl||i===Ro?(i=wc(),De=3):i===Rc?(i=wc(),De=4):De=i===If?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,St=i,Se===null&&(Ye=1,zo(t,Rt(i,t.current)))}function gd(){var t=B.H;return B.H=Go,t===null?Go:t}function hd(){var t=B.A;return B.A=ty,t}function gr(){Ye=4,Sn||(_e&4194048)!==_e&&Dt.current!==null||(bi=!0),(xn&134217727)===0&&(Kn&134217727)===0||Ve===null||An(Ve,_e,It,!1)}function hr(t,i,o){var u=we;we|=2;var f=gd(),m=hd();(Ve!==t||_e!==i)&&(Ko=null,Ii(t,i)),i=!1;var T=Ye;e:do try{if(De!==0&&Se!==null){var x=Se,M=St;switch(De){case 8:pr(),T=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(i=!0);var U=De;if(De=0,St=null,Ui(t,x,M,U),o&&bi){T=0;break e}break;default:U=De,De=0,St=null,Ui(t,x,M,U)}}ly(),T=Ye;break}catch(z){pd(t,z)}while(!0);return i&&t.shellSuspendCounter++,Zt=On=null,we=u,B.H=f,B.A=m,Se===null&&(Ve=null,_e=0,vo()),T}function ly(){for(;Se!==null;)yd(Se)}function oy(t,i){var o=we;we|=2;var u=gd(),f=hd();Ve!==t||_e!==i?(Ko=null,Xo=kt()+500,Ii(t,i)):bi=$i(t,i);e:do try{if(De!==0&&Se!==null){i=Se;var m=St;t:switch(De){case 1:De=0,St=null,Ui(t,i,m,1);break;case 2:case 9:if(bc(m)){De=0,St=null,vd(i);break}i=function(){De!==2&&De!==9||Ve!==t||(De=7),Yt(t)},m.then(i,i);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:bc(m)?(De=0,St=null,vd(i)):(De=0,St=null,Ui(t,i,m,7));break;case 5:var T=null;switch(Se.tag){case 26:T=Se.memoizedState;case 5:case 27:var x=Se;if(!T||jd(T)){De=0,St=null;var M=x.sibling;if(M!==null)Se=M;else{var U=x.return;U!==null?(Se=U,$o(U)):Se=null}break t}}De=0,St=null,Ui(t,i,m,5);break;case 6:De=0,St=null,Ui(t,i,m,6);break;case 8:pr(),Ye=6;break e;default:throw Error(a(462))}}ay();break}catch(z){pd(t,z)}while(!0);return Zt=On=null,B.H=u,B.A=f,we=o,Se!==null?0:(Ve=null,_e=0,vo(),Ye)}function ay(){for(;Se!==null&&!Ki();)yd(Se)}function yd(t){var i=Yf(t.alternate,t,on);t.memoizedProps=t.pendingProps,i===null?$o(t):Se=i}function vd(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Vf(o,i,i.pendingProps,i.type,void 0,_e);break;case 11:i=Vf(o,i,i.pendingProps,i.type.render,i.ref,_e);break;case 5:Ds(i);default:Jf(o,i),i=Se=vc(i,on),i=Yf(o,i,on)}t.memoizedProps=t.pendingProps,i===null?$o(t):Se=i}function Ui(t,i,o,u){Zt=On=null,Ds(i),_i=null,Al=0;var f=i.return;try{if(Kh(t,f,i,o,_e)){Ye=1,zo(t,Rt(o,t.current)),Se=null;return}}catch(m){if(f!==null)throw Se=f,m;Ye=1,zo(t,Rt(o,t.current)),Se=null;return}i.flags&32768?(Re||u===1?t=!0:bi||(_e&536870912)!==0?t=!1:(Sn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Dt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Td(i,t)):$o(i)}function $o(t){var i=t;do{if((i.flags&32768)!==0){Td(i,Sn);return}t=i.return;var o=$h(i.alternate,i,on);if(o!==null){Se=o;return}if(i=i.sibling,i!==null){Se=i;return}Se=i=t}while(i!==null);Ye===0&&(Ye=5)}function Td(t,i){do{var o=Wh(t.alternate,t);if(o!==null){o.flags&=32767,Se=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Se=t;return}Se=t=o}while(t!==null);Ye=6,Se=null}function Cd(t,i,o,u,f,m,T,x,M){t.cancelPendingCommit=null;do Wo();while(nt!==0);if((we&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=as,Vg(t,o,m,T,x,M),t===Ve&&(Se=Ve=null,_e=0),wi=i,_n=t,Di=o,fr=m,dr=f,cd=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cy(no,function(){return Ad(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,f=Q.p,Q.p=2,T=we,we|=4;try{jh(t,i,o)}finally{we=T,Q.p=f,B.T=u}}nt=1,Sd(),xd(),Ed()}}function Sd(){if(nt===1){nt=0;var t=_n,i=wi,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=Q.p;Q.p=2;var f=we;we|=4;try{id(i,t);var m=br,T=rc(t.containerInfo),x=m.focusedElem,M=m.selectionRange;if(T!==x&&x&&x.ownerDocument&&sc(x.ownerDocument.documentElement,x)){if(M!==null&&ts(x)){var U=M.start,z=M.end;if(z===void 0&&(z=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min(z,x.value.length);else{var Y=x.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var G=P.getSelection(),ge=x.textContent.length,de=Math.min(M.start,ge),Pe=M.end===void 0?de:Math.min(M.end,ge);!G.extend&&de>Pe&&(T=Pe,Pe=de,de=T);var N=ac(x,de),R=ac(x,Pe);if(N&&R&&(G.rangeCount!==1||G.anchorNode!==N.node||G.anchorOffset!==N.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var I=Y.createRange();I.setStart(N.node,N.offset),G.removeAllRanges(),de>Pe?(G.addRange(I),G.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),G.addRange(I))}}}}for(Y=[],G=x;G=G.parentNode;)G.nodeType===1&&Y.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Y.length;x++){var O=Y[x];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ca=!!Rr,br=Rr=null}finally{we=f,Q.p=u,B.T=o}}t.current=i,nt=2}}function xd(){if(nt===2){nt=0;var t=_n,i=wi,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=Q.p;Q.p=2;var f=we;we|=4;try{jf(t,i.alternate,i)}finally{we=f,Q.p=u,B.T=o}}nt=3}}function Ed(){if(nt===4||nt===3){nt=0,Ng();var t=_n,i=wi,o=Di,u=cd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nt=5:(nt=0,wi=_n=null,_d(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(En=null),La(o),i=i.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Zi,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=B.T,f=Q.p,Q.p=2,B.T=null;try{for(var m=t.onRecoverableError,T=0;T<u.length;T++){var x=u[T];m(x.value,{componentStack:x.stack})}}finally{B.T=i,Q.p=f}}(Di&3)!==0&&Wo(),Yt(t),f=t.pendingLanes,(o&4194090)!==0&&(f&42)!==0?t===mr?Ll++:(Ll=0,mr=t):Ll=0,Pl(0)}}function _d(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Wo(t){return Sd(),xd(),Ed(),Ad()}function Ad(){if(nt!==5)return!1;var t=_n,i=fr;fr=0;var o=La(Di),u=B.T,f=Q.p;try{Q.p=32>o?32:o,B.T=null,o=dr,dr=null;var m=_n,T=Di;if(nt=0,wi=_n=null,Di=0,(we&6)!==0)throw Error(a(331));var x=we;if(we|=4,rd(m.current),od(m,m.current,T,o),we=x,Pl(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Zi,m)}catch{}return!0}finally{Q.p=f,B.T=u,_d(t,i)}}function Md(t,i,o){i=Rt(o,i),i=Fs(t.stateNode,i,2),t=pn(t,i,2),t!==null&&(Wi(t,2),Yt(t))}function Ge(t,i,o){if(t.tag===3)Md(t,t,o);else for(;i!==null;){if(i.tag===3){Md(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(En===null||!En.has(u))){t=Rt(o,t),o=wf(2),u=pn(i,o,2),u!==null&&(Df(o,u,i,t),Wi(u,2),Yt(u));break}}i=i.return}}function yr(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new ny;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(sr=!0,f.add(o),t=sy.bind(null,t,i,o),i.then(t,t))}function sy(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ve===t&&(_e&o)===o&&(Ye===4||Ye===3&&(_e&62914560)===_e&&300>kt()-cr?(we&2)===0&&Ii(t,0):rr|=o,Ni===_e&&(Ni=0)),Yt(t)}function Rd(t,i){i===0&&(i=xu()),t=pi(t,i),t!==null&&(Wi(t,i),Yt(t))}function ry(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Rd(t,o)}function uy(t,i){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Rd(t,o)}function cy(t,i){return rt(t,i)}var jo=null,Li=null,vr=!1,ea=!1,Tr=!1,Zn=0;function Yt(t){t!==Li&&t.next===null&&(Li===null?jo=Li=t:Li=Li.next=t),ea=!0,vr||(vr=!0,dy())}function Pl(t,i){if(!Tr&&ea){Tr=!0;do for(var o=!1,u=jo;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,x=u.pingedLanes;m=(1<<31-ht(42|t)+1)-1,m&=f&~(T&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Dd(u,m))}else m=_e,m=oo(u,u===Ve?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||$i(u,m)||(o=!0,Dd(u,m));u=u.next}while(o);Tr=!1}}function fy(){bd()}function bd(){ea=vr=!1;var t=0;Zn!==0&&(Cy()&&(t=Zn),Zn=0);for(var i=kt(),o=null,u=jo;u!==null;){var f=u.next,m=Nd(u,i);m===0?(u.next=null,o===null?jo=f:o.next=f,f===null&&(Li=o)):(o=u,(t!==0||(m&3)!==0)&&(ea=!0)),u=f}Pl(t)}function Nd(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-ht(m),x=1<<T,M=f[T];M===-1?((x&o)===0||(x&u)!==0)&&(f[T]=Gg(x,i)):M<=i&&(t.expiredLanes|=x),m&=~x}if(i=Ve,o=_e,o=oo(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===i&&(De===2||De===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Xi(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||$i(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(u!==null&&Xi(u),La(o)){case 2:case 8:o=Tu;break;case 32:o=no;break;case 268435456:o=Cu;break;default:o=no}return u=wd.bind(null,t),o=rt(o,u),t.callbackPriority=i,t.callbackNode=o,i}return u!==null&&u!==null&&Xi(u),t.callbackPriority=2,t.callbackNode=null,2}function wd(t,i){if(nt!==0&&nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Wo()&&t.callbackNode!==o)return null;var u=_e;return u=oo(t,t===Ve?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(dd(t,u,i),Nd(t,kt()),t.callbackNode!=null&&t.callbackNode===o?wd.bind(null,t):null)}function Dd(t,i){if(Wo())return null;dd(t,i,!0)}function dy(){xy(function(){(we&6)!==0?rt(vu,fy):bd()})}function Cr(){return Zn===0&&(Zn=Su()),Zn}function Id(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:co(""+t)}function Ud(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function my(t,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var m=Id((f[ct]||null).action),T=u.submitter;T&&(i=(i=T[ct]||null)?Id(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var x=new go("action","action",null,u,f);t.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zn!==0){var M=T?Ud(f,T):new FormData(f);Bs(o,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(x.preventDefault(),M=T?Ud(f,T):new FormData(f),Bs(o,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var Sr=0;Sr<os.length;Sr++){var xr=os[Sr],py=xr.toLowerCase(),gy=xr[0].toUpperCase()+xr.slice(1);Pt(py,"on"+gy)}Pt(fc,"onAnimationEnd"),Pt(dc,"onAnimationIteration"),Pt(mc,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Ih,"onTransitionRun"),Pt(Uh,"onTransitionStart"),Pt(Lh,"onTransitionCancel"),Pt(pc,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Ld(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var T=u.length-1;0<=T;T--){var x=u[T],M=x.instance,U=x.currentTarget;if(x=x.listener,M!==m&&f.isPropagationStopped())break e;m=x,f.currentTarget=U;try{m(f)}catch(z){Ho(z)}f.currentTarget=null,m=M}else for(T=0;T<u.length;T++){if(x=u[T],M=x.instance,U=x.currentTarget,x=x.listener,M!==m&&f.isPropagationStopped())break e;m=x,f.currentTarget=U;try{m(f)}catch(z){Ho(z)}f.currentTarget=null,m=M}}}}function xe(t,i){var o=i[Pa];o===void 0&&(o=i[Pa]=new Set);var u=t+"__bubble";o.has(u)||(Pd(i,t,2,!1),o.add(u))}function Er(t,i,o){var u=0;i&&(u|=4),Pd(o,t,u,i)}var ta="_reactListening"+Math.random().toString(36).slice(2);function _r(t){if(!t[ta]){t[ta]=!0,Ru.forEach(function(o){o!=="selectionchange"&&(hy.has(o)||Er(o,!1,t),Er(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ta]||(i[ta]=!0,Er("selectionchange",!1,i))}}function Pd(t,i,o,u){switch(om(i)){case 2:var f=Oy;break;case 8:f=Yy;break;default:f=Vr}o=f.bind(null,i,o,t),f=void 0,!Ja||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,o,{capture:!0,passive:f}):t.addEventListener(i,o,!0):f!==void 0?t.addEventListener(i,o,{passive:f}):t.addEventListener(i,o,!1)}function Ar(t,i,o,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var x=u.stateNode.containerInfo;if(x===f)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;x!==null;){if(T=ti(x),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=m=T;continue e}x=x.parentNode}}u=u.return}Hu(function(){var U=m,z=Ya(o),Y=[];e:{var P=gc.get(t);if(P!==void 0){var G=go,ge=t;switch(t){case"keypress":if(mo(o)===0)break e;case"keydown":case"keyup":G=ch;break;case"focusin":ge="focus",G=Za;break;case"focusout":ge="blur",G=Za;break;case"beforeblur":case"afterblur":G=Za;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=mh;break;case fc:case dc:case mc:G=th;break;case pc:G=gh;break;case"scroll":case"scrollend":G=Zg;break;case"wheel":G=yh;break;case"copy":case"cut":case"paste":G=ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ju;break;case"toggle":case"beforetoggle":G=Th}var de=(i&4)!==0,Pe=!de&&(t==="scroll"||t==="scrollend"),N=de?P!==null?P+"Capture":null:P;de=[];for(var R=U,I;R!==null;){var O=R;if(I=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||I===null||N===null||(O=tl(R,N),O!=null&&de.push(Gl(R,O,I))),Pe)break;R=R.return}0<de.length&&(P=new G(P,ge,null,o,z),Y.push({event:P,listeners:de}))}}if((i&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",P&&o!==Oa&&(ge=o.relatedTarget||o.fromElement)&&(ti(ge)||ge[ei]))break e;if((G||P)&&(P=z.window===z?z:(P=z.ownerDocument)?P.defaultView||P.parentWindow:window,G?(ge=o.relatedTarget||o.toElement,G=U,ge=ge?ti(ge):null,ge!==null&&(Pe=d(ge),de=ge.tag,ge!==Pe||de!==5&&de!==27&&de!==6)&&(ge=null)):(G=null,ge=U),G!==ge)){if(de=Yu,O="onMouseLeave",N="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(de=Ju,O="onPointerLeave",N="onPointerEnter",R="pointer"),Pe=G==null?P:el(G),I=ge==null?P:el(ge),P=new de(O,R+"leave",G,o,z),P.target=Pe,P.relatedTarget=I,O=null,ti(z)===U&&(de=new de(N,R+"enter",ge,o,z),de.target=I,de.relatedTarget=Pe,O=de),Pe=O,G&&ge)t:{for(de=G,N=ge,R=0,I=de;I;I=Pi(I))R++;for(I=0,O=N;O;O=Pi(O))I++;for(;0<R-I;)de=Pi(de),R--;for(;0<I-R;)N=Pi(N),I--;for(;R--;){if(de===N||N!==null&&de===N.alternate)break t;de=Pi(de),N=Pi(N)}de=null}else de=null;G!==null&&qd(Y,P,G,de,!1),ge!==null&&Pe!==null&&qd(Y,Pe,ge,de,!0)}}e:{if(P=U?el(U):window,G=P.nodeName&&P.nodeName.toLowerCase(),G==="select"||G==="input"&&P.type==="file")var te=ec;else if(Wu(P))if(tc)te=Nh;else{te=Rh;var Te=Mh}else G=P.nodeName,!G||G.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?U&&za(U.elementType)&&(te=ec):te=bh;if(te&&(te=te(t,U))){ju(Y,te,o,z);break e}Te&&Te(t,P,U),t==="focusout"&&U&&P.type==="number"&&U.memoizedProps.value!=null&&Ha(P,"number",P.value)}switch(Te=U?el(U):window,t){case"focusin":(Wu(Te)||Te.contentEditable==="true")&&(fi=Te,ns=U,ul=null);break;case"focusout":ul=ns=fi=null;break;case"mousedown":is=!0;break;case"contextmenu":case"mouseup":case"dragend":is=!1,uc(Y,o,z);break;case"selectionchange":if(Dh)break;case"keydown":case"keyup":uc(Y,o,z)}var se;if(Wa)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else ci?Zu(t,o)&&(me="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(Qu&&o.locale!=="ko"&&(ci||me!=="onCompositionStart"?me==="onCompositionEnd"&&ci&&(se=zu()):(cn=z,Qa="value"in cn?cn.value:cn.textContent,ci=!0)),Te=na(U,me),0<Te.length&&(me=new Fu(me,t,null,o,z),Y.push({event:me,listeners:Te}),se?me.data=se:(se=$u(o),se!==null&&(me.data=se)))),(se=Sh?xh(t,o):Eh(t,o))&&(me=na(U,"onBeforeInput"),0<me.length&&(Te=new Fu("onBeforeInput","beforeinput",null,o,z),Y.push({event:Te,listeners:me}),Te.data=se)),my(Y,t,U,o,z)}Ld(Y,i)})}function Gl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function na(t,i){for(var o=i+"Capture",u=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=tl(t,o),f!=null&&u.unshift(Gl(t,f,m)),f=tl(t,i),f!=null&&u.push(Gl(t,f,m))),t.tag===3)return u;t=t.return}return[]}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qd(t,i,o,u,f){for(var m=i._reactName,T=[];o!==null&&o!==u;){var x=o,M=x.alternate,U=x.stateNode;if(x=x.tag,M!==null&&M===u)break;x!==5&&x!==26&&x!==27||U===null||(M=U,f?(U=tl(o,m),U!=null&&T.unshift(Gl(o,U,M))):f||(U=tl(o,m),U!=null&&T.push(Gl(o,U,M)))),o=o.return}T.length!==0&&t.push({event:i,listeners:T})}var yy=/\r\n?/g,vy=/\u0000|\uFFFD/g;function Gd(t){return(typeof t=="string"?t:""+t).replace(yy,`
`).replace(vy,"")}function Vd(t,i){return i=Gd(i),Gd(t)===i}function ia(){}function Le(t,i,o,u,f,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||si(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&si(t,""+u);break;case"className":so(t,"class",u);break;case"tabIndex":so(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":so(t,o,u);break;case"style":ku(t,u,m);break;case"data":if(i!=="object"){so(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=co(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Le(t,i,"name",f.name,f,null),Le(t,i,"formEncType",f.formEncType,f,null),Le(t,i,"formMethod",f.formMethod,f,null),Le(t,i,"formTarget",f.formTarget,f,null)):(Le(t,i,"encType",f.encType,f,null),Le(t,i,"method",f.method,f,null),Le(t,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=co(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=ia);break;case"onScroll":u!=null&&xe("scroll",t);break;case"onScrollEnd":u!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=co(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ao(t,"popover",u);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ao(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xg.get(o)||o,ao(t,o,u))}}function Mr(t,i,o,u,f,m){switch(o){case"style":ku(t,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof u=="string"?si(t,u):(typeof u=="number"||typeof u=="bigint")&&si(t,""+u);break;case"onScroll":u!=null&&xe("scroll",t);break;case"onScrollEnd":u!=null&&xe("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=t[ct]||null,m=m!=null?m[o]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,u,f);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):ao(t,o,u)}}}function it(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(t,i,m,T,o,null)}}f&&Le(t,i,"srcSet",o.srcSet,o,null),u&&Le(t,i,"src",o.src,o,null);return;case"input":xe("invalid",t);var x=m=T=f=null,M=null,U=null;for(u in o)if(o.hasOwnProperty(u)){var z=o[u];if(z!=null)switch(u){case"name":f=z;break;case"type":T=z;break;case"checked":M=z;break;case"defaultChecked":U=z;break;case"value":m=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,i));break;default:Le(t,i,u,z,o,null)}}Pu(t,m,x,M,U,T,f,!1),ro(t);return;case"select":xe("invalid",t),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(x=o[f],x!=null))switch(f){case"value":m=x;break;case"defaultValue":T=x;break;case"multiple":u=x;default:Le(t,i,f,x,o,null)}i=m,o=T,t.multiple=!!u,i!=null?ai(t,!!u,i,!1):o!=null&&ai(t,!!u,o,!0);return;case"textarea":xe("invalid",t),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(x=o[T],x!=null))switch(T){case"value":u=x;break;case"defaultValue":f=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:Le(t,i,T,x,o,null)}Gu(t,u,f,m),ro(t);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Le(t,i,M,u,o,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(u=0;u<ql.length;u++)xe(ql[u],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(t,i,U,u,o,null)}return;default:if(za(i)){for(z in o)o.hasOwnProperty(z)&&(u=o[z],u!==void 0&&Mr(t,i,z,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&Le(t,i,x,u,o,null))}function Ty(t,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,x=null,M=null,U=null,z=null;for(G in o){var Y=o[G];if(o.hasOwnProperty(G)&&Y!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=Y;default:u.hasOwnProperty(G)||Le(t,i,G,null,u,Y)}}for(var P in u){var G=u[P];if(Y=o[P],u.hasOwnProperty(P)&&(G!=null||Y!=null))switch(P){case"type":m=G;break;case"name":f=G;break;case"checked":U=G;break;case"defaultChecked":z=G;break;case"value":T=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:G!==Y&&Le(t,i,P,G,u,Y)}}Ba(t,T,x,M,U,z,m,f);return;case"select":G=T=x=P=null;for(m in o)if(M=o[m],o.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":G=M;default:u.hasOwnProperty(m)||Le(t,i,m,null,u,M)}for(f in u)if(m=u[f],M=o[f],u.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":P=m;break;case"defaultValue":x=m;break;case"multiple":T=m;default:m!==M&&Le(t,i,f,m,u,M)}i=x,o=T,u=G,P!=null?ai(t,!!o,P,!1):!!u!=!!o&&(i!=null?ai(t,!!o,i,!0):ai(t,!!o,o?[]:"",!1));return;case"textarea":G=P=null;for(x in o)if(f=o[x],o.hasOwnProperty(x)&&f!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Le(t,i,x,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":P=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Le(t,i,T,f,u,m)}qu(t,P,G);return;case"option":for(var ge in o)if(P=o[ge],o.hasOwnProperty(ge)&&P!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:Le(t,i,ge,null,u,P)}for(M in u)if(P=u[M],G=o[M],u.hasOwnProperty(M)&&P!==G&&(P!=null||G!=null))switch(M){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Le(t,i,M,P,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in o)P=o[de],o.hasOwnProperty(de)&&P!=null&&!u.hasOwnProperty(de)&&Le(t,i,de,null,u,P);for(U in u)if(P=u[U],G=o[U],u.hasOwnProperty(U)&&P!==G&&(P!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,i));break;default:Le(t,i,U,P,u,G)}return;default:if(za(i)){for(var Pe in o)P=o[Pe],o.hasOwnProperty(Pe)&&P!==void 0&&!u.hasOwnProperty(Pe)&&Mr(t,i,Pe,void 0,u,P);for(z in u)P=u[z],G=o[z],!u.hasOwnProperty(z)||P===G||P===void 0&&G===void 0||Mr(t,i,z,P,u,G);return}}for(var N in o)P=o[N],o.hasOwnProperty(N)&&P!=null&&!u.hasOwnProperty(N)&&Le(t,i,N,null,u,P);for(Y in u)P=u[Y],G=o[Y],!u.hasOwnProperty(Y)||P===G||P==null&&G==null||Le(t,i,Y,P,u,G)}var Rr=null,br=null;function la(t){return t.nodeType===9?t:t.ownerDocument}function kd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nr(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wr=null;function Cy(){var t=window.event;return t&&t.type==="popstate"?t===wr?!1:(wr=t,!0):(wr=null,!1)}var Hd=typeof setTimeout=="function"?setTimeout:void 0,Sy=typeof clearTimeout=="function"?clearTimeout:void 0,zd=typeof Promise=="function"?Promise:void 0,xy=typeof queueMicrotask=="function"?queueMicrotask:typeof zd<"u"?function(t){return zd.resolve(null).then(t).catch(Ey)}:Hd;function Ey(t){setTimeout(function(){throw t})}function Mn(t){return t==="head"}function Od(t,i){var o=i,u=0,f=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var T=t.ownerDocument;if(o&1&&Vl(T.documentElement),o&2&&Vl(T.body),o&4)for(o=T.head,Vl(o),T=o.firstChild;T;){var x=T.nextSibling,M=T.nodeName;T[ji]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=x}}if(f===0){t.removeChild(m),Jl(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);Jl(i)}function Dr(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dr(o),qa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function _y(t,i,o,u){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ji])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Gt(t.nextSibling),t===null)break}return null}function Ay(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Gt(t.nextSibling),t===null))return null;return t}function Ir(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function My(t,i){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Gt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ur=null;function Yd(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}function Fd(t,i,o){switch(i=la(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);qa(t)}var Ut=new Map,Jd=new Set;function oa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var an=Q.d;Q.d={f:Ry,r:by,D:Ny,C:wy,L:Dy,m:Iy,X:Ly,S:Uy,M:Py};function Ry(){var t=an.f(),i=Zo();return t||i}function by(t){var i=ni(t);i!==null&&i.tag===5&&i.type==="form"?df(i):an.r(t)}var qi=typeof document>"u"?null:document;function Qd(t,i,o){var u=qi;if(u&&typeof i=="string"&&i){var f=Mt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Jd.has(f)||(Jd.add(f),t={rel:t,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),it(i,"link",t),$e(i),u.head.appendChild(i)))}}function Ny(t){an.D(t),Qd("dns-prefetch",t,null)}function wy(t,i){an.C(t,i),Qd("preconnect",t,i)}function Dy(t,i,o){an.L(t,i,o);var u=qi;if(u&&t&&i){var f='link[rel="preload"][as="'+Mt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Mt(o.imageSizes)+'"]')):f+='[href="'+Mt(t)+'"]';var m=f;switch(i){case"style":m=Gi(t);break;case"script":m=Vi(t)}Ut.has(m)||(t=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Ut.set(m,t),u.querySelector(f)!==null||i==="style"&&u.querySelector(kl(m))||i==="script"&&u.querySelector(Bl(m))||(i=u.createElement("link"),it(i,"link",t),$e(i),u.head.appendChild(i)))}}function Iy(t,i){an.m(t,i);var o=qi;if(o&&t){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Mt(u)+'"][href="'+Mt(t)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vi(t)}if(!Ut.has(m)&&(t=v({rel:"modulepreload",href:t},i),Ut.set(m,t),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bl(m)))return}u=o.createElement("link"),it(u,"link",t),$e(u),o.head.appendChild(u)}}}function Uy(t,i,o){an.S(t,i,o);var u=qi;if(u&&t){var f=ii(u).hoistableStyles,m=Gi(t);i=i||"default";var T=f.get(m);if(!T){var x={loading:0,preload:null};if(T=u.querySelector(kl(m)))x.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Ut.get(m))&&Lr(t,o);var M=T=u.createElement("link");$e(M),it(M,"link",t),M._p=new Promise(function(U,z){M.onload=U,M.onerror=z}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,aa(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:x},f.set(m,T)}}}function Ly(t,i){an.X(t,i);var o=qi;if(o&&t){var u=ii(o).hoistableScripts,f=Vi(t),m=u.get(f);m||(m=o.querySelector(Bl(f)),m||(t=v({src:t,async:!0},i),(i=Ut.get(f))&&Pr(t,i),m=o.createElement("script"),$e(m),it(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Py(t,i){an.M(t,i);var o=qi;if(o&&t){var u=ii(o).hoistableScripts,f=Vi(t),m=u.get(f);m||(m=o.querySelector(Bl(f)),m||(t=v({src:t,async:!0,type:"module"},i),(i=Ut.get(f))&&Pr(t,i),m=o.createElement("script"),$e(m),it(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Xd(t,i,o,u){var f=(f=q.current)?oa(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Gi(o.href),o=ii(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Gi(o.href);var m=ii(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(kl(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Ut.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ut.set(t,o),m||qy(f,t,o,T.state))),i&&u===null)throw Error(a(528,""));return T}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vi(o),o=ii(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Gi(t){return'href="'+Mt(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function Kd(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function qy(t,i,o,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),it(i,"link",o),$e(i),t.head.appendChild(i))}function Vi(t){return'[src="'+Mt(t)+'"]'}function Bl(t){return"script[async]"+t}function Zd(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Mt(o.href)+'"]');if(u)return i.instance=u,$e(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),$e(u),it(u,"style",f),aa(u,o.precedence,t),i.instance=u;case"stylesheet":f=Gi(o.href);var m=t.querySelector(kl(f));if(m)return i.state.loading|=4,i.instance=m,$e(m),m;u=Kd(o),(f=Ut.get(f))&&Lr(u,f),m=(t.ownerDocument||t).createElement("link"),$e(m);var T=m;return T._p=new Promise(function(x,M){T.onload=x,T.onerror=M}),it(m,"link",u),i.state.loading|=4,aa(m,o.precedence,t),i.instance=m;case"script":return m=Vi(o.src),(f=t.querySelector(Bl(m)))?(i.instance=f,$e(f),f):(u=o,(f=Ut.get(m))&&(u=v({},o),Pr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),$e(f),it(f,"link",u),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,aa(u,o.precedence,t));return i.instance}function aa(t,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var x=u[T];if(x.dataset.precedence===i)m=x;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Lr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var sa=null;function $d(t,i,o){if(sa===null){var u=new Map,f=sa=new Map;f.set(o,u)}else f=sa,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var m=o[f];if(!(m[ji]||m[lt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=t+T;var x=u.get(T);x?x.push(m):u.set(T,[m])}}return u}function Wd(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function Gy(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hl=null;function Vy(){}function ky(t,i,o){if(Hl===null)throw Error(a(475));var u=Hl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Gi(o.href),m=t.querySelector(kl(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=ra.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=m,$e(m);return}m=t.ownerDocument||t,o=Kd(o),(f=Ut.get(f))&&Lr(o,f),m=m.createElement("link"),$e(m);var T=m;T._p=new Promise(function(x,M){T.onload=x,T.onerror=M}),it(m,"link",o),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=ra.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function By(){if(Hl===null)throw Error(a(475));var t=Hl;return t.stylesheets&&t.count===0&&qr(t,t.stylesheets),0<t.count?function(i){var o=setTimeout(function(){if(t.stylesheets&&qr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o)}}:null}function ra(){if(this.count--,this.count===0){if(this.stylesheets)qr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ua=null;function qr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ua=new Map,i.forEach(Hy,t),ua=null,ra.call(t))}function Hy(t,i){if(!(i.state.loading&4)){var o=ua.get(t);if(o)var u=o.get(null);else{o=new Map,ua.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=ra.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var zl={$$typeof:W,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function zy(t,i,o,u,f,m,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function em(t,i,o,u,f,m,T,x,M,U,z,Y){return t=new zy(t,i,o,T,x,M,U,Y),i=1,m===!0&&(i|=24),m=vt(3,null,null,i),t.current=m,m.stateNode=t,i=ys(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},Ss(m),t}function tm(t){return t?(t=gi,t):gi}function nm(t,i,o,u,f,m){f=tm(f),u.context===null?u.context=f:u.pendingContext=f,u=mn(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=pn(t,u,i),o!==null&&(Et(o,t,i),vl(o,t,i))}function im(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Gr(t,i){im(t,i),(t=t.alternate)&&im(t,i)}function lm(t){if(t.tag===13){var i=pi(t,67108864);i!==null&&Et(i,t,67108864),Gr(t,67108864)}}var ca=!0;function Oy(t,i,o,u){var f=B.T;B.T=null;var m=Q.p;try{Q.p=2,Vr(t,i,o,u)}finally{Q.p=m,B.T=f}}function Yy(t,i,o,u){var f=B.T;B.T=null;var m=Q.p;try{Q.p=8,Vr(t,i,o,u)}finally{Q.p=m,B.T=f}}function Vr(t,i,o,u){if(ca){var f=kr(u);if(f===null)Ar(t,i,u,fa,o),am(t,u);else if(Jy(f,t,i,o,u))u.stopPropagation();else if(am(t,u),i&4&&-1<Fy.indexOf(t)){for(;f!==null;){var m=ni(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Un(m.pendingLanes);if(T!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var M=1<<31-ht(T);x.entanglements[1]|=M,T&=~M}Yt(m),(we&6)===0&&(Xo=kt()+500,Pl(0))}}break;case 13:x=pi(m,2),x!==null&&Et(x,m,2),Zo(),Gr(m,2)}if(m=kr(u),m===null&&Ar(t,i,u,fa,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Ar(t,i,u,null,o)}}function kr(t){return t=Ya(t),Br(t)}var fa=null;function Br(t){if(fa=null,t=ti(t),t!==null){var i=d(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=g(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return fa=t,null}function om(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wg()){case vu:return 2;case Tu:return 8;case no:case Dg:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var Hr=!1,Rn=null,bn=null,Nn=null,Ol=new Map,Yl=new Map,wn=[],Fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function am(t,i){switch(t){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Fl(t,i,o,u,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ni(i),i!==null&&lm(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Jy(t,i,o,u,f){switch(i){case"focusin":return Rn=Fl(Rn,t,i,o,u,f),!0;case"dragenter":return bn=Fl(bn,t,i,o,u,f),!0;case"mouseover":return Nn=Fl(Nn,t,i,o,u,f),!0;case"pointerover":var m=f.pointerId;return Ol.set(m,Fl(Ol.get(m)||null,t,i,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Yl.set(m,Fl(Yl.get(m)||null,t,i,o,u,f)),!0}return!1}function sm(t){var i=ti(t.target);if(i!==null){var o=d(i);if(o!==null){if(i=o.tag,i===13){if(i=g(o),i!==null){t.blockedOn=i,kg(t.priority,function(){if(o.tag===13){var u=xt();u=Ua(u);var f=pi(o,u);f!==null&&Et(f,o,u),Gr(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function da(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=kr(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Oa=u,o.target.dispatchEvent(u),Oa=null}else return i=ni(o),i!==null&&lm(i),t.blockedOn=o,!1;i.shift()}return!0}function rm(t,i,o){da(t)&&o.delete(i)}function Qy(){Hr=!1,Rn!==null&&da(Rn)&&(Rn=null),bn!==null&&da(bn)&&(bn=null),Nn!==null&&da(Nn)&&(Nn=null),Ol.forEach(rm),Yl.forEach(rm)}function ma(t,i){t.blockedOn===i&&(t.blockedOn=null,Hr||(Hr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Qy)))}var pa=null;function um(t){pa!==t&&(pa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pa===t&&(pa=null);for(var i=0;i<t.length;i+=3){var o=t[i],u=t[i+1],f=t[i+2];if(typeof u!="function"){if(Br(u||o)===null)continue;break}var m=ni(o);m!==null&&(t.splice(i,3),i-=3,Bs(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Jl(t){function i(M){return ma(M,t)}Rn!==null&&ma(Rn,t),bn!==null&&ma(bn,t),Nn!==null&&ma(Nn,t),Ol.forEach(i),Yl.forEach(i);for(var o=0;o<wn.length;o++){var u=wn[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<wn.length&&(o=wn[0],o.blockedOn===null);)sm(o),o.blockedOn===null&&wn.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[ct]||null;if(typeof m=="function")T||um(o);else if(T){var x=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[ct]||null)x=T.formAction;else if(Br(f)!==null)continue}else x=T.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),um(o)}}}function zr(t){this._internalRoot=t}ga.prototype.render=zr.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=xt();nm(o,u,t,i,null,null)},ga.prototype.unmount=zr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;nm(t.current,2,null,t,null,null),Zo(),i[ei]=null}};function ga(t){this._internalRoot=t}ga.prototype.unstable_scheduleHydration=function(t){if(t){var i=Au();t={blockedOn:null,target:t,priority:i};for(var o=0;o<wn.length&&i!==0&&i<wn[o].priority;o++);wn.splice(o,0,t),o===0&&sm(t)}};var cm=e.version;if(cm!=="19.1.1")throw Error(a(527,cm,"19.1.1"));Q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Xy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{Zi=ha.inject(Xy),gt=ha}catch{}}return Xl.createRoot=function(t,i){if(!c(t))throw Error(a(299));var o=!1,u="",f=Mf,m=Rf,T=bf,x=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=em(t,1,!1,null,null,o,u,f,m,T,x,null),t[ei]=i.current,_r(t),new zr(i)},Xl.hydrateRoot=function(t,i,o){if(!c(t))throw Error(a(299));var u=!1,f="",m=Mf,T=Rf,x=bf,M=null,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(U=o.formState)),i=em(t,1,!0,i,o??null,u,f,m,T,x,M,U),i.context=tm(null),o=i.current,u=xt(),u=Ua(u),f=mn(u),f.callback=null,pn(o,f,u),o=u,i.current.lanes=o,Wi(i,o),Yt(i),t[ei]=i.current,_r(t),new ga(i)},Xl.version="19.1.1",Xl}var Cm;function o0(){if(Cm)return Fr.exports;Cm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fr.exports=l0(),Fr.exports}var a0=o0();const s0=Kp(a0),r0=({xp:n,gems:e,inventory:l,onShowMap:a,hp:c,maxHp:d})=>E.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-gray-800 bg-opacity-80 backdrop-blur-sm text-white p-3 flex justify-between items-center z-50 shadow-lg border-b border-gray-700",children:[E.jsxs("div",{className:"flex items-center space-x-6",children:[E.jsx("h1",{className:"text-xl font-bold text-yellow-400",children:"Lexicon Legends"}),E.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:d}).map((g,h)=>E.jsx("span",{className:`text-2xl transition-all duration-300 ${h<c?"text-red-500":"text-gray-600"}`,children:""},h))}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("span",{className:"font-semibold",children:["XP: ",E.jsx("span",{className:"text-green-400",children:n})]}),E.jsxs("span",{className:"font-semibold",children:["Gems: ",E.jsx("span",{className:"text-blue-400",children:e})]})]})]}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("span",{className:"font-semibold hidden sm:inline",children:"Inventory:"}),l.length>0?E.jsx("div",{className:"flex space-x-2",children:l.map(g=>E.jsx("div",{className:"bg-gray-700 px-2 py-1 rounded-md text-sm shadow-inner whitespace-nowrap",children:g},g))}):E.jsx("span",{className:"text-gray-400 italic",children:"Empty"})]}),E.jsx("button",{onClick:a,className:"bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 px-4 rounded-lg transition-colors shadow-md",children:"World Map"})]})]}),Sm=4,u0=72,c0=250,ya=40,va=48,xm={width:44,height:44},Em=8,f0=(n,e,l,a,c,d,g,h,y,p)=>{const{layout:v,TILE_SIZE:C}=n,[_,b]=fe.useState({x:p.x*C,y:p.y*C}),[H,k]=fe.useState("down"),[F,Z]=fe.useState(!1),[X,W]=fe.useState(null),$=fe.useRef({}).current,J=fe.useRef(_),ue=fe.useRef(null);fe.useEffect(()=>{J.current=_},[_]),fe.useEffect(()=>{b({x:p.x*C,y:p.y*C})},[p,C]);const ee=fe.useCallback(()=>{const j={x:J.current.x+ya/2,y:J.current.y+va/2};let ne=null,re=1/0;l.forEach(Ce=>{if(Ce.status==="defeated")return;const be={x:Ce.position.x+xm.width/2,y:Ce.position.y+xm.height/2},he=Math.sqrt(Math.pow(j.x-be.x,2)+Math.pow(j.y-be.y,2));he<c0&&he<re&&(re=he,ne=Ce)}),ne&&c(ne)},[l,c]),Ee=fe.useCallback((j,ne)=>{const re=j,Ce=j+ya,be=ne,he=ne+va;if(re<0||Ce>v[0].length*C||be<0||he>v.length*C)return!0;const B=[{x:re,y:he-10},{x:Ce,y:he-10},{x:j+ya/2,y:ne+va/2}];for(const Q of B){const ie=Math.floor(Q.x/C),K=Math.floor(Q.y/C);if(v[K]&&v[K][ie]===1)return!0}return!1},[v,C]),le=fe.useCallback(()=>{let j=!1,ne=H;if(!d){let{x:re,y:Ce}=J.current;const be=($.a||$.arrowleft?-1:0)+($.d||$.arrowright?1:0),he=($.w||$.arrowup?-1:0)+($.s||$.arrowdown?1:0);if(be!==0||he!==0){j=!0;let S=re+be*Sm,A=Ce+he*Sm;he<0?ne="up":he>0?ne="down":be<0?ne="left":be>0&&(ne="right"),Ee(S,Ce)||(re=S),Ee(re,A)||(Ce=A)}b({x:re,y:Ce});let B=null,Q=1/0;const ie=re+ya/2,K=Ce+va/2;e.forEach(S=>{const A=S.pos,w=A.x+("name"in S?24:C/2),D=A.y+("name"in S?24:C/2),L=Math.sqrt(Math.pow(ie-w,2)+Math.pow(K-D,2));if(L<u0&&L<Q){Q=L;const V="type"in S?S.type:"quest_item";B={id:S.id,type:V}}}),W(B)}k(ne),Z(j),ue.current=requestAnimationFrame(le)},[H,Ee,e,C,d]);return fe.useEffect(()=>{const j=re=>{const Ce=re.key.toLowerCase();if($[Ce]=!0,g){re.preventDefault();let be=0;(Ce==="a"||Ce==="arrowleft")&&(be=-Em),(Ce==="d"||Ce==="arrowright")&&(be=Em),be!==0&&h(be),re.key===" "&&y();return}d||((Ce==="e"||re.key===" ")&&X&&(re.preventDefault(),a(X.id,X.type)),Ce==="f"&&(re.preventDefault(),ee()))},ne=re=>{$[re.key.toLowerCase()]=!1};return window.addEventListener("keydown",j),window.addEventListener("keyup",ne),ue.current=requestAnimationFrame(le),()=>{window.removeEventListener("keydown",j),window.removeEventListener("keyup",ne),ue.current&&cancelAnimationFrame(ue.current)}},[le,X,a,ee,d,g,h,y]),{position:_,direction:H,isMoving:F,closestInteractive:X}},d0=({position:n,direction:e,isMoving:l,isInvincible:a})=>{const c={down:"face-down",up:"face-up",left:"face-left",right:"face-right"};return E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
      .player-sprite {
        width: 40px;
        height: 48px;
        transition: transform 0.1s linear;
      }
      .player-body {
        position: absolute;
        bottom: 0;
        left: 5px;
        width: 30px;
        height: 35px;
        background-color: #4A90E2; /* Traveler's Blue Tunic */
        border-radius: 10px 10px 4px 4px;
        border: 2px solid #3666A3;
      }
      .player-head {
        position: absolute;
        top: 0;
        left: 8px;
        width: 24px;
        height: 24px;
        background-color: #F8D4AB; /* Skin Tone */
        border-radius: 50%;
        border: 2px solid #D9A477;
      }
      .player-eyes {
        position: absolute;
        width: 4px;
        height: 4px;
        background-color: #222;
        border-radius: 50%;
        transition: all 0.1s;
      }
      .face-down .player-eyes { top: 12px; left: 9px; }
      .face-up .player-eyes { top: 6px; left: 9px; }
      .face-left .player-eyes { top: 10px; left: 4px; }
      .face-right .player-eyes { top: 10px; left: 14px; }
      
      .moving {
        animation: walk-bob 0.4s infinite;
      }

      .invincible {
        animation: blink 1.5s linear infinite;
      }

      @keyframes walk-bob {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-3px); }
      }
      @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.3; }
      }
    `}),E.jsxs("div",{className:`player-sprite absolute ${c[e]} ${l?"moving":""} ${a?"invincible":""}`,style:{left:n.x,top:n.y,willChange:"transform"},"aria-label":"Player character",children:[E.jsx("div",{className:"player-body"}),E.jsx("div",{className:"player-head",children:E.jsx("div",{className:"player-eyes"})})]})]})},Wl=({name:n,showPrompt:e,onClick:l})=>E.jsxs("div",{onClick:l,className:"flex flex-col items-center cursor-pointer group relative","aria-label":`Talk to ${n}`,children:[e&&E.jsx("div",{className:"absolute -top-10 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-lg animate-bounce",children:"E"}),E.jsx("div",{className:"w-24 h-24 bg-blue-300 rounded-full p-4 flex items-center justify-center border-4 border-blue-500 shadow-lg transform transition-transform group-hover:scale-110",children:E.jsx("span",{className:"text-blue-900 font-bold text-3xl",children:"?"})}),E.jsx("span",{className:"mt-2 bg-black bg-opacity-50 text-white text-lg font-semibold px-3 py-1 rounded-md",children:n})]}),_m={article_imp:{body:"#D0021B",border:"#8B0000",horn:"#555"},tense_terror:{body:"#4A00E0",border:"#2A0080",horn:"#DDD"}},m0=({status:n,direction:e,type:l})=>{const a=`status-${n}`,c=e==="left"?"scale-x-[-1]":"",d=_m[l]||_m.article_imp;return E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
      .enemy-sprite {
        width: 44px;
        height: 44px;
        transition: opacity 0.5s ease-out, transform 0.5s ease-out;
      }
      .enemy-body {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: 3px solid;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .enemy-eyes {
        width: 60%;
        height: 15px;
        background-color: #FFC107;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: space-around;
        overflow: hidden;
      }
      .enemy-pupil {
        width: 8px;
        height: 8px;
        background-color: black;
        border-radius: 50%;
      }
      .enemy-horns {
        position: absolute;
        top: -8px;
        width: 8px;
        height: 12px;
        border-radius: 4px 4px 0 0;
      }
      .horn-left { left: 8px; }
      .horn-right { right: 8px; }

      .status-chasing .enemy-body {
        animation: chase-pulse 0.5s infinite;
      }

      .status-defeated {
        opacity: 0;
        transform: scale(0.5) rotate(720deg);
      }
      
      @keyframes chase-pulse {
        50% { transform: scale(1.1); }
      }
    `}),E.jsx("div",{className:`enemy-sprite relative ${a}`,children:E.jsxs("div",{className:`enemy-body transform ${c}`,style:{backgroundColor:d.body,borderColor:d.border},children:[E.jsx("div",{className:"enemy-horns horn-left",style:{backgroundColor:d.horn}}),E.jsx("div",{className:"enemy-horns horn-right",style:{backgroundColor:d.horn}}),E.jsxs("div",{className:"enemy-eyes",children:[E.jsx("div",{className:"enemy-pupil"}),E.jsx("div",{className:"enemy-pupil"})]})]})})]})},p0={apple:"",book:"",hat:"",map:"",key:"",fire_rune:"",lava_stone:"",obsidian_shard:"",magma_core:""},g0=({itemName:n,showPrompt:e})=>{const l=p0[n]||"";return E.jsxs("div",{className:"flex flex-col items-center group relative","aria-label":`Collect ${n}`,children:[e&&E.jsx("div",{className:"absolute -top-10 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-lg animate-bounce",children:"E"}),E.jsx("div",{className:"w-16 h-16 bg-yellow-200 rounded-full p-2 flex items-center justify-center border-4 border-yellow-400 shadow-md transform transition-transform group-hover:scale-110",children:E.jsx("span",{className:"text-4xl",children:l})}),E.jsx("span",{className:"mt-2 bg-black bg-opacity-50 text-white font-medium px-2 py-1 rounded-md capitalize",children:n})]})},Am=({showPrompt:n})=>E.jsxs("div",{className:"flex flex-col items-center group relative","aria-label":"Read Guiding Stone",style:{width:80,height:80},children:[n&&E.jsx("div",{className:"absolute -top-10 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-lg animate-bounce z-10",children:"E"}),E.jsxs("div",{className:"w-16 h-16 bg-slate-500 rounded-lg p-2 flex items-center justify-center border-4 border-slate-700 shadow-md transform transition-transform group-hover:scale-110 relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-black/10"}),E.jsx("span",{className:"text-4xl text-yellow-300 animate-pulse font-bold",children:"?"})]}),E.jsx("div",{className:"mt-2 bg-black bg-opacity-50 text-white font-medium px-2 py-1 rounded-md text-sm",children:"Guiding Stone"})]}),Mm=({showPrompt:n})=>E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
        @keyframes rotate-portal {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse-portal-glow {
          0%, 100% { box-shadow: 0 0 20px 5px #a855f7, inset 0 0 15px 3px #c084fc; opacity: 0.9; }
          50% { box-shadow: 0 0 30px 10px #a855f7, inset 0 0 20px 5px #c084fc; opacity: 1; }
        }
        @keyframes swirl-particles {
          from { transform: rotate(0deg) scale(1); opacity: 1; }
          to { transform: rotate(360deg) scale(0); opacity: 0; }
        }
        .portal-container {
          width: 80px;
          height: 100px;
        }
        .portal-vortex {
          position: absolute;
          inset: 0;
          background: radial-gradient(circle, #3b0764 0%, #1e1b4b 60%);
          border-radius: 50% / 60%;
          animation: pulse-portal-glow 3s ease-in-out infinite;
        }
        .portal-ring {
          position: absolute;
          inset: -8px;
          border: 4px solid #c084fc;
          border-radius: 50% / 60%;
          animation: rotate-portal 10s linear infinite;
        }
        .portal-particle {
          position: absolute;
          width: 4px;
          height: 4px;
          background: #f0abfc;
          border-radius: 50%;
          top: 50%;
          left: 50%;
          transform-origin: 0 0;
        }
      `}),E.jsxs("div",{className:"flex flex-col items-center group relative portal-container","aria-label":"Enter Portal",children:[n&&E.jsx("div",{className:"absolute -top-10 bg-white text-gray-800 font-bold px-3 py-1 rounded-full shadow-lg animate-bounce z-10",children:"E"}),E.jsxs("div",{className:"w-full h-full relative cursor-pointer group",children:[E.jsx("div",{className:"portal-vortex"}),E.jsx("div",{className:"portal-ring"}),Array.from({length:15}).map((e,l)=>{const a=l*24,c=2+Math.random()*3,d=Math.random()*c;return E.jsx("div",{className:"portal-particle",style:{transform:`rotate(${a}deg) translateX(35px)`,animation:`swirl-particles ${c}s linear infinite`,animationDelay:`${d}s`}},l)})]})]})]}),h0=({pos:n})=>E.jsx("div",{className:"absolute w-4 h-4 bg-cyan-300 rounded-full",style:{left:n.x-8,top:n.y-8,boxShadow:"0 0 15px 5px rgba(0, 255, 255, 0.7)",willChange:"transform"},"aria-hidden":"true"}),y0=({angle:n})=>E.jsxs("div",{className:"absolute top-1/2 left-1/2 w-32 h-2 origin-left -translate-y-1/2",style:{transform:`rotate(${n}deg)`,willChange:"transform"},children:[E.jsx("div",{className:"w-full h-full bg-yellow-300/70 rounded-full shadow-[0_0_15px_rgba(253,249,156,0.9)]"}),E.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2",style:{width:0,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent",borderLeft:"16px solid rgb(253 224 71)",transform:"translateX(100%)"}})]}),v0=({pos:n})=>E.jsxs(E.Fragment,{children:[E.jsx("style",{children:`
        @keyframes ko-effect {
          0% { transform: scale(0.5) translateY(10px); opacity: 0; }
          40% { transform: scale(1.2) translateY(0); opacity: 1; }
          60% { transform: scale(1) translateY(0); opacity: 1; }
          100% { transform: scale(1) translateY(-20px); opacity: 0; }
        }
        .animate-ko {
          animation: ko-effect 1.5s ease-out forwards;
          text-shadow: 0 0 5px #000, 0 0 10px #000, 0 0 15px #000;
        }
      `}),E.jsx("div",{className:"absolute text-5xl font-black text-yellow-300 animate-ko",style:{left:n.x,top:n.y,transform:"translate(-50%, -50%)",zIndex:20,pointerEvents:"none"},children:"K.O.!"})]}),Rm={noun_meadows:{bg:"#6ABE39",wall:"#a1662f"},procedural_gauntlet:{bg:"#4a044e",wall:"#38023b"},meadows:{bg:"#6ABE39",wall:"#a1662f"},volcanoes:{bg:"#4d1818",wall:"#3d1010"},verb_volcanoes:{bg:"#4d1818",wall:"#3d1010"},adjective_isles:{bg:"bg-cyan-200",wall:"#a1662f"},tense_tangled_forest:{bg:"bg-slate-800",wall:"#a1662f"},hub_main:{bg:"bg-amber-100",wall:"#a1662f"},well_of_words:{bg:"bg-amber-100",wall:"#a1662f"},endless_tower:{bg:"bg-amber-100",wall:"#a1662f"},collection_screen:{bg:"bg-amber-100",wall:"#a1662f"}},T0=1,C0=1.8,In={width:44,height:44},bm=15,Nm=8,ki={id:"portal_gate",x:10,y:1},Kr=({children:n,location:e,className:l="",map:a,gameState:c,onInteract:d,onPlayerDamage:g,onCombatStart:h,onAim:y,onFire:p,onProjectileHit:v})=>{var Ce,be,he,B,Q,ie;const C="npc"in a,_=C?a.theme:e,b=Rm[_]||Rm.noun_meadows,H=C?a.playerSpawn:a.playerStart,k=C?a.enemies:(Ce=c.worldProgress.noun_meadows)==null?void 0:Ce.enemies,F=C?a.questItems:(be=c.worldProgress.noun_meadows)==null?void 0:be.questItems,[Z,X]=fe.useState([]),[W,$]=fe.useState(c.activeProjectiles),J=fe.useRef(null);fe.useEffect(()=>{k&&X(k.filter(K=>K.status!=="defeated"))},[k]),fe.useEffect(()=>{$(c.activeProjectiles)},[c.activeProjectiles]);const ue=fe.useMemo(()=>{var A,w;let K=[];const S=C&&((A=c.proceduralQuest)==null?void 0:A.isComplete);if(C){const D=a;if(K.push({id:D.npc.name,type:"npc",pos:{x:D.npc.position.x*D.TILE_SIZE,y:D.npc.position.y*D.TILE_SIZE}}),K.push({id:D.guidingStone.lessonId,type:"guiding_stone",pos:{x:D.guidingStone.position.x*D.TILE_SIZE,y:D.guidingStone.position.y*D.TILE_SIZE}}),K.push(...(F==null?void 0:F.map(L=>({...L,type:"quest_item"})))||[]),S){const L=D.exitPosition;K.push({id:"gauntlet_exit_portal",type:"portal",pos:{x:L.x*D.TILE_SIZE,y:L.y*D.TILE_SIZE}})}}else{const D=a.interactives;K.push(...D.map(L=>({...L,pos:{x:L.x*a.TILE_SIZE,y:L.y*a.TILE_SIZE}}))),K.push(...(F==null?void 0:F.map(L=>({...L,type:"quest_item"})))||[]),e==="noun_meadows"&&((w=c.worldProgress.noun_meadows)!=null&&w.isPortalSpawned)&&K.push({id:ki.id,type:"portal",pos:{x:ki.x*a.TILE_SIZE,y:ki.y*a.TILE_SIZE}})}return K},[a,F,(he=c.worldProgress.noun_meadows)==null?void 0:he.isPortalSpawned,(B=c.proceduralQuest)==null?void 0:B.isComplete,e,C]),{position:ee,direction:Ee,isMoving:le,closestInteractive:j}=f0(a,ue,Z,d,h,c.isGamePaused||c.isAiming,c.isAiming,y,()=>p(ee),H),ne=fe.useCallback((K,S)=>{const A=Math.floor(K/a.TILE_SIZE),w=Math.floor(S/a.TILE_SIZE);return w<0||w>=a.layout.length||A<0||A>=a.layout[0].length?!0:a.layout[w][A]===1},[a.layout,a.TILE_SIZE]),re=fe.useCallback(()=>{if(!(c.isGamePaused||c.isAiming||c.activeCombat.isActive||c.activePuzzle.isActive||c.activeTimePuzzle.isActive||c.activeLesson!==null)){const S={x:ee.x+Zl/2,y:ee.y+$l/2};X(A=>A.map(w=>{if(w.status==="defeated")return w;let{x:D,y:L}=w.position,V=w.status,q=w.direction;if(Math.hypot(S.x-(D+In.width/2),S.y-(L+In.height/2))<250?V="chasing":V="patrolling",V==="patrolling"){const He=T0;q==="right"?(D+=He,D>w.startPos.x+w.patrolRange&&(q="left")):(D-=He,D<w.startPos.x-w.patrolRange&&(q="right"))}else{const He=C0,_t=Math.atan2(S.y-(L+In.height/2),S.x-(D+In.width/2));D+=Math.cos(_t)*He,L+=Math.sin(_t)*He,q=S.x<D?"left":"right"}let Ae=w.vx*.8,qe=w.vy*.8;if(Math.abs(Ae)<.1&&(Ae=0),Math.abs(qe)<.1&&(qe=0),D+=Ae,L+=qe,!c.isPlayerInvincible&&D<ee.x+Zl&&D+In.width>ee.x&&L<ee.y+$l&&L+In.height>ee.y){g();const He=Math.atan2(L-ee.y,D-ee.x);Ae=Math.cos(He)*bm,qe=Math.sin(He)*bm}return{...w,position:{x:D,y:L},status:V,direction:q,vx:Ae,vy:qe}})),$(A=>A.map(D=>{const L={x:D.pos.x+Math.cos(D.angle*Math.PI/180)*Nm,y:D.pos.y+Math.sin(D.angle*Math.PI/180)*Nm};if(ne(L.x,L.y))return v(D.id,null),null;let V=null;for(const q of Z)if(L.x>q.position.x&&L.x<q.position.x+In.width&&L.y>q.position.y&&L.y<q.position.y+In.height){V=q;break}return V?(v(D.id,V.id),null):{...D,pos:L}}).filter(Boolean))}J.current=requestAnimationFrame(re)},[c.isGamePaused,c.isAiming,c.isPlayerInvincible,c.activeCombat.isActive,c.activePuzzle.isActive,c.activeTimePuzzle.isActive,c.activeLesson,ee,g,v,ne,Z]);return fe.useEffect(()=>(J.current=requestAnimationFrame(re),()=>{J.current&&cancelAnimationFrame(J.current)}),[re]),E.jsx("main",{className:`relative w-full h-screen overflow-hidden pt-16 transition-all duration-1000 ${l}`,style:{backgroundColor:b.bg},children:E.jsxs("div",{className:"relative",style:{width:a.layout[0].length*a.TILE_SIZE,height:a.layout.length*a.TILE_SIZE,transform:`translate(${-ee.x+window.innerWidth/2-Zl/2}px, ${-ee.y+window.innerHeight/2-$l/2}px)`},children:[n,a.layout.map((K,S)=>K.map((A,w)=>A!==0&&E.jsx("div",{className:"absolute",style:{left:w*a.TILE_SIZE,top:S*a.TILE_SIZE,width:a.TILE_SIZE,height:a.TILE_SIZE,backgroundColor:b.wall,boxShadow:"inset 0 0 5px rgba(0,0,0,0.3)"}},`${w}-${S}`))),C?E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{position:"absolute",left:a.npc.position.x*a.TILE_SIZE,top:a.npc.position.y*a.TILE_SIZE,zIndex:1},children:E.jsx(Wl,{name:a.npc.name,showPrompt:(j==null?void 0:j.id)===a.npc.name})}),E.jsx("div",{style:{position:"absolute",left:a.guidingStone.position.x*a.TILE_SIZE,top:a.guidingStone.position.y*a.TILE_SIZE,zIndex:1},children:E.jsx(Am,{lessonId:a.guidingStone.lessonId,showPrompt:(j==null?void 0:j.id)===a.guidingStone.lessonId})}),((Q=c.proceduralQuest)==null?void 0:Q.isComplete)&&E.jsx("div",{style:{position:"absolute",left:a.exitPosition.x*a.TILE_SIZE,top:a.exitPosition.y*a.TILE_SIZE,zIndex:1},children:E.jsx(Mm,{showPrompt:(j==null?void 0:j.id)==="gauntlet_exit_portal"})})]}):E.jsxs(E.Fragment,{children:[a.interactives.filter(K=>K.type!=="quest_item").map(K=>{const S={position:"absolute",left:K.x*a.TILE_SIZE,top:K.y*a.TILE_SIZE,zIndex:1};return K.type==="npc"?E.jsx("div",{style:S,children:E.jsx(Wl,{name:K.id,showPrompt:(j==null?void 0:j.id)===K.id})},K.id):K.type==="guiding_stone"?E.jsx("div",{style:S,children:E.jsx(Am,{lessonId:K.lessonId,showPrompt:(j==null?void 0:j.id)===K.id})},K.id):null}),e==="noun_meadows"&&((ie=c.worldProgress.noun_meadows)==null?void 0:ie.isPortalSpawned)&&E.jsx("div",{style:{position:"absolute",left:ki.x*a.TILE_SIZE,top:ki.y*a.TILE_SIZE,zIndex:1},children:E.jsx(Mm,{showPrompt:(j==null?void 0:j.id)===ki.id})})]}),F==null?void 0:F.map(K=>!K.isCollected&&E.jsx("div",{style:{position:"absolute",left:K.pos.x,top:K.pos.y,zIndex:1},children:E.jsx(g0,{itemName:K.name,showPrompt:(j==null?void 0:j.id)===K.id})},K.id)),Z.map(K=>E.jsx("div",{style:{position:"absolute",left:K.position.x,top:K.position.y,zIndex:1},children:E.jsx(m0,{status:K.status,direction:K.direction,type:K.type})},K.id)),W.map(K=>E.jsx(h0,{pos:K.pos},K.id)),c.koEffects.map(K=>E.jsx(v0,{pos:K.pos},K.id)),E.jsxs("div",{style:{position:"absolute",left:ee.x,top:ee.y,width:Zl,height:$l,zIndex:10},children:[E.jsx(d0,{position:{x:0,y:0},direction:Ee,isMoving:le,isInvincible:c.isPlayerInvincible}),c.isAiming&&E.jsx(y0,{angle:c.aimingAngle})]})]})})},S0=({message:n,onClose:e,choices:l})=>{const[a,c]=fe.useState(""),[d,g]=fe.useState(!1);return fe.useEffect(()=>{if(c(""),g(!0),n){let h=0;const y=setInterval(()=>{c(p=>p+n.charAt(h)),h++,h>=n.length&&(clearInterval(y),g(!1))},30);return()=>clearInterval(y)}},[n]),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 z-40",children:E.jsxs("div",{className:"bg-white bg-opacity-90 backdrop-blur-sm border-2 border-gray-800 p-6 rounded-lg shadow-2xl max-w-3xl mx-auto text-gray-900",children:[E.jsx("p",{className:"text-lg font-serif min-h-[4.5rem]",children:a}),e&&!l&&E.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Close dialogue",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l&&!d&&E.jsx("div",{className:"border-t border-gray-300 mt-4 pt-4 flex justify-end space-x-3",children:l.map(h=>E.jsx("button",{onClick:h.onSelect,className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-6 rounded-lg transition-colors shadow-md text-base",children:h.text},h.text))})]})})},x0=({combatState:n,onResolve:e,isFetchingQuiz:l})=>{if(l||!n.challenge)return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:E.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-400 rounded-xl p-8 shadow-2xl text-center text-white w-full max-w-md",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300 animate-pulse",children:"Preparing challenge..."}),E.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent border-blue-400 rounded-full animate-spin mx-auto"})]})});const a=g=>{e(g)},c=n.challenge,d=()=>{if(c.type==="article"){const{sentence:g,options:h}=c,y=g.split("___");return E.jsxs(E.Fragment,{children:[E.jsxs("p",{className:"text-3xl lg:text-4xl mb-6",children:[y[0],E.jsx("span",{className:"text-4xl lg:text-5xl font-bold mx-2 text-cyan-400",children:"___"}),y[1]]}),E.jsx("div",{className:"flex justify-center space-x-4",children:h.map(p=>E.jsx("button",{onClick:()=>a(p),className:"px-8 py-4 bg-blue-600 text-white font-bold text-2xl rounded-lg hover:bg-blue-500 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-400",children:p},p))})]})}if(c.type==="verb_tense"){const{sentence:g,options:h}=c,y=g.split("___");return E.jsxs(E.Fragment,{children:[E.jsxs("p",{className:"text-3xl mb-6",children:[y[0],E.jsx("span",{className:"text-4xl font-bold mx-2 text-cyan-400",children:"___"}),y[1]]}),E.jsx("div",{className:"flex justify-center space-x-4",children:h.map(p=>E.jsx("button",{onClick:()=>a(p),className:"px-8 py-4 bg-fuchsia-600 text-white font-bold text-2xl rounded-lg hover:bg-fuchsia-500 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-fuchsia-400",children:p},p))})]})}return null};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:E.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-400 rounded-xl p-8 shadow-2xl text-center text-white w-full max-w-lg",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:c.type==="article"?"Article Attack!":"Tense Terror!"}),d()]})})},E0=({unlockedWorlds:n,onTravel:e,worldProgress:l,onResetRequest:a})=>{const[c,d]=fe.useState(null),g=[{id:"noun_meadows",name:"The Noun Meadows",description:"A peaceful land of items and articles."},{id:"verb_volcanoes",name:"The Verb Volcanoes",description:"A fiery realm of action and tense choices."},{id:"adjective_isles",name:"The Adjective Isles",description:"A colorful archipelago of descriptive puzzles."},{id:"tense_tangled_forest",name:"Tense-Tangled Forest",description:"A misty wood where time itself is broken."}];return E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-gray-900 p-4 pt-20",children:[E.jsx("h1",{className:"text-5xl font-bold text-yellow-400 mb-2",children:"World Map"}),E.jsx("p",{className:"text-gray-300 mb-8",children:"Select your destination, Traveler."}),E.jsx("div",{className:"w-full max-w-6xl mb-8",children:E.jsxs("button",{onClick:()=>e("hub_main"),className:"w-full p-6 rounded-xl text-center border-4 transition-all duration-300 transform bg-yellow-600 border-yellow-400 hover:bg-yellow-500 hover:scale-105 cursor-pointer shadow-lg",children:[E.jsx("h2",{className:"text-3xl font-bold text-white mb-1",children:"The Traveler's Hub"}),E.jsx("p",{className:"text-yellow-200",children:"Your central base for all adventures."})]})}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-6xl",children:g.map(h=>{var C;const y=n.includes(h.id),p=((C=l[h.id])==null?void 0:C.status)==="completed",v=()=>{y&&(p?d(h.id):e(h.id))};return E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:v,disabled:!y,className:`p-6 rounded-xl text-left border-4 transition-all duration-300 transform h-full w-full flex flex-col justify-between
                  ${y?"bg-gray-800 border-purple-500 hover:border-yellow-400 hover:scale-105 cursor-pointer":"bg-gray-700 border-gray-600 opacity-50 cursor-not-allowed"}`,children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:h.name}),E.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:h.description})]}),!y&&E.jsx("span",{className:"font-bold text-red-400 self-start mt-auto",children:"LOCKED"}),p&&E.jsx("div",{className:"absolute top-2 right-2 text-2xl text-yellow-300",title:"Quest Completed!",children:""})]}),p&&c===h.id&&E.jsxs("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm rounded-xl flex flex-col items-center justify-center space-y-3 p-4 z-10",onClick:_=>_.stopPropagation(),children:[E.jsx("button",{onClick:()=>{e(h.id),d(null)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Visit World"}),E.jsx("button",{onClick:()=>{a(h.id),d(null)},className:"w-full bg-red-700 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Replay Quest"}),E.jsx("button",{onClick:()=>d(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg transition-colors mt-2",children:"Cancel"})]})]},h.id)})})]})},_0=({objectName:n,icon:e,onClick:l,isPuzzleSolved:a,isTarget:c})=>{const d=()=>{a||l()},g=c?"animate-pulse ring-4 ring-yellow-300 ring-offset-4 ring-offset-cyan-200":"";return E.jsxs("div",{onClick:d,className:`flex flex-col items-center transition-all duration-300 ${a?"opacity-50 cursor-default":"cursor-pointer group"}`,"aria-label":a?`${n} (puzzle solved)`:`Interact with ${n}`,children:[E.jsx("div",{className:`w-20 h-20 bg-yellow-200 rounded-lg p-2 flex items-center justify-center border-4 shadow-md transform transition-transform 
          ${a?"border-green-500":`border-yellow-400 group-hover:scale-110 ${g}`}`,children:E.jsx("span",{className:`text-5xl transition-transform duration-500 ${a?"saturate-100":"saturate-0"}`,children:e})}),E.jsx("span",{className:"mt-2 bg-black bg-opacity-50 text-white font-medium px-2 py-1 rounded-md",children:a?"Restored!":n})]})},A0=({puzzleState:n,onSelectAdjective:e,onSubmit:l,onClose:a})=>{const{targetObject:c,selectedAdjectives:d,availableAdjectives:g,requiredAdjectives:h}=n,y=h.length;return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:E.jsxs("div",{className:"relative bg-white border-2 border-cyan-400 rounded-xl p-8 shadow-2xl text-center text-gray-800 w-full max-w-2xl transform",children:[E.jsx("button",{onClick:a,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-800 transition-colors","aria-label":"Close puzzle",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2 text-cyan-700",children:"A Splash of Color!"}),E.jsxs("p",{className:"text-xl mb-4",children:["Describe the ",E.jsx("span",{className:"font-bold text-purple-600",children:c}),"."]}),E.jsx("div",{className:"bg-gray-100 rounded-lg p-3 my-4 min-h-[5rem] flex items-center justify-center flex-wrap gap-4",children:Array.from({length:y}).map((p,v)=>{const C=d[v];return E.jsx("div",{className:"w-32 h-12 flex items-center justify-center border-2 border-dashed border-gray-400 rounded-md bg-white",children:C?E.jsx("span",{className:"bg-blue-500 text-white font-semibold px-3 py-1 rounded-full text-lg",children:C}):E.jsx("span",{className:"text-gray-400"})},v)})}),E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6",children:g.map(p=>{const v=d.includes(p);return E.jsx("button",{onClick:()=>e(p),disabled:!v&&d.length>=y,className:`px-4 py-3 font-bold text-lg rounded-lg transform transition-all duration-200 focus:outline-none focus:ring-4
                  ${v?"bg-blue-500 text-white ring-blue-300 scale-105":"bg-gray-200 text-gray-700 hover:bg-gray-300 ring-gray-400 disabled:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:p},p)})}),E.jsx("button",{onClick:l,disabled:d.length===0,className:"w-full px-8 py-4 bg-green-600 text-white font-bold text-2xl rounded-lg hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-green-400",children:"Submit Description"})]})})},M0=({puzzleState:n,onSelectTense:e,onClose:l})=>{if(!n.challenge)return null;const{prompt:a,challenge:c}=n;return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4",children:E.jsxs("div",{className:"relative bg-scroll-pattern bg-yellow-50 border-4 border-yellow-800 rounded-xl p-8 shadow-2xl text-center text-gray-800 w-full max-w-2xl transform",children:[E.jsx("style",{children:`
          .bg-scroll-pattern {
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABOSURBVFhH7c5BDQAwEASh+je9N2gD42gC3TIGNnJk/Xp/7QghhBBCCCGEEEIIIYQQQgjpp1xJCCGEEEIIIYQQQgghhBBCCHkGAHGU7Bv8Hn3HAAAAAElFTkSuQmCC');
            box-shadow: inset 0 0 20px #000;
          }
        `}),E.jsx("button",{onClick:l,className:"absolute top-3 right-3 text-yellow-900 hover:text-black transition-colors","aria-label":"Close puzzle",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("h2",{className:"text-2xl font-bold mb-2 text-yellow-900 font-serif",children:"A Rift in Time..."}),E.jsxs("p",{className:"text-lg italic mb-6 text-gray-600",children:['"',a,'"']}),E.jsxs("div",{className:"bg-white/50 rounded-lg p-4 my-6 text-2xl font-serif",children:[c.subject," ",E.jsx("span",{className:"text-4xl font-bold mx-2 text-purple-700",children:"[ _____ ]"})," ",c.complement]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["past","present","future"].map(d=>E.jsxs("button",{onClick:()=>e(d),className:"px-4 py-3 font-bold text-xl rounded-lg transform transition-all duration-200 focus:outline-none focus:ring-4 text-white bg-purple-700 hover:bg-purple-600 ring-purple-400",children:[E.jsx("span",{className:"block",children:c.verbOptions[d]}),E.jsx("span",{className:"text-sm font-normal uppercase opacity-75",children:d})]},d))})]})})},R0={"bridge-01":{broken:{icon:"",name:"Collapsed Bridge"},whole:{icon:"",name:"Sturdy Bridge"}},"plant-01":{seed:{icon:"",name:"Dormant Seed"},grown:{icon:"",name:"Great Tree"}},"crystal-01":{phasing:{icon:"",name:"Phasing Crystal"},stable:{icon:"",name:"Stable Crystal"}}},b0=({id:n,currentState:e,onClick:l,isSolved:a})=>{var h;const c=((h=R0[n])==null?void 0:h[e])||{icon:"?",name:"Unknown Object"},d=n==="crystal-01"&&e==="phasing"?"animate-pulse":"",g=a?"opacity-50 cursor-default":"cursor-pointer group";return E.jsxs("div",{onClick:()=>!a&&l(),className:`flex flex-col items-center transition-all duration-300 ${g}`,"aria-label":a?`${c.name} (stabilized)`:`Interact with ${c.name}`,children:[E.jsx("div",{className:`w-24 h-24 bg-indigo-200 rounded-lg p-2 flex items-center justify-center border-4 shadow-md transform transition-transform 
        ${a?"border-green-500":"border-purple-400 group-hover:scale-110"} ${d}`,children:E.jsx("span",{className:"text-6xl",children:c.icon})}),E.jsx("span",{className:"mt-2 bg-black bg-opacity-50 text-white font-medium px-2 py-1 rounded-md",children:c.name})]})},N0={None:"","Book Owl":"","Grammar Gremlin":""},Ta=({onClick:n,title:e,description:l,icon:a})=>E.jsxs("button",{onClick:n,className:"w-full bg-slate-700 p-4 rounded-lg border-2 border-slate-600 hover:border-yellow-400 hover:bg-slate-600 transition-all text-left flex items-center space-x-4",children:[E.jsx("div",{className:"text-4xl",children:a}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-xl text-yellow-300",children:e}),E.jsx("p",{className:"text-slate-300",children:l})]})]}),w0=({onNavigate:n,collection:e,equippedOutfit:l,equippedCompanion:a})=>E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-slate-800 p-4 pt-20 text-white",children:[E.jsx("h1",{className:"text-5xl font-bold text-yellow-400 mb-4",children:"Traveler's Hub"}),E.jsx("p",{className:"text-gray-300 mb-10",children:"Your sanctuary, a place to rest and prepare."}),E.jsxs("div",{className:"w-full max-w-4xl grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"md:col-span-1 flex flex-col items-center justify-center bg-slate-700/50 rounded-lg p-6 border-2 border-slate-600",children:[E.jsxs("div",{className:"relative w-32 h-32 bg-blue-300 rounded-full flex items-center justify-center border-4 border-blue-500 shadow-lg mb-4",children:[E.jsx("span",{className:"text-blue-900 font-bold text-6xl",children:"T"}),E.jsx("div",{className:"absolute -bottom-2 -right-2 text-5xl",children:N0[a]||""})]}),E.jsx("h2",{className:"text-xl font-bold",children:l}),a!=="None"&&E.jsx("p",{className:"text-md text-cyan-300",children:a}),E.jsxs("div",{className:"mt-6 text-center",children:[E.jsx("h3",{className:"font-semibold text-yellow-400 border-b border-yellow-400/30 mb-2",children:"Decorations"}),E.jsx("div",{className:"text-slate-300",children:e.hubDecorations.length>0?e.hubDecorations.map(c=>E.jsxs("div",{children:["- ",c]},c)):E.jsx("div",{className:"italic text-slate-400",children:"None yet"})})]})]}),E.jsxs("div",{className:"md:col-span-2 flex flex-col space-y-4",children:[E.jsx(Ta,{onClick:()=>n("well_of_words"),title:"The Well of Words",description:"Spend Lingo Gems to draw new knowledge and items.",icon:""}),E.jsx(Ta,{onClick:()=>n("endless_tower"),title:"The Endless Tower",description:"Face daily challenges to earn rewards.",icon:""}),E.jsx(Ta,{onClick:()=>n("collection_screen"),title:"My Collection",description:"View your unlocked outfits, companions, and more.",icon:""}),E.jsx(Ta,{onClick:()=>n("map"),title:"Venture Out",description:"Return to the World Map to continue your quests.",icon:""})]})]})]}),D0={Common:"border-gray-400 bg-gray-700 text-white",Rare:"border-blue-400 bg-blue-800 text-white animate-pulse-slow",Epic:"border-purple-500 bg-purple-900 text-white animate-pulse-fast shadow-purple-500/50 shadow-lg"},I0=({results:n,onClose:e})=>E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4",onClick:e,children:E.jsxs("div",{className:"bg-slate-800 border-2 border-yellow-400 rounded-xl p-6 shadow-2xl text-center w-full max-w-3xl",onClick:l=>l.stopPropagation(),children:[E.jsx("h2",{className:"text-3xl font-bold mb-4 text-yellow-300",children:"Your Rewards!"}),E.jsx("div",{className:`grid gap-4 ${n.length>1?"grid-cols-2 md:grid-cols-3 lg:grid-cols-5":"grid-cols-1"}`,children:n.map((l,a)=>E.jsxs("div",{className:`p-4 rounded-lg border-2 flex flex-col justify-center items-center ${D0[l.rarity]}`,children:[E.jsx("div",{className:"font-bold text-lg",children:l.name}),E.jsx("div",{className:"text-sm font-semibold",children:l.rarity})]},a))}),E.jsx("button",{onClick:e,className:"mt-6 bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"Close"})]})}),U0=({gems:n,onDraw:e,onBack:l,results:a,onCloseResults:c})=>E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-slate-900 p-4 pt-20 text-white",children:[E.jsx("style",{children:`
            @keyframes pulse-slow { 50% { opacity: .7; } }
            .animate-pulse-slow { animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
            @keyframes pulse-fast { 50% { opacity: .8; } }
            .animate-pulse-fast { animation: pulse-fast 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        `}),a&&E.jsx(I0,{results:a,onClose:c}),E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-5xl font-bold text-cyan-300 mb-2",children:"The Well of Words"}),E.jsx("p",{className:"text-gray-300 mb-8 max-w-md",children:"Cast your Lingo Gems into the depths and see what knowledge bubbles to the surface."}),E.jsx("div",{className:"bg-slate-800 rounded-lg p-4 mb-8 inline-block shadow-lg",children:E.jsxs("span",{className:"text-2xl font-bold",children:["Your Gems: ",E.jsx("span",{className:"text-blue-400",children:n})]})})]}),E.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-6",children:[E.jsxs("button",{onClick:()=>e(1),className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 px-8 rounded-lg transition-colors shadow-md transform hover:scale-105",children:[E.jsx("span",{className:"text-xl",children:"Draw 1 Word"}),E.jsx("span",{className:"block text-sm opacity-80",children:"Cost: 10 Gems"})]}),E.jsxs("button",{onClick:()=>e(10),className:"bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 px-8 rounded-lg transition-colors shadow-md transform hover:scale-105",children:[E.jsx("span",{className:"text-xl",children:"Draw 10 Words"}),E.jsx("span",{className:"block text-sm opacity-80",children:"Cost: 100 Gems"})]})]}),E.jsx("button",{onClick:l,className:"absolute top-20 left-4 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:" Back to Hub"})]}),L0=({onBack:n,onStart:e,isAvailable:l})=>E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-gray-800 p-4 pt-20 text-white",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-5xl font-bold text-red-400 mb-2",children:"The Endless Tower"}),E.jsx("p",{className:"text-gray-300 mb-12 max-w-lg",children:"A new challenge forms each day. Test your mastery of language and climb as high as you can."})]}),E.jsx("div",{className:"w-full max-w-md bg-gray-900 rounded-xl shadow-2xl p-8 border-2 border-red-500/50",children:l?E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:"Today's Challenge Awaits!"}),E.jsx("p",{className:"text-gray-400 mb-6",children:"Complete a series of trials to earn valuable Lingo Gems."}),E.jsx("button",{onClick:e,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-6 rounded-lg text-xl transition-colors transform hover:scale-105",children:"Begin Trial"})]}):E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Challenges Completed!"}),E.jsx("p",{className:"text-gray-400",children:"You have proven your skills for today. The tower's energies will realign tomorrow, presenting new trials."}),E.jsx("p",{className:"mt-4 font-semibold text-lg",children:"Come back tomorrow!"})]})}),E.jsx("button",{onClick:n,className:"absolute top-20 left-4 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:" Back to Hub"})]}),P0=({collection:n,onBack:e,onEquip:l,equippedOutfit:a,equippedCompanion:c})=>{const[d,g]=fe.useState("Outfits"),h=()=>{let p=[],v,C;switch(d){case"Outfits":p=n.outfits,v=a,C="outfit";break;case"Companions":p=n.companions,v=c,C="companion";break;case"Decorations":p=n.hubDecorations;break;case"Sages":p=n.sages;break}return p.length===0?E.jsx("div",{className:"text-center italic text-gray-400 mt-8",children:"Nothing collected in this category yet."}):E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map(_=>{const b=_===v;return E.jsxs("div",{className:`p-4 rounded-lg border-2 text-center transition-all ${b?"bg-green-800 border-green-400":"bg-gray-700 border-gray-600"}`,children:[E.jsx("p",{className:"font-bold text-lg",children:_}),b&&E.jsx("p",{className:"text-sm text-green-300 font-semibold",children:"Equipped"}),C&&!b&&E.jsx("button",{onClick:()=>l(C,_),className:"mt-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-bold py-1 px-3 rounded-md",children:"Equip"})]},_)})})},y=["Outfits","Companions","Decorations","Sages"];return E.jsxs("div",{className:"w-full min-h-screen bg-gray-900 p-4 pt-24 text-white",children:[E.jsx("button",{onClick:e,className:"absolute top-20 left-4 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors z-10",children:" Back to Hub"}),E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("h1",{className:"text-5xl font-bold text-yellow-300",children:"My Collection"}),E.jsx("p",{className:"text-gray-400",children:"A record of your travels and treasures."})]}),E.jsx("div",{className:"border-b border-gray-700 mb-6",children:E.jsx("nav",{className:"-mb-px flex space-x-6 justify-center",children:y.map(p=>E.jsx("button",{onClick:()=>g(p),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg transition-colors
                                ${d===p?"border-yellow-400 text-yellow-300":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-500"}`,children:p},p))})}),E.jsx("div",{className:"bg-gray-800/50 p-6 rounded-lg",children:h()})]})]})},q0=({onRetry:n})=>E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex flex-col justify-center items-center z-[100] text-white",children:[E.jsx("h1",{className:"text-6xl font-bold text-red-500 mb-4 animate-pulse",children:"You Were Silenced!"}),E.jsx("p",{className:"text-xl mb-8",children:"Your journey has come to a premature end."}),E.jsx("button",{onClick:n,className:"bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-bold py-3 px-8 rounded-lg text-2xl transition-colors transform hover:scale-105",children:"Try Again"})]}),G0=({message:n,detail:e,onConfirm:l,onCancel:a})=>E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-[100] text-white p-4","aria-modal":"true",role:"dialog",onClick:a,children:E.jsxs("div",{className:"bg-gray-800 border-2 border-yellow-400 rounded-xl p-8 shadow-2xl text-center w-full max-w-md transform transition-all",onClick:c=>c.stopPropagation(),children:[E.jsx("h2",{className:"text-2xl font-bold text-yellow-300 mb-3 capitalize",children:n}),E.jsx("p",{className:"text-gray-300 mb-6",children:e}),E.jsxs("div",{className:"flex justify-center space-x-4",children:[E.jsx("button",{onClick:a,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-8 rounded-lg transition-colors",children:"Cancel"}),E.jsx("button",{onClick:l,className:"bg-red-600 hover:bg-red-500 text-white font-bold py-2 px-8 rounded-lg transition-colors",children:"Confirm"})]})]})}),V0={orange:"",cat:"",idea:"",apple:"",book:"",hat:"",fox:"",adventure:"",owl:"",egg:"",house:"",car:"",tree:"",star:"",sun:"",moon:"",user:"",player:"",hero:"",monster:"",sword:"",shield:"",key:"",chest:"",game:"",world:"",hour:"",umbrella:"","ice cream":"",arrow:"",error:""},k0="",B0=({lessonData:n,isLoading:e,onClose:l,onCancel:a,onRefresh:c})=>{const d=h=>V0[h.toLowerCase().trim()]||k0,g=()=>e&&!n?E.jsxs("div",{className:"bg-stone-800 border-4 border-stone-600 rounded-xl p-8 shadow-2xl text-center text-white w-full max-w-md",children:[E.jsx("h2",{className:"text-3xl font-bold mb-4 text-yellow-300 font-serif animate-pulse",children:"A wise whisper is coming..."}),E.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent border-yellow-400 rounded-full animate-spin mx-auto mt-4"}),E.jsx("button",{onClick:a,className:"mt-6 px-6 py-2 bg-red-700 text-white font-bold text-lg rounded-lg hover:bg-red-600 transition-colors focus:outline-none focus:ring-4 focus:ring-red-500","aria-label":"Cancel loading",children:"Cancel"})]}):n?E.jsxs("div",{className:"relative bg-stone-800 border-4 border-stone-600 rounded-xl p-8 shadow-2xl text-white w-full max-w-2xl transform",role:"dialog","aria-modal":"true","aria-labelledby":"lesson-title",children:[e&&E.jsxs("div",{className:"absolute inset-0 bg-stone-900/70 backdrop-blur-sm flex flex-col justify-center items-center rounded-lg z-20",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent border-yellow-400 rounded-full animate-spin"}),E.jsx("p",{className:"mt-4 text-lg font-semibold text-yellow-300",children:"Refreshing wisdom..."})]}),E.jsx("h2",{id:"lesson-title",className:"text-3xl font-bold mb-4 text-yellow-300 text-center font-serif",children:n.title}),E.jsx("p",{className:"text-stone-200 text-lg mb-6 leading-relaxed text-center",children:n.explanation}),E.jsx("div",{className:"border-t-2 border-stone-600 my-6"}),E.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4 font-serif text-center",children:"Examples"}),E.jsx("div",{className:"space-y-4",children:n.examples.map((h,y)=>E.jsxs("div",{className:"flex items-center bg-stone-700/50 p-3 rounded-lg ring-1 ring-stone-600",children:[E.jsx("span",{className:"text-4xl mr-4",children:d(h.icon_name)}),E.jsx("code",{className:"text-xl font-medium text-cyan-300 tracking-wide",children:h.text})]},y))}),E.jsxs("div",{className:"mt-8 flex justify-center items-center space-x-4",children:[E.jsx("button",{onClick:l,className:"px-8 py-3 bg-gray-600 text-white font-bold text-xl rounded-lg hover:bg-gray-500 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-gray-400 shadow-lg","aria-label":"Close lesson",children:"Got It!"}),E.jsx("button",{onClick:c,disabled:e,className:"px-8 py-3 bg-yellow-600 text-white font-bold text-xl rounded-lg hover:bg-yellow-500 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-yellow-400 shadow-lg disabled:bg-yellow-800 disabled:cursor-not-allowed","aria-label":"Explain again",children:"Explain Again"})]})]}):null;return E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm flex justify-center items-center z-50 p-4 animate-fade-in",children:[E.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fade-in {
            animation: fade-in 0.3s ease-out forwards;
        }
       `}),g()]})},H0=48,z0=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1],[1,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1],[1,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,1,0,0,1],[1,0,0,0,0,1,0,0,0,0,0,0,1,0,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1],[1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1],[1,0,1,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,1],[1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1],[1,0,1,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1],[1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],O0=[{id:"Fitz",type:"npc",x:4,y:7},{id:"item-book",type:"quest_item",x:18,y:4,itemName:"book",guardianId:"imp2"},{id:"item-apple",type:"quest_item",x:17,y:3,itemName:"apple",guardianId:"imp1"},{id:"item-hat",type:"quest_item",x:2,y:11,itemName:"hat",guardianId:"imp3"},{id:"stone-1",type:"guiding_stone",x:5,y:3,lessonId:"articles_a_an"}],Y0=[{id:"imp1",type:"article_imp",x:16,y:4,patrolRange:2,challenge:{type:"article",itemName:"apple",sentence:"She is eating ___ apple.",options:["a","an","the"],correctAnswer:"an"}},{id:"imp2",type:"article_imp",x:15,y:4,patrolRange:2,challenge:{type:"article",itemName:"book",sentence:"He is reading ___ book.",options:["a","an","the"],correctAnswer:"a"}},{id:"imp3",type:"article_imp",x:3,y:10,patrolRange:2,challenge:{type:"article",itemName:"hat",sentence:"That is ___ nice hat.",options:["a","an","the"],correctAnswer:"a"}}],F0={x:2,y:2},Vt={TILE_SIZE:H0,layout:z0,interactives:O0,playerStart:F0,enemies:Y0};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let J0,Q0;function X0(){return{geminiUrl:J0,vertexUrl:Q0}}function K0(n,e,l,a){var c,d;if(!(n!=null&&n.baseUrl)){const g=X0();return e?(c=g.vertexUrl)!==null&&c!==void 0?c:l:(d=g.geminiUrl)!==null&&d!==void 0?d:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn{}function ae(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,l){for(let d=0;d<e.length-1;d++){const g=e[d];if(g.endsWith("[]")){const h=g.slice(0,-2);if(!(h in n))if(Array.isArray(l))n[h]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${g}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(l))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(d+1),l[p])}else for(const p of y)r(p,e.slice(d+1),l)}return}else if(g.endsWith("[0]")){const h=g.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];r(y[0],e.slice(d+1),l);return}(!n[g]||typeof n[g]!="object")&&(n[g]={}),n=n[g]}const a=e[e.length-1],c=n[a];if(c!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===c)return;if(typeof c=="object"&&typeof l=="object"&&c!==null&&l!==null)Object.assign(c,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else n[a]=l}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const a=e[l];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(g=>s(g,e.slice(l+1))):void 0}else return}else n=n[a]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $r(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wm||(wm={}));var Dm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Dm||(Dm={}));var oe;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(oe||(oe={}));var Im;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Im||(Im={}));var Um;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Um||(Um={}));var Lm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Lm||(Lm={}));var Pm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Pm||(Pm={}));var qm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(qm||(qm={}));var Gm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gm||(Gm={}));var Vm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vm||(Vm={}));var km;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(km||(km={}));var Bm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Bm||(Bm={}));var Hm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Hm||(Hm={}));var zm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zm||(zm={}));var Om;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Om||(Om={}));var Ym;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ym||(Ym={}));var Ma;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ma||(Ma={}));var Fm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fm||(Fm={}));var Wr;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wr||(Wr={}));var Jm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Jm||(Jm={}));var Qm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Qm||(Qm={}));var Xm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Xm||(Xm={}));var Km;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Km||(Km={}));var Zm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Zm||(Zm={}));var $m;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})($m||($m={}));var Wm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Wm||(Wm={}));var jm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(jm||(jm={}));var ep;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ep||(ep={}));var tp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(tp||(tp={}));var np;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(np||(np={}));var ip;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ip||(ip={}));var lp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(lp||(lp={}));var op;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(op||(op={}));var ap;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(ap||(ap={}));var sp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(sp||(sp={}));var rp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rp||(rp={}));var up;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(up||(up={}));var cp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(cp||(cp={}));var fp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fp||(fp={}));var dp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(dp||(dp={}));var mp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mp||(mp={}));var Bi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Bi||(Bi={}));class jr{constructor(e){const l={};for(const a of e.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class Kl{get text(){var e,l,a,c,d,g,h,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const _ of(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[b,H]of Object.entries(_))b!=="text"&&b!=="thought"&&(H!==null||H!==void 0)&&C.push(b);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,p+=_.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,l,a,c,d,g,h,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[_,b]of Object.entries(C))_!=="inlineData"&&(b!==null||b!==void 0)&&v.push(_);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,a,c,d,g,h,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,a,c,d,g,h,y,p;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,a,c,d,g,h,y,p;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(g=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class pp{}class gp{}class Z0{}class $0{}class hp{}class yp{}class vp{}class W0{}class Tp{}class Cp{}class Sp{}class xp{}class j0{}class ev{}class tv{}class Ep{}class nv{get text(){var e,l,a;let c="",d=!1;const g=[];for(const h of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,p]of Object.entries(h))y!=="text"&&y!=="thought"&&p!==null&&g.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,l,a;let c="";const d=[];for(const g of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(g))h!=="inlineData"&&y!==null&&d.push(h);g.inlineData&&typeof g.inlineData.data=="string"&&(c+=atob(g.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class Ra{_fromAPIResponse({apiResponse:e,isVertexAI:l}){const a=new Ra;if(a.name=e.name,a.metadata=e.metadata,a.done=e.done,a.error=e.error,l){const c=e.response;if(c){const d=new Tp,g=c.videos;d.generatedVideos=g==null?void 0:g.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?$r(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),d.raiMediaFilteredCount=c.raiMediaFilteredCount,d.raiMediaFilteredReasons=c.raiMediaFilteredReasons,a.response=d}}else{const c=e.response;if(c){const d=new Tp,g=c.generateVideoResponse,h=g==null?void 0:g.generatedSamples;d.generatedVideos=h==null?void 0:h.map(y=>{const p=y.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?$r(p==null?void 0:p.encodedVideo):void 0,mimeType:y.encoding}}}),d.raiMediaFilteredCount=c.raiMediaFilteredCount,d.raiMediaFilteredReasons=c.raiMediaFilteredReasons,a.response=d}}return a}}class iv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Zp(n,e){const l=Ie(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function $p(n){return Array.isArray(n)?n.map(e=>ba(e)):[ba(n)]}function ba(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Wp(n){const e=ba(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jp(n){const e=ba(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _p(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function eg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>_p(e)):[_p(n)]}function eu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ap(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Mp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function st(n){if(n==null)throw new Error("ContentUnion is required");return eu(n)?n:{role:"user",parts:eg(n)}}function tg(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const a=st(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const l=st(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>st(l)):[st(e)]}function Lt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ap(n)||Mp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(n)]}const e=[],l=[],a=eu(n[0]);for(const c of n){const d=eu(c);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(Ap(c)||Mp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(c)}}return a||e.push({role:"user",parts:eg(l)}),e}function lv(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(a=>a!=="null");if(l.length===1)e.type=Object.values(oe).includes(l[0].toUpperCase())?l[0].toUpperCase():oe.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of l)e.anyOf.push({type:Object.values(oe).includes(a.toUpperCase())?a.toUpperCase():oe.TYPE_UNSPECIFIED})}}function Hi(n){const e={},l=["items"],a=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&lv(n.type,e);for(const[g,h]of Object.entries(n))if(h!=null)if(g=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(oe).includes(h.toUpperCase())?h.toUpperCase():oe.TYPE_UNSPECIFIED}else if(l.includes(g))e[g]=Hi(h);else if(a.includes(g)){const y=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}y.push(Hi(p))}e[g]=y}else if(c.includes(g)){const y={};for(const[p,v]of Object.entries(h))y[p]=Hi(v);e[g]=y}else{if(g==="additionalProperties")continue;e[g]=h}return e}function cu(n){return Hi(n)}function fu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function du(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Yi(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Hi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Hi(e.response));return n}function Fi(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function ov(n,e,l,a=1){const c=!e.startsWith(`${l}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:c?`${l}/${e}`:e}function sn(n,e){if(typeof e!="string")throw new Error("name must be a string");return ov(n,e,"cachedContents")}function ng(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function jn(n){return $r(n)}function av(n){return n!=null&&typeof n=="object"&&"name"in n}function sv(n){return n!=null&&typeof n=="object"&&"video"in n}function rv(n){return n!=null&&typeof n=="object"&&"uri"in n}function ig(n){var e;let l;if(av(n)&&(l=n.name),!(rv(n)&&(l=n.uri,l===void 0))&&!(sv(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const c=l.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${l}`);l=c[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function lg(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function og(n){for(const e of["models","tunedModels","publisherModels"])if(uv(n,e))return n[e];return[]}function uv(n,e){return n!==null&&typeof n=="object"&&e in n}function cv(n,e={}){const l=n,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function fv(n,e={}){const l=[],a=new Set;for(const c of n){const d=c.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const g=cv(c,e);g.functionDeclarations&&l.push(...g.functionDeclarations)}return{functionDeclarations:l}}function ag(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function dv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ji(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function sg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mv(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function pv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function gv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function hv(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],mv(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],pv(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],gv(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function rg(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>hv(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function yv(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const _=s(n,["maximum"]);_!=null&&r(e,["maximum"],_);const b=s(n,["minItems"]);b!=null&&r(e,["minItems"],b);const H=s(n,["minLength"]);H!=null&&r(e,["minLength"],H);const k=s(n,["minProperties"]);k!=null&&r(e,["minProperties"],k);const F=s(n,["minimum"]);F!=null&&r(e,["minimum"],F);const Z=s(n,["nullable"]);Z!=null&&r(e,["nullable"],Z);const X=s(n,["pattern"]);X!=null&&r(e,["pattern"],X);const W=s(n,["properties"]);W!=null&&r(e,["properties"],W);const $=s(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const J=s(n,["required"]);J!=null&&r(e,["required"],J);const ue=s(n,["title"]);ue!=null&&r(e,["title"],ue);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function vv(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&r(e,["category"],l);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function Tv(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Cv(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function Sv(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],Cv(l)),e}function xv(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Ev(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],xv(l)),e}function _v(){return{}}function Av(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>Tv(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],Sv(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],Ev(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],_v());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function Mv(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Rv(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function bv(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],Rv(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function Nv(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],Mv(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],bv(a)),e}function wv(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function ug(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],wv(l)),e}function Dv(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],ug(a)),e}function Iv(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Dv(c))),r(e,["speakerVoiceConfigs"],a)}return e}function Uv(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],ug(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],Iv(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function Lv(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function Pv(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],rg(st(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(a,["topP"],g);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&r(a,["logprobs"],_);const b=s(e,["presencePenalty"]);b!=null&&r(a,["presencePenalty"],b);const H=s(e,["frequencyPenalty"]);H!=null&&r(a,["frequencyPenalty"],H);const k=s(e,["seed"]);k!=null&&r(a,["seed"],k);const F=s(e,["responseMimeType"]);F!=null&&r(a,["responseMimeType"],F);const Z=s(e,["responseSchema"]);Z!=null&&r(a,["responseSchema"],yv(cu(Z)));const X=s(e,["responseJsonSchema"]);if(X!=null&&r(a,["responseJsonSchema"],X),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=s(e,["safetySettings"]);if(l!==void 0&&W!=null){let ne=W;Array.isArray(ne)&&(ne=ne.map(re=>vv(re))),r(l,["safetySettings"],ne)}const $=s(e,["tools"]);if(l!==void 0&&$!=null){let ne=Fi($);Array.isArray(ne)&&(ne=ne.map(re=>Av(Yi(re)))),r(l,["tools"],ne)}const J=s(e,["toolConfig"]);if(l!==void 0&&J!=null&&r(l,["toolConfig"],Nv(J)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=s(e,["cachedContent"]);l!==void 0&&ue!=null&&r(l,["cachedContent"],sn(n,ue));const ee=s(e,["responseModalities"]);ee!=null&&r(a,["responseModalities"],ee);const Ee=s(e,["mediaResolution"]);Ee!=null&&r(a,["mediaResolution"],Ee);const le=s(e,["speechConfig"]);if(le!=null&&r(a,["speechConfig"],Uv(fu(le))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=s(e,["thinkingConfig"]);return j!=null&&r(a,["thinkingConfig"],Lv(j)),a}function qv(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["request","model"],Ie(n,a));const c=s(e,["contents"]);if(c!=null){let g=Lt(c);Array.isArray(g)&&(g=g.map(h=>rg(h))),r(l,["request","contents"],g)}const d=s(e,["config"]);return d!=null&&r(l,["request","generationConfig"],Pv(n,d,l)),l}function Gv(n,e){const l={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=s(e,["fileName"]);a!=null&&r(l,["fileName"],a);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>qv(n,g))),r(l,["requests","requests"],d)}return l}function Vv(n,e){const l={},a=s(n,["displayName"]);if(e!==void 0&&a!=null&&r(e,["batch","displayName"],a),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function kv(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["src"]);c!=null&&r(l,["batch","inputConfig"],Gv(n,ag(n,c)));const d=s(e,["config"]);return d!=null&&r(l,["config"],Vv(d,l)),l}function Bv(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Ji(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function Hv(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Ji(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function zv(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function Ov(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],zv(l,e)),e}function Yv(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Ji(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function Fv(n){const e={},l=s(n,["format"]);l!=null&&r(e,["instancesFormat"],l);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsSource","uris"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Jv(n){const e={},l=s(n,["format"]);l!=null&&r(e,["predictionsFormat"],l);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsDestination","outputUriPrefix"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Qv(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],Jv(dv(c))),l}function Xv(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],Ie(n,a));const c=s(e,["src"]);c!=null&&r(l,["inputConfig"],Fv(ag(n,c)));const d=s(e,["config"]);return d!=null&&r(l,["config"],Qv(d,l)),l}function Kv(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Ji(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function Zv(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Ji(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function $v(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function Wv(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],$v(l,e)),e}function jv(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Ji(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function eT(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function tT(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function nT(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function iT(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],eT(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],tT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],nT(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function lT(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>iT(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function oT(n){const e={},l=s(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function aT(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function sT(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>aT(c))),r(e,["urlMetadata"],a)}return e}function rT(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],lT(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],oT(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],sT(g));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function uT(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>rT(y))),r(e,["candidates"],h)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function cg(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function cT(n){const e={},l=s(n,["response"]);l!=null&&r(e,["response"],uT(l));const a=s(n,["error"]);return a!=null&&r(e,["error"],cg(a)),e}function fT(n){const e={},l=s(n,["responsesFile"]);l!=null&&r(e,["fileName"],l);const a=s(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>cT(d))),r(e,["inlinedResponses"],c)}return e}function tu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata","displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],sg(c));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["metadata","endTime"]);g!=null&&r(e,["endTime"],g);const h=s(n,["metadata","updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=s(n,["metadata","output"]);return p!=null&&r(e,["dest"],fT(p)),e}function dT(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>tu(g))),r(e,["batchJobs"],d)}return e}function mT(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["done"]);a!=null&&r(e,["done"],a);const c=s(n,["error"]);return c!=null&&r(e,["error"],cg(c)),e}function fg(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function pT(n){const e={},l=s(n,["instancesFormat"]);l!=null&&r(e,["format"],l);const a=s(n,["gcsSource","uris"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function gT(n){const e={},l=s(n,["predictionsFormat"]);l!=null&&r(e,["format"],l);const a=s(n,["gcsDestination","outputUriPrefix"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function nu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],sg(c));const d=s(n,["error"]);d!=null&&r(e,["error"],fg(d));const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const h=s(n,["startTime"]);h!=null&&r(e,["startTime"],h);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const C=s(n,["inputConfig"]);C!=null&&r(e,["src"],pT(C));const _=s(n,["outputConfig"]);return _!=null&&r(e,["dest"],gT(_)),e}function hT(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>nu(g))),r(e,["batchJobs"],d)}return e}function yT(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["done"]);a!=null&&r(e,["done"],a);const c=s(n,["error"]);return c!=null&&r(e,["error"],fg(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $n;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})($n||($n={}));class eo{constructor(e,l,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,a,c)}init(e,l,a){var c,d;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let g={config:{}};!a||Object.keys(a).length===0?g={config:{}}:typeof a=="object"?g=Object.assign({},a):g=a,g.config&&(g.config.pageToken=l.nextPageToken),this.paramsInternal=g,this.pageInternalSize=(d=(c=g.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vT extends Wn{constructor(e){super(),this.apiClient=e,this.create=async l=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(l.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(l.config=l.config||{},l.config.displayName===void 0&&(l.config.displayName="genaiBatchJob_${timestampStr}"),l.config.dest===void 0&&typeof l.src=="string")if(l.src.startsWith("gs://")&&l.src.endsWith(".jsonl"))l.config.dest=`${l.src.slice(0,-6)}/dest`;else if(l.src.startsWith("bq://"))l.config.dest=`${l.src}_dest_${c}`;else throw new Error("Unsupported source:"+l.src)}return await this.createInternal(l)},this.list=async(l={})=>new eo($n.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l)}async createInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Xv(this.apiClient,e);return h=ae("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>nu(v))}else{const p=kv(this.apiClient,e);return h=ae("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>tu(v))}}async get(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Kv(this.apiClient,e);return h=ae("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>nu(v))}else{const p=Bv(this.apiClient,e);return h=ae("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>tu(v))}}async cancel(e){var l,a,c,d;let g="",h={};if(this.apiClient.isVertexAI()){const y=Zv(this.apiClient,e);g=ae("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:g,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Hv(this.apiClient,e);g=ae("batches/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:g,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=Wv(e);return h=ae("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=hT(v),_=new Ep;return Object.assign(_,C),_})}else{const p=Ov(e);return h=ae("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=dT(v),_=new Ep;return Object.assign(_,C),_})}}async delete(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=jv(this.apiClient,e);return h=ae("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>yT(v))}else{const p=Yv(this.apiClient,e);return h=ae("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>mT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function CT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function ST(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function xT(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],TT(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],CT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],ST(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Rp(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>xT(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function ET(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function _T(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function AT(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],_T(l)),e}function MT(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function RT(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],MT(l)),e}function bT(){return{}}function NT(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>ET(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],AT(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],RT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],bT());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function wT(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function DT(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function IT(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],DT(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function UT(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],wT(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],IT(a)),e}function LT(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const g=s(n,["contents"]);if(e!==void 0&&g!=null){let v=Lt(g);Array.isArray(v)&&(v=v.map(C=>Rp(C))),r(e,["contents"],v)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["systemInstruction"],Rp(st(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>NT(C))),r(e,["tools"],v)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],UT(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function PT(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],Zp(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],LT(c,l)),l}function qT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],sn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function GT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],sn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function VT(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),l}function kT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],sn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],VT(c,l)),l}function BT(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function HT(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],BT(l,e)),e}function zT(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function OT(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function YT(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function FT(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],zT(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],OT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],YT(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function bp(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>FT(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function JT(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function QT(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function XT(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],QT(l)),e}function KT(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function ZT(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],KT(l)),e}function $T(){return{}}function WT(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function jT(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],WT(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function eC(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],jT(l)),e}function tC(){return{}}function nC(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>JT(_))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],XT(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],ZT(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],$T());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],eC(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],tC());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function iC(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function lC(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function oC(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],lC(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function aC(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],iC(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],oC(a)),e}function sC(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const g=s(n,["contents"]);if(e!==void 0&&g!=null){let C=Lt(g);Array.isArray(C)&&(C=C.map(_=>bp(_))),r(e,["contents"],C)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["systemInstruction"],bp(st(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(_=>nC(_))),r(e,["tools"],C)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],aC(p));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),l}function rC(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],Zp(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],sC(c,l)),l}function uC(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],sn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function cC(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],sn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function fC(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),l}function dC(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],sn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],fC(c,l)),l}function mC(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function pC(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],mC(l,e)),e}function Ea(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const h=s(n,["expireTime"]);h!=null&&r(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function gC(){return{}}function hC(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>Ea(g))),r(e,["cachedContents"],d)}return e}function _a(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const h=s(n,["expireTime"]);h!=null&&r(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function yC(){return{}}function vC(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>_a(g))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TC extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new eo($n.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=rC(this.apiClient,e);return h=ae("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>_a(v))}else{const p=PT(this.apiClient,e);return h=ae("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>Ea(v))}}async get(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=uC(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>_a(v))}else{const p=qT(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>Ea(v))}}async delete(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=cC(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(()=>{const v=yC(),C=new Sp;return Object.assign(C,v),C})}else{const p=GT(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(()=>{const v=gC(),C=new Sp;return Object.assign(C,v),C})}}async update(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=dC(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>_a(v))}else{const p=kT(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>Ea(v))}}async listInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=pC(e);return h=ae("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=vC(v),_=new xp;return Object.assign(_,C),_})}else{const p=HT(e);return h=ae("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=hC(v),_=new xp;return Object.assign(_,C),_})}}}function Np(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],a=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(n){return this instanceof ke?(this.v=n,this):new ke(n)}function zi(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(b){return function(H){return Promise.resolve(H).then(b,C)}}function h(b,H){a[b]&&(c[b]=function(k){return new Promise(function(F,Z){d.push([b,k,F,Z])>1||y(b,k)})},H&&(c[b]=H(c[b])))}function y(b,H){try{p(a[b](H))}catch(k){_(d[0][3],k)}}function p(b){b.value instanceof ke?Promise.resolve(b.value.v).then(v,C):_(d[0][2],b)}function v(b){y("next",b)}function C(b){y("throw",b)}function _(b,H){b(H),d.shift(),d.length&&y(d[0][0],d[0][1])}}function jl(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof Np=="function"?Np(n):n[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(d){l[d]=n[d]&&function(g){return new Promise(function(h,y){g=n[d](g),c(h,y,g.done,g.value)})}}function c(d,g,h,y){Promise.resolve(y).then(function(p){d({value:p,done:h})},g)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:dg(l)}function dg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function SC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wp(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let a=0;for(;a<l;)if(n[a].role==="user")e.push(n[a]),a++;else{const c=[];let d=!0;for(;a<l&&n[a].role==="model";)c.push(n[a]),d&&!dg(n[a])&&(d=!1),a++;d?e.push(...c):e.pop()}return e}class xC{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new EC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class EC{constructor(e,l,a,c={},d=[]){this.apiClient=e,this.modelsModule=l,this.model=a,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),SC(d)}async sendMessage(e){var l;await this.sendPromise;const a=st(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,g,h;const y=await c,p=(g=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||g===void 0?void 0:g.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let _=[];v!=null&&(_=(h=v.slice(C))!==null&&h!==void 0?h:[]);const b=p?[p]:[];this.recordHistory(a,b,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var l;await this.sendPromise;const a=st(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,a)}getHistory(e=!1){const l=e?wp(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var a,c;return zi(this,arguments,function*(){var g,h,y,p;const v=[];try{for(var C=!0,_=jl(e),b;b=yield ke(_.next()),g=b.done,!g;C=!0){p=b.value,C=!1;const H=p;if(CC(H)){const k=(c=(a=H.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;k!==void 0&&v.push(k)}yield yield ke(H)}}catch(H){h={error:H}}finally{try{!C&&!g&&(y=_.return)&&(yield ke(y.call(_)))}finally{if(h)throw h.error}}this.recordHistory(l,v)})}recordHistory(e,l,a){let c=[];l.length>0&&l.every(d=>d.role!==void 0)?c=l:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...wp(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Na extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Na.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function AC(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],_C(l,e)),e}function MC(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function RC(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const h=s(n,["expirationTime"]);h!=null&&r(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const _=s(n,["state"]);_!=null&&r(e,["state"],_);const b=s(n,["source"]);b!=null&&r(e,["source"],b);const H=s(n,["videoMetadata"]);H!=null&&r(e,["videoMetadata"],H);const k=s(n,["error"]);return k!=null&&r(e,["error"],MC(k)),e}function bC(n){const e={},l=s(n,["file"]);l!=null&&r(e,["file"],RC(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function NC(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","file"],ig(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function wC(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","file"],ig(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function DC(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function iu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const g=s(n,["createTime"]);g!=null&&r(e,["createTime"],g);const h=s(n,["expirationTime"]);h!=null&&r(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const _=s(n,["state"]);_!=null&&r(e,["state"],_);const b=s(n,["source"]);b!=null&&r(e,["source"],b);const H=s(n,["videoMetadata"]);H!=null&&r(e,["videoMetadata"],H);const k=s(n,["error"]);return k!=null&&r(e,["error"],DC(k)),e}function IC(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>iu(g))),r(e,["files"],d)}return e}function UC(n){const e={},l=s(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function LC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new eo($n.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>iu(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AC(e);return d=ae("files",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=IC(y),v=new j0;return Object.assign(v,p),v})}}async createInternal(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bC(e);return d=ae("upload/v1beta/files",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=UC(y),v=new ev;return Object.assign(v,p),v})}}async get(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=NC(e);return d=ae("files/{file}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>iu(y))}}async delete(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wC(e);return d=ae("files/{file}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=LC(),p=new tv;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qC(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function mg(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],qC(l)),e}function GC(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],mg(a)),e}function VC(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>GC(c))),r(e,["speakerVoiceConfigs"],a)}return e}function kC(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],mg(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],VC(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function BC(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function HC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function zC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function OC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],BC(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],HC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],zC(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function YC(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>OC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function FC(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function JC(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function QC(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],JC(l)),e}function XC(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function KC(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],XC(l)),e}function ZC(){return{}}function $C(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>FC(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],QC(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],KC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],ZC());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function WC(n){const e={},l=s(n,["handle"]);if(l!=null&&r(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Dp(){return{}}function jC(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function eS(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],jC(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function tS(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function nS(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],tS(a)),e}function iS(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function lS(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],kC(du(C)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=s(n,["systemInstruction"]);e!==void 0&&b!=null&&r(e,["setup","systemInstruction"],YC(st(b)));const H=s(n,["tools"]);if(e!==void 0&&H!=null){let J=Fi(H);Array.isArray(J)&&(J=J.map(ue=>$C(Yi(ue)))),r(e,["setup","tools"],J)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&r(e,["setup","sessionResumption"],WC(k));const F=s(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&r(e,["setup","inputAudioTranscription"],Dp());const Z=s(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&r(e,["setup","outputAudioTranscription"],Dp());const X=s(n,["realtimeInputConfig"]);e!==void 0&&X!=null&&r(e,["setup","realtimeInputConfig"],eS(X));const W=s(n,["contextWindowCompression"]);e!==void 0&&W!=null&&r(e,["setup","contextWindowCompression"],nS(W));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],iS($)),l}function oS(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],lS(c,l)),l}function aS(){return{}}function sS(){return{}}function rS(n){const e={},l=s(n,["media"]);l!=null&&r(e,["mediaChunks"],$p(l));const a=s(n,["audio"]);a!=null&&r(e,["audio"],jp(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],Wp(d));const g=s(n,["text"]);return g!=null&&r(e,["text"],g),s(n,["activityStart"])!=null&&r(e,["activityStart"],aS()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],sS()),e}function pg(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function uS(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>pg(c))),r(e,["weightedPrompts"],a)}return e}function gg(n){const e={},l=s(n,["temperature"]);l!=null&&r(e,["temperature"],l);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const g=s(n,["bpm"]);g!=null&&r(e,["bpm"],g);const h=s(n,["density"]);h!=null&&r(e,["density"],h);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const _=s(n,["onlyBassAndDrums"]);return _!=null&&r(e,["onlyBassAndDrums"],_),e}function cS(n){const e={},l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],gg(l)),e}function hg(n){const e={},l=s(n,["model"]);return l!=null&&r(e,["model"],l),e}function yg(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>pg(c))),r(e,["weightedPrompts"],a)}return e}function lu(n){const e={},l=s(n,["setup"]);l!=null&&r(e,["setup"],hg(l));const a=s(n,["clientContent"]);a!=null&&r(e,["clientContent"],yg(a));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],gg(c));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function fS(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function dS(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],fS(l)),e}function mS(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],dS(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function pS(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function gS(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function hS(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function yS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],pS(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],gS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],hS(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function vS(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>yS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function TS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function CS(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function SS(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],CS(l)),e}function xS(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function ES(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],xS(l)),e}function _S(){return{}}function AS(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function MS(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],AS(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function RS(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],MS(l)),e}function bS(){return{}}function NS(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>TS(_))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],SS(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],ES(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],_S());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],RS(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],bS());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function wS(n){const e={},l=s(n,["handle"]);l!=null&&r(e,["handle"],l);const a=s(n,["transparent"]);return a!=null&&r(e,["transparent"],a),e}function Ip(){return{}}function DS(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function IS(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],DS(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function US(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function LS(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],US(a)),e}function PS(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function qS(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],mS(du(C)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=s(n,["systemInstruction"]);e!==void 0&&b!=null&&r(e,["setup","systemInstruction"],vS(st(b)));const H=s(n,["tools"]);if(e!==void 0&&H!=null){let J=Fi(H);Array.isArray(J)&&(J=J.map(ue=>NS(Yi(ue)))),r(e,["setup","tools"],J)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&r(e,["setup","sessionResumption"],wS(k));const F=s(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&r(e,["setup","inputAudioTranscription"],Ip());const Z=s(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&r(e,["setup","outputAudioTranscription"],Ip());const X=s(n,["realtimeInputConfig"]);e!==void 0&&X!=null&&r(e,["setup","realtimeInputConfig"],IS(X));const W=s(n,["contextWindowCompression"]);e!==void 0&&W!=null&&r(e,["setup","contextWindowCompression"],LS(W));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],PS($)),l}function GS(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],qS(c,l)),l}function VS(){return{}}function kS(){return{}}function BS(n){const e={},l=s(n,["media"]);l!=null&&r(e,["mediaChunks"],$p(l));const a=s(n,["audio"]);a!=null&&r(e,["audio"],jp(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],Wp(d));const g=s(n,["text"]);return g!=null&&r(e,["text"],g),s(n,["activityStart"])!=null&&r(e,["activityStart"],VS()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],kS()),e}function HS(){return{}}function zS(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function OS(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function YS(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function FS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],zS(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],OS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],YS(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function JS(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>FS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Up(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function QS(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function XS(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>QS(c))),r(e,["urlMetadata"],a)}return e}function KS(n){const e={},l=s(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],JS(l));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const g=s(n,["generationComplete"]);g!=null&&r(e,["generationComplete"],g);const h=s(n,["inputTranscription"]);h!=null&&r(e,["inputTranscription"],Up(h));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Up(y));const p=s(n,["urlContextMetadata"]);return p!=null&&r(e,["urlContextMetadata"],XS(p)),e}function ZS(n){const e={},l=s(n,["id"]);l!=null&&r(e,["id"],l);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function $S(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>ZS(c))),r(e,["functionCalls"],a)}return e}function WS(n){const e={},l=s(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function Ca(n){const e={},l=s(n,["modality"]);l!=null&&r(e,["modality"],l);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function jS(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const g=s(n,["thoughtsTokenCount"]);g!=null&&r(e,["thoughtsTokenCount"],g);const h=s(n,["totalTokenCount"]);h!=null&&r(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(b=>Ca(b))),r(e,["promptTokensDetails"],_)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(b=>Ca(b))),r(e,["cacheTokensDetails"],_)}const v=s(n,["responseTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(b=>Ca(b))),r(e,["responseTokensDetails"],_)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let _=C;Array.isArray(_)&&(_=_.map(b=>Ca(b))),r(e,["toolUsePromptTokensDetails"],_)}return e}function ex(n){const e={},l=s(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function tx(n){const e={},l=s(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function nx(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],HS());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],KS(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],$S(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],WS(d));const g=s(n,["usageMetadata"]);g!=null&&r(e,["usageMetadata"],jS(g));const h=s(n,["goAway"]);h!=null&&r(e,["goAway"],ex(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],tx(y)),e}function ix(){return{}}function lx(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function ox(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>lx(c))),r(e,["weightedPrompts"],a)}return e}function ax(n){const e={},l=s(n,["temperature"]);l!=null&&r(e,["temperature"],l);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const g=s(n,["bpm"]);g!=null&&r(e,["bpm"],g);const h=s(n,["density"]);h!=null&&r(e,["density"],h);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const _=s(n,["onlyBassAndDrums"]);return _!=null&&r(e,["onlyBassAndDrums"],_),e}function sx(n){const e={},l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],ox(l));const a=s(n,["musicGenerationConfig"]);return a!=null&&r(e,["musicGenerationConfig"],ax(a)),e}function rx(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);a!=null&&r(e,["mimeType"],a);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],sx(c)),e}function ux(n){const e={},l=s(n,["audioChunks"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>rx(c))),r(e,["audioChunks"],a)}return e}function cx(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["filteredReason"]);return a!=null&&r(e,["filteredReason"],a),e}function fx(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],ix());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],ux(a));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],cx(c)),e}function dx(n){const e={},l=s(n,["sessionId"]);return l!=null&&r(e,["sessionId"],l),e}function mx(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function px(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function gx(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function hx(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],mx(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],px(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],gx(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function yx(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>hx(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Lp(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function vx(n){const e={},l=s(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],yx(l));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const g=s(n,["generationComplete"]);g!=null&&r(e,["generationComplete"],g);const h=s(n,["inputTranscription"]);h!=null&&r(e,["inputTranscription"],Lp(h));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],Lp(y)),e}function Tx(n){const e={},l=s(n,["args"]);l!=null&&r(e,["args"],l);const a=s(n,["name"]);return a!=null&&r(e,["name"],a),e}function Cx(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Tx(c))),r(e,["functionCalls"],a)}return e}function Sx(n){const e={},l=s(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function Sa(n){const e={},l=s(n,["modality"]);l!=null&&r(e,["modality"],l);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function xx(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const g=s(n,["thoughtsTokenCount"]);g!=null&&r(e,["thoughtsTokenCount"],g);const h=s(n,["totalTokenCount"]);h!=null&&r(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(H=>Sa(H))),r(e,["promptTokensDetails"],b)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(H=>Sa(H))),r(e,["cacheTokensDetails"],b)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(H=>Sa(H))),r(e,["responseTokensDetails"],b)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let b=C;Array.isArray(b)&&(b=b.map(H=>Sa(H))),r(e,["toolUsePromptTokensDetails"],b)}const _=s(n,["trafficType"]);return _!=null&&r(e,["trafficType"],_),e}function Ex(n){const e={},l=s(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function _x(n){const e={},l=s(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function Ax(n){const e={},l=s(n,["setupComplete"]);l!=null&&r(e,["setupComplete"],dx(l));const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],vx(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],Cx(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],Sx(d));const g=s(n,["usageMetadata"]);g!=null&&r(e,["usageMetadata"],xx(g));const h=s(n,["goAway"]);h!=null&&r(e,["goAway"],Ex(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],_x(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Rx(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function bx(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Nx(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],Mx(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Rx(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],bx(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function wa(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Nx(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function wx(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const _=s(n,["maximum"]);_!=null&&r(e,["maximum"],_);const b=s(n,["minItems"]);b!=null&&r(e,["minItems"],b);const H=s(n,["minLength"]);H!=null&&r(e,["minLength"],H);const k=s(n,["minProperties"]);k!=null&&r(e,["minProperties"],k);const F=s(n,["minimum"]);F!=null&&r(e,["minimum"],F);const Z=s(n,["nullable"]);Z!=null&&r(e,["nullable"],Z);const X=s(n,["pattern"]);X!=null&&r(e,["pattern"],X);const W=s(n,["properties"]);W!=null&&r(e,["properties"],W);const $=s(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const J=s(n,["required"]);J!=null&&r(e,["required"],J);const ue=s(n,["title"]);ue!=null&&r(e,["title"],ue);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function Dx(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&r(e,["category"],l);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function Ix(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Ux(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function Lx(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],Ux(l)),e}function Px(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function qx(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],Px(l)),e}function Gx(){return{}}function Vx(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>Ix(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],Lx(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],qx(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],Gx());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function kx(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Bx(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function Hx(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],Bx(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function zx(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],kx(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],Hx(a)),e}function Ox(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function vg(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],Ox(l)),e}function Yx(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],vg(a)),e}function Fx(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Yx(c))),r(e,["speakerVoiceConfigs"],a)}return e}function Jx(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],vg(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],Fx(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function Qx(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function Xx(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],wa(st(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(a,["topP"],g);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&r(a,["logprobs"],_);const b=s(e,["presencePenalty"]);b!=null&&r(a,["presencePenalty"],b);const H=s(e,["frequencyPenalty"]);H!=null&&r(a,["frequencyPenalty"],H);const k=s(e,["seed"]);k!=null&&r(a,["seed"],k);const F=s(e,["responseMimeType"]);F!=null&&r(a,["responseMimeType"],F);const Z=s(e,["responseSchema"]);Z!=null&&r(a,["responseSchema"],wx(cu(Z)));const X=s(e,["responseJsonSchema"]);if(X!=null&&r(a,["responseJsonSchema"],X),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=s(e,["safetySettings"]);if(l!==void 0&&W!=null){let ne=W;Array.isArray(ne)&&(ne=ne.map(re=>Dx(re))),r(l,["safetySettings"],ne)}const $=s(e,["tools"]);if(l!==void 0&&$!=null){let ne=Fi($);Array.isArray(ne)&&(ne=ne.map(re=>Vx(Yi(re)))),r(l,["tools"],ne)}const J=s(e,["toolConfig"]);if(l!==void 0&&J!=null&&r(l,["toolConfig"],zx(J)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ue=s(e,["cachedContent"]);l!==void 0&&ue!=null&&r(l,["cachedContent"],sn(n,ue));const ee=s(e,["responseModalities"]);ee!=null&&r(a,["responseModalities"],ee);const Ee=s(e,["mediaResolution"]);Ee!=null&&r(a,["mediaResolution"],Ee);const le=s(e,["speechConfig"]);if(le!=null&&r(a,["speechConfig"],Jx(fu(le))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=s(e,["thinkingConfig"]);return j!=null&&r(a,["thinkingConfig"],Qx(j)),a}function Pp(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["contents"]);if(c!=null){let g=Lt(c);Array.isArray(g)&&(g=g.map(h=>wa(h))),r(l,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(l,["generationConfig"],Xx(n,d,l)),l}function Kx(n,e){const l={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Zx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["contents"]);c!=null&&r(l,["requests[]","content"],tg(n,c));const d=s(e,["config"]);d!=null&&r(l,["config"],Kx(d,l));const g=s(e,["model"]);return g!==void 0&&r(l,["requests[]","model"],Ie(n,g)),l}function $x(n,e){const l={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const h=s(n,["personGeneration"]);e!==void 0&&h!=null&&r(e,["parameters","personGeneration"],h);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const _=s(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&r(e,["parameters","outputOptions","compressionQuality"],_),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function Wx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(l,["config"],$x(d,l)),l}function jx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function eE(n,e,l){const a={},c=s(e,["pageSize"]);l!==void 0&&c!=null&&r(l,["_query","pageSize"],c);const d=s(e,["pageToken"]);l!==void 0&&d!=null&&r(l,["_query","pageToken"],d);const g=s(e,["filter"]);l!==void 0&&g!=null&&r(l,["_query","filter"],g);const h=s(e,["queryBase"]);return l!==void 0&&h!=null&&r(l,["_url","models_url"],lg(n,h)),a}function tE(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],eE(n,a,l)),l}function nE(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),l}function iE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],nE(c,l)),l}function lE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function oE(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function aE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["contents"]);if(c!=null){let g=Lt(c);Array.isArray(g)&&(g=g.map(h=>wa(h))),r(l,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(l,["config"],oE(d)),l}function sE(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],jn(l));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function rE(n,e){const l={},a=s(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);if(e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=s(n,["personGeneration"]);if(e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=s(n,["negativePrompt"]);e!==void 0&&h!=null&&r(e,["parameters","negativePrompt"],h);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function uE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&r(l,["instances[0]","image"],sE(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const g=s(e,["config"]);return g!=null&&r(l,["config"],rE(g,l)),l}function cE(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function fE(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function dE(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function mE(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],cE(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],fE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],dE(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Qi(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>mE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function pE(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const g=s(n,["example"]);g!=null&&r(e,["example"],g);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const _=s(n,["maximum"]);_!=null&&r(e,["maximum"],_);const b=s(n,["minItems"]);b!=null&&r(e,["minItems"],b);const H=s(n,["minLength"]);H!=null&&r(e,["minLength"],H);const k=s(n,["minProperties"]);k!=null&&r(e,["minProperties"],k);const F=s(n,["minimum"]);F!=null&&r(e,["minimum"],F);const Z=s(n,["nullable"]);Z!=null&&r(e,["nullable"],Z);const X=s(n,["pattern"]);X!=null&&r(e,["pattern"],X);const W=s(n,["properties"]);W!=null&&r(e,["properties"],W);const $=s(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const J=s(n,["required"]);J!=null&&r(e,["required"],J);const ue=s(n,["title"]);ue!=null&&r(e,["title"],ue);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function gE(n){const e={},l=s(n,["featureSelectionPreference"]);return l!=null&&r(e,["featureSelectionPreference"],l),e}function hE(n){const e={},l=s(n,["method"]);l!=null&&r(e,["method"],l);const a=s(n,["category"]);a!=null&&r(e,["category"],a);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function yE(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function vE(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function TE(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],vE(l)),e}function CE(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function SE(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],CE(l)),e}function xE(){return{}}function EE(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function _E(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],EE(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const g=s(n,["oauthConfig"]);g!=null&&r(e,["oauthConfig"],g);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function AE(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],_E(l)),e}function ME(){return{}}function Tg(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>yE(_))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],TE(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],SE(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],xE());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],AE(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],ME());const p=s(n,["codeExecution"]);p!=null&&r(e,["codeExecution"],p);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function RE(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function bE(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function NE(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],bE(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function wE(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],RE(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],NE(a)),e}function DE(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function IE(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],DE(l)),e}function UE(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],IE(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function LE(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function PE(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],Qi(st(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const g=s(e,["topP"]);g!=null&&r(a,["topP"],g);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(a,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&r(a,["logprobs"],_);const b=s(e,["presencePenalty"]);b!=null&&r(a,["presencePenalty"],b);const H=s(e,["frequencyPenalty"]);H!=null&&r(a,["frequencyPenalty"],H);const k=s(e,["seed"]);k!=null&&r(a,["seed"],k);const F=s(e,["responseMimeType"]);F!=null&&r(a,["responseMimeType"],F);const Z=s(e,["responseSchema"]);Z!=null&&r(a,["responseSchema"],pE(cu(Z)));const X=s(e,["responseJsonSchema"]);X!=null&&r(a,["responseJsonSchema"],X);const W=s(e,["routingConfig"]);W!=null&&r(a,["routingConfig"],W);const $=s(e,["modelSelectionConfig"]);$!=null&&r(a,["modelConfig"],gE($));const J=s(e,["safetySettings"]);if(l!==void 0&&J!=null){let he=J;Array.isArray(he)&&(he=he.map(B=>hE(B))),r(l,["safetySettings"],he)}const ue=s(e,["tools"]);if(l!==void 0&&ue!=null){let he=Fi(ue);Array.isArray(he)&&(he=he.map(B=>Tg(Yi(B)))),r(l,["tools"],he)}const ee=s(e,["toolConfig"]);l!==void 0&&ee!=null&&r(l,["toolConfig"],wE(ee));const Ee=s(e,["labels"]);l!==void 0&&Ee!=null&&r(l,["labels"],Ee);const le=s(e,["cachedContent"]);l!==void 0&&le!=null&&r(l,["cachedContent"],sn(n,le));const j=s(e,["responseModalities"]);j!=null&&r(a,["responseModalities"],j);const ne=s(e,["mediaResolution"]);ne!=null&&r(a,["mediaResolution"],ne);const re=s(e,["speechConfig"]);re!=null&&r(a,["speechConfig"],UE(fu(re)));const Ce=s(e,["audioTimestamp"]);Ce!=null&&r(a,["audioTimestamp"],Ce);const be=s(e,["thinkingConfig"]);return be!=null&&r(a,["thinkingConfig"],LE(be)),a}function qp(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["contents"]);if(c!=null){let g=Lt(c);Array.isArray(g)&&(g=g.map(h=>Qi(h))),r(l,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(l,["generationConfig"],PE(n,d,l)),l}function qE(n,e){const l={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["instances[]","task_type"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const g=s(n,["mimeType"]);e!==void 0&&g!=null&&r(e,["instances[]","mimeType"],g);const h=s(n,["autoTruncate"]);return e!==void 0&&h!=null&&r(e,["parameters","autoTruncate"],h),l}function GE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["contents"]);c!=null&&r(l,["instances[]","content"],tg(n,c));const d=s(e,["config"]);return d!=null&&r(l,["config"],qE(d,l)),l}function VE(n,e){const l={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const g=s(n,["aspectRatio"]);e!==void 0&&g!=null&&r(e,["parameters","aspectRatio"],g);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&r(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const _=s(n,["includeRaiReason"]);e!==void 0&&_!=null&&r(e,["parameters","includeRaiReason"],_);const b=s(n,["language"]);e!==void 0&&b!=null&&r(e,["parameters","language"],b);const H=s(n,["outputMimeType"]);e!==void 0&&H!=null&&r(e,["parameters","outputOptions","mimeType"],H);const k=s(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&r(e,["parameters","outputOptions","compressionQuality"],k);const F=s(n,["addWatermark"]);e!==void 0&&F!=null&&r(e,["parameters","addWatermark"],F);const Z=s(n,["imageSize"]);e!==void 0&&Z!=null&&r(e,["parameters","sampleImageSize"],Z);const X=s(n,["enhancePrompt"]);return e!==void 0&&X!=null&&r(e,["parameters","enhancePrompt"],X),l}function kE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(l,["config"],VE(d,l)),l}function Da(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["imageBytes"]);a!=null&&r(e,["bytesBase64Encoded"],jn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function BE(n){const e={},l=s(n,["maskMode"]);l!=null&&r(e,["maskMode"],l);const a=s(n,["segmentationClasses"]);a!=null&&r(e,["maskClasses"],a);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function HE(n){const e={},l=s(n,["controlType"]);l!=null&&r(e,["controlType"],l);const a=s(n,["enableControlImageComputation"]);return a!=null&&r(e,["computeControl"],a),e}function zE(n){const e={},l=s(n,["styleDescription"]);return l!=null&&r(e,["styleDescription"],l),e}function OE(n){const e={},l=s(n,["subjectType"]);l!=null&&r(e,["subjectType"],l);const a=s(n,["subjectDescription"]);return a!=null&&r(e,["subjectDescription"],a),e}function YE(n){const e={},l=s(n,["referenceImage"]);l!=null&&r(e,["referenceImage"],Da(l));const a=s(n,["referenceId"]);a!=null&&r(e,["referenceId"],a);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],BE(d));const g=s(n,["controlImageConfig"]);g!=null&&r(e,["controlImageConfig"],HE(g));const h=s(n,["styleImageConfig"]);h!=null&&r(e,["styleImageConfig"],zE(h));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],OE(y)),e}function FE(n,e){const l={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const g=s(n,["aspectRatio"]);e!==void 0&&g!=null&&r(e,["parameters","aspectRatio"],g);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&r(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const _=s(n,["includeRaiReason"]);e!==void 0&&_!=null&&r(e,["parameters","includeRaiReason"],_);const b=s(n,["language"]);e!==void 0&&b!=null&&r(e,["parameters","language"],b);const H=s(n,["outputMimeType"]);e!==void 0&&H!=null&&r(e,["parameters","outputOptions","mimeType"],H);const k=s(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&r(e,["parameters","outputOptions","compressionQuality"],k);const F=s(n,["addWatermark"]);e!==void 0&&F!=null&&r(e,["parameters","addWatermark"],F);const Z=s(n,["editMode"]);e!==void 0&&Z!=null&&r(e,["parameters","editMode"],Z);const X=s(n,["baseSteps"]);return e!==void 0&&X!=null&&r(e,["parameters","editConfig","baseSteps"],X),l}function JE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>YE(y))),r(l,["instances[0]","referenceImages"],h)}const g=s(e,["config"]);return g!=null&&r(l,["config"],FE(g,l)),l}function QE(n,e){const l={},a=s(n,["includeRaiReason"]);e!==void 0&&a!=null&&r(e,["parameters","includeRaiReason"],a);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","compressionQuality"],d);const g=s(n,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const h=s(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const p=s(n,["mode"]);return e!==void 0&&p!=null&&r(e,["parameters","mode"],p),l}function XE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["image"]);c!=null&&r(l,["instances[0]","image"],Da(c));const d=s(e,["upscaleFactor"]);d!=null&&r(l,["parameters","upscaleConfig","upscaleFactor"],d);const g=s(e,["config"]);return g!=null&&r(l,["config"],QE(g,l)),l}function KE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function ZE(n,e,l){const a={},c=s(e,["pageSize"]);l!==void 0&&c!=null&&r(l,["_query","pageSize"],c);const d=s(e,["pageToken"]);l!==void 0&&d!=null&&r(l,["_query","pageToken"],d);const g=s(e,["filter"]);l!==void 0&&g!=null&&r(l,["_query","filter"],g);const h=s(e,["queryBase"]);return l!==void 0&&h!=null&&r(l,["_url","models_url"],lg(n,h)),a}function $E(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],ZE(n,a,l)),l}function WE(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),l}function jE(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],WE(c,l)),l}function e_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function t_(n,e){const l={},a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&r(e,["systemInstruction"],Qi(st(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(h=>Tg(h))),r(e,["tools"],g)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),l}function n_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["contents"]);if(c!=null){let g=Lt(c);Array.isArray(g)&&(g=g.map(h=>Qi(h))),r(l,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(l,["config"],t_(d,l)),l}function i_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["contents"]);if(c!=null){let g=Lt(c);Array.isArray(g)&&(g=g.map(h=>Qi(h))),r(l,["contents"],g)}const d=s(e,["config"]);return d!=null&&r(l,["config"],d),l}function l_(n){const e={},l=s(n,["uri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["videoBytes"]);a!=null&&r(e,["bytesBase64Encoded"],jn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function o_(n,e){const l={},a=s(n,["numberOfVideos"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const g=s(n,["durationSeconds"]);e!==void 0&&g!=null&&r(e,["parameters","durationSeconds"],g);const h=s(n,["seed"]);e!==void 0&&h!=null&&r(e,["parameters","seed"],h);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const _=s(n,["negativePrompt"]);e!==void 0&&_!=null&&r(e,["parameters","negativePrompt"],_);const b=s(n,["enhancePrompt"]);e!==void 0&&b!=null&&r(e,["parameters","enhancePrompt"],b);const H=s(n,["generateAudio"]);e!==void 0&&H!=null&&r(e,["parameters","generateAudio"],H);const k=s(n,["lastFrame"]);e!==void 0&&k!=null&&r(e,["instances[0]","lastFrame"],Da(k));const F=s(n,["compressionQuality"]);return e!==void 0&&F!=null&&r(e,["parameters","compressionQuality"],F),l}function a_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Ie(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&r(l,["instances[0]","image"],Da(d));const g=s(e,["video"]);g!=null&&r(l,["instances[0]","video"],l_(g));const h=s(e,["config"]);return h!=null&&r(l,["config"],o_(h,l)),l}function s_(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function r_(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function u_(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function c_(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],s_(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],r_(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],u_(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function f_(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>c_(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function d_(n){const e={},l=s(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function m_(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function p_(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>m_(c))),r(e,["urlMetadata"],a)}return e}function g_(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],f_(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],d_(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],p_(g));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Gp(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>g_(y))),r(e,["candidates"],h)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function h_(n){const e={},l=s(n,["values"]);return l!=null&&r(e,["values"],l),e}function y_(){return{}}function v_(n){const e={},l=s(n,["embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>h_(d))),r(e,["embeddings"],c)}return s(n,["metadata"])!=null&&r(e,["metadata"],y_()),e}function T_(n){const e={},l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],jn(l));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Cg(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function C_(n){const e={},l=s(n,["_self"]);l!=null&&r(e,["image"],T_(l));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],Cg(c)),e}function S_(n){const e={},l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>C_(d))),r(e,["generatedImages"],c)}const a=s(n,["positivePromptSafetyAttributes"]);return a!=null&&r(e,["positivePromptSafetyAttributes"],Cg(a)),e}function x_(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function ou(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const g=s(n,["_self"]);g!=null&&r(e,["tunedModelInfo"],x_(g));const h=s(n,["inputTokenLimit"]);h!=null&&r(e,["inputTokenLimit"],h);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=s(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function E_(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=og(c);Array.isArray(d)&&(d=d.map(g=>ou(g))),r(e,["models"],d)}return e}function __(){return{}}function A_(n){const e={},l=s(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const a=s(n,["cachedContentTokenCount"]);return a!=null&&r(e,["cachedContentTokenCount"],a),e}function M_(n){const e={},l=s(n,["video","uri"]);l!=null&&r(e,["uri"],l);const a=s(n,["video","encodedVideo"]);a!=null&&r(e,["videoBytes"],jn(a));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function R_(n){const e={},l=s(n,["_self"]);return l!=null&&r(e,["video"],M_(l)),e}function b_(n){const e={},l=s(n,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(g=>R_(g))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function N_(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const g=s(n,["response","generateVideoResponse"]);return g!=null&&r(e,["response"],b_(g)),e}function w_(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function D_(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function I_(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function U_(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],w_(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],D_(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],I_(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function L_(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>U_(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function P_(n){const e={},l=s(n,["citations"]);return l!=null&&r(e,["citations"],l),e}function q_(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function G_(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>q_(c))),r(e,["urlMetadata"],a)}return e}function V_(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],L_(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],P_(a));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const g=s(n,["urlContextMetadata"]);g!=null&&r(e,["urlContextMetadata"],G_(g));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Vp(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>V_(v))),r(e,["candidates"],p)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["responseId"]);d!=null&&r(e,["responseId"],d);const g=s(n,["modelVersion"]);g!=null&&r(e,["modelVersion"],g);const h=s(n,["promptFeedback"]);h!=null&&r(e,["promptFeedback"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function k_(n){const e={},l=s(n,["truncated"]);l!=null&&r(e,["truncated"],l);const a=s(n,["token_count"]);return a!=null&&r(e,["tokenCount"],a),e}function B_(n){const e={},l=s(n,["values"]);l!=null&&r(e,["values"],l);const a=s(n,["statistics"]);return a!=null&&r(e,["statistics"],k_(a)),e}function H_(n){const e={},l=s(n,["billableCharacterCount"]);return l!=null&&r(e,["billableCharacterCount"],l),e}function z_(n){const e={},l=s(n,["predictions[]","embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>B_(d))),r(e,["embeddings"],c)}const a=s(n,["metadata"]);return a!=null&&r(e,["metadata"],H_(a)),e}function O_(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["imageBytes"],jn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Sg(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function mu(n){const e={},l=s(n,["_self"]);l!=null&&r(e,["image"],O_(l));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],Sg(c));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function Y_(n){const e={},l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>mu(d))),r(e,["generatedImages"],c)}const a=s(n,["positivePromptSafetyAttributes"]);return a!=null&&r(e,["positivePromptSafetyAttributes"],Sg(a)),e}function F_(n){const e={},l=s(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>mu(c))),r(e,["generatedImages"],a)}return e}function J_(n){const e={},l=s(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>mu(c))),r(e,["generatedImages"],a)}return e}function Q_(n){const e={},l=s(n,["endpoint"]);l!=null&&r(e,["name"],l);const a=s(n,["deployedModelId"]);return a!=null&&r(e,["deployedModelId"],a),e}function X_(n){const e={},l=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function K_(n){const e={},l=s(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function au(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const g=s(n,["deployedModels"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(_=>Q_(_))),r(e,["endpoints"],C)}const h=s(n,["labels"]);h!=null&&r(e,["labels"],h);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],X_(y));const p=s(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=s(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(_=>K_(_))),r(e,["checkpoints"],C)}return e}function Z_(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=og(c);Array.isArray(d)&&(d=d.map(g=>au(g))),r(e,["models"],d)}return e}function $_(){return{}}function W_(n){const e={},l=s(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function j_(n){const e={},l=s(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function eA(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["uri"],l);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["videoBytes"],jn(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function tA(n){const e={},l=s(n,["_self"]);return l!=null&&r(e,["video"],eA(l)),e}function nA(n){const e={},l=s(n,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(g=>tA(g))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function iA(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const g=s(n,["response"]);return g!=null&&r(e,["response"],nA(g)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lA="Content-Type",oA="X-Server-Timeout",aA="User-Agent",su="x-goog-api-client",sA="1.11.0",rA=`google-genai-sdk/${sA}`,uA="v1beta1",cA="v1beta",kp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class fA{constructor(e){var l,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:uA,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:cA,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,a){const c=[this.getRequestUrlInternal(l)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,l,a);if(e.queryParams)for(const[g,h]of Object.entries(e.queryParams))c.searchParams.append(g,String(h));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,l){const a=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(l))typeof d=="object"?a[c]=Object.assign(Object.assign({},a[c]),d):d!==void 0&&(a[c]=d);return a}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,l,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,a){if(l&&l.timeout||a){const c=new AbortController,d=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>c.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return l&&l.extraBody!==null&&dA(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async c=>(await Bp(c),new jr(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async c=>(await Bp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var l;return zi(this,arguments,function*(){const c=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let g="";for(;;){const{done:h,value:y}=yield ke(c.read());if(h){if(g.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=d.decode(y,{stream:!0});try{const C=JSON.parse(p);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),b=_.status,H=_.code,k=`got status: ${b}. ${JSON.stringify(C)}`;if(H>=400&&H<600)throw new Na({message:k,status:H})}}catch(C){if(C.name==="ApiError")throw C}g+=p;let v=g.match(kp);for(;v;){const C=v[1];try{const _=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ke(new jr(_)),g=g.slice(v[0].length),v=g.match(kp)}catch(_){throw new Error(`exception parsing stream chunk ${C}. ${_}`)}}}}finally{c.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},l=rA+" "+this.clientOptions.userAgentExtra;return e[aA]=l,e[su]=l,e[lA]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))l.append(a,c);e.timeout&&e.timeout>0&&l.append(oA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var a;const c={};l!=null&&(c.mimeType=l.mimeType,c.name=l.name,c.displayName=l.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,g=await d.stat(e);c.sizeBytes=String(g.size);const h=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:g.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=h;const y=await this.fetchUploadUrl(c,l);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var a;let c={};l!=null&&l.httpOptions?c=l.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},g=await this.request({path:ae("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=g==null?void 0:g.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Bp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(a);throw l>=400&&l<600?new Na({message:c,status:l}):new Error(c)}}function dA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,g){const h=Object.assign({},d);for(const y in g)if(Object.prototype.hasOwnProperty.call(g,y)){const p=g[y],v=h[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[y]=p)}return h}const c=a(l,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mA="mcp_used/unknown";let pA=!1;function xg(n){for(const e of n)if(gA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return pA}function Eg(n){var e;const l=(e=n[su])!==null&&e!==void 0?e:"";n[su]=(l+` ${mA}`).trimStart()}function gA(n){return n!==null&&typeof n=="object"&&n instanceof pu}function hA(n,e=100){return zi(this,arguments,function*(){let a,c=0;for(;c<e;){const d=yield ke(n.listTools({cursor:a}));for(const g of d.tools)yield yield ke(g),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class pu{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new pu(e,l)}async initialize(){var e,l,a,c;if(this.mcpTools.length>0)return;const d={},g=[];for(const v of this.mcpClients)try{for(var h=!0,y=(l=void 0,jl(hA(v))),p;p=await y.next(),e=p.done,!e;h=!0){c=p.value,h=!1;const C=c;g.push(C);const _=C.name;if(d[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);d[_]=v}}catch(C){l={error:C}}finally{try{!h&&!e&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=g,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),fv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const g=await c.callTool({name:a.name,arguments:a.args},void 0,d);l.push({functionResponse:{name:a.name,response:g.isError?{error:g}:g}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yA(n,e,l){const a=new iv;let c;l.data instanceof Blob?c=JSON.parse(await l.data.text()):c=JSON.parse(l.data);const d=fx(c);Object.assign(a,d),e(a)}class vA{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a}async connect(e){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),g=SA(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(W=>{p=W}),C=e.callbacks,_=function(){p({})},b=this.apiClient,H={onopen:_,onmessage:W=>{yA(b,C.onmessage,W)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function(W){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function(W){}},k=this.webSocketFactory.create(y,CA(g),H);k.connect(),await v;const F=Ie(this.apiClient,e.model),Z=hg({model:F}),X=lu({setup:Z});return k.send(JSON.stringify(X)),new TA(k,this.apiClient)}}class TA{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=uS(e),a=yg(l);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=cS(e),a=lu(l);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const l=lu({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Bi.PLAY)}pause(){this.sendPlaybackControl(Bi.PAUSE)}stop(){this.sendPlaybackControl(Bi.STOP)}resetContext(){this.sendPlaybackControl(Bi.RESET_CONTEXT)}close(){this.conn.close()}}function CA(n){const e={};return n.forEach((l,a)=>{e[a]=l}),e}function SA(n){const e=new Headers;for(const[l,a]of Object.entries(n))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function EA(n,e,l){const a=new nv;let c;l.data instanceof Blob?c=await l.data.text():l.data instanceof ArrayBuffer?c=new TextDecoder().decode(l.data):c=l.data;const d=JSON.parse(c);if(n.isVertexAI()){const g=Ax(d);Object.assign(a,g)}else{const g=nx(d);Object.assign(a,g)}e(a)}class _A{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a,this.music=new vA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,a,c,d,g,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&xg(e.config.tools)&&Eg(C);const _=bA(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const le=this.apiClient.getApiKey();let j="BidiGenerateContent",ne="key";le!=null&&le.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",ne="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${j}?${ne}=${le}`}let b=()=>{};const H=new Promise(le=>{b=le}),k=e.callbacks,F=function(){var le;(le=k==null?void 0:k.onopen)===null||le===void 0||le.call(k),b({})},Z=this.apiClient,X={onopen:F,onmessage:le=>{EA(Z,k.onmessage,le)},onerror:(l=k==null?void 0:k.onerror)!==null&&l!==void 0?l:function(le){},onclose:(a=k==null?void 0:k.onclose)!==null&&a!==void 0?a:function(le){}},W=this.webSocketFactory.create(v,RA(_),X);W.connect(),await H;let $=Ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const le=this.apiClient.getProject(),j=this.apiClient.getLocation();$=`projects/${le}/locations/${j}/`+$}let J={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ma.AUDIO]}:e.config.responseModalities=[Ma.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ue=(h=(g=e.config)===null||g===void 0?void 0:g.tools)!==null&&h!==void 0?h:[],ee=[];for(const le of ue)if(this.isCallableTool(le)){const j=le;ee.push(await j.tool())}else ee.push(le);ee.length>0&&(e.config.tools=ee);const Ee={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?J=GS(this.apiClient,Ee):J=oS(this.apiClient,Ee),delete J.config,W.send(JSON.stringify(J)),new MA(W,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const AA={turnComplete:!0};class MA{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Lt(l.turns),e.isVertexAI()?a=a.map(c=>Qi(c)):a=a.map(c=>wa(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(xA)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},AA),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:BS(e)}:l={realtimeInput:rS(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function RA(n){const e={};return n.forEach((l,a)=>{e[a]=l}),e}function bA(n){const e=new Headers;for(const[l,a]of Object.entries(n))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hp=10;function zp(n){var e,l,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const g of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(Oi(g)){c=!0;break}if(!c)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Oi(n){return"callTool"in n&&typeof n.callTool=="function"}function NA(n){var e,l,a;return(a=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(c=>Oi(c)))!==null&&a!==void 0?a:!1}function wA(n){var e,l,a;return(a=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(c=>!Oi(c)))!==null&&a!==void 0?a:!1}function Op(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DA extends Wn{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var a,c,d,g,h;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!NA(l)||zp(l.config))return await this.generateContentInternal(y);if(wA(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const C=Lt(y.contents),_=(d=(c=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:Hp;let b=0;for(;b<_&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const H=p.candidates[0].content,k=[];for(const F of(h=(g=l.config)===null||g===void 0?void 0:g.tools)!==null&&h!==void 0?h:[])if(Oi(F)){const X=await F.callTool(p.functionCalls);k.push(...X)}b++,v={role:"user",parts:k},y.contents=Lt(y.contents),y.contents.push(H),y.contents.push(v),Op(y.config)&&(C.push(H),C.push(v))}return Op(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),zp(l.config)){const a=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var c;let d;const g=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:g.push(y);let h;return d?h={generatedImages:g,positivePromptSafetyAttributes:d}:h={generatedImages:g},h}),this.list=async l=>{var a;const g={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!g.config.queryBase){if(!((a=g.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");g.config.filter="labels.tune-type:*"}return new eo($n.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(g),g)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const c={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(c)},this.generateVideos=async l=>await this.generateVideosInternal(l)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var l,a,c;const d=(l=e.config)===null||l===void 0?void 0:l.tools;if(!d)return e;const g=await Promise.all(d.map(async y=>Oi(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:g})};if(h.config.tools=g,e.config&&e.config.tools&&xg(e.config.tools)){const y=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Eg(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var l,a,c;const d=new Map;for(const g of(a=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Oi(g)){const h=g,y=await h.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(d.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);d.set(p.name,h)}}return d}async processAfcStream(e){var l,a,c;const d=(c=(a=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Hp;let g=!1,h=0;const y=await this.initAfcToolsMap(e);return function(p,v,C){var _,b;return zi(this,arguments,function*(){for(var H,k,F,Z;h<d;){g&&(h++,g=!1);const J=yield ke(p.processParamsMaybeAddMcpUsage(C)),ue=yield ke(p.generateContentStreamInternal(J)),ee=[],Ee=[];try{for(var X=!0,W=(k=void 0,jl(ue)),$;$=yield ke(W.next()),H=$.done,!H;X=!0){Z=$.value,X=!1;const le=Z;if(yield yield ke(le),le.candidates&&(!((_=le.candidates[0])===null||_===void 0)&&_.content)){Ee.push(le.candidates[0].content);for(const j of(b=le.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(h<d&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(j.functionCall.name)){const ne=yield ke(v.get(j.functionCall.name).callTool([j.functionCall]));ee.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(le){k={error:le}}finally{try{!X&&!H&&(F=W.return)&&(yield ke(F.call(W)))}finally{if(k)throw k.error}}if(ee.length>0){g=!0;const le=new Kl;le.candidates=[{content:{role:"user",parts:ee}}],yield yield ke(le);const j=[];j.push(...Ee),j.push({role:"user",parts:ee});const ne=Lt(C.contents).concat(j);C.contents=ne}else break}})}(this,y,e)}async generateContentInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=qp(this.apiClient,e);return h=ae("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=Vp(v),_=new Kl;return Object.assign(_,C),_})}else{const p=Pp(this.apiClient,e);return h=ae("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=Gp(v),_=new Kl;return Object.assign(_,C),_})}}async generateContentStreamInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=qp(this.apiClient,e);return h=ae("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),g.then(function(C){return zi(this,arguments,function*(){var _,b,H,k;try{for(var F=!0,Z=jl(C),X;X=yield ke(Z.next()),_=X.done,!_;F=!0){k=X.value,F=!1;const W=k,$=Vp(yield ke(W.json()));$.sdkHttpResponse={headers:W.headers};const J=new Kl;Object.assign(J,$),yield yield ke(J)}}catch(W){b={error:W}}finally{try{!F&&!_&&(H=Z.return)&&(yield ke(H.call(Z)))}finally{if(b)throw b.error}}})})}else{const p=Pp(this.apiClient,e);return h=ae("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),g.then(function(C){return zi(this,arguments,function*(){var _,b,H,k;try{for(var F=!0,Z=jl(C),X;X=yield ke(Z.next()),_=X.done,!_;F=!0){k=X.value,F=!1;const W=k,$=Gp(yield ke(W.json()));$.sdkHttpResponse={headers:W.headers};const J=new Kl;Object.assign(J,$),yield yield ke(J)}}catch(W){b={error:W}}finally{try{!F&&!_&&(H=Z.return)&&(yield ke(H.call(Z)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=GE(this.apiClient,e);return h=ae("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>{const C=z_(v),_=new pp;return Object.assign(_,C),_})}else{const p=Zx(this.apiClient,e);return h=ae("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>{const C=v_(v),_=new pp;return Object.assign(_,C),_})}}async generateImagesInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=kE(this.apiClient,e);return h=ae("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>{const C=Y_(v),_=new gp;return Object.assign(_,C),_})}else{const p=Wx(this.apiClient,e);return h=ae("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>{const C=S_(v),_=new gp;return Object.assign(_,C),_})}}async editImageInternal(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=JE(this.apiClient,e);return d=ae("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=F_(y),v=new Z0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=XE(this.apiClient,e);return d=ae("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=J_(y),v=new $0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=KE(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>au(v))}else{const p=jx(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>ou(v))}}async listInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=$E(this.apiClient,e);return h=ae("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=Z_(v),_=new hp;return Object.assign(_,C),_})}else{const p=tE(this.apiClient,e);return h=ae("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=E_(v),_=new hp;return Object.assign(_,C),_})}}async update(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=jE(this.apiClient,e);return h=ae("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>au(v))}else{const p=iE(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>ou(v))}}async delete(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=e_(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(()=>{const v=$_(),C=new yp;return Object.assign(C,v),C})}else{const p=lE(this.apiClient,e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(()=>{const v=__(),C=new yp;return Object.assign(C,v),C})}}async countTokens(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=n_(this.apiClient,e);return h=ae("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>{const C=W_(v),_=new vp;return Object.assign(_,C),_})}else{const p=aE(this.apiClient,e);return h=ae("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>{const C=A_(v),_=new vp;return Object.assign(_,C),_})}}async computeTokens(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=i_(this.apiClient,e);return d=ae("{model}:computeTokens",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const p=j_(y),v=new W0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=a_(this.apiClient,e);return h=ae("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>{const C=iA(v),_=new Ra;return Object.assign(_,C),_})}else{const p=uE(this.apiClient,e);return h=ae("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>{const C=N_(v),_=new Ra;return Object.assign(_,C),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IA(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["_url","operationName"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function UA(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["_url","operationName"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function LA(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["operationName"],l);const a=s(n,["resourceName"]);a!=null&&r(e,["_url","resourceName"],a);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PA extends Wn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,a=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const g=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:c,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:g,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const l=e.operation,a=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const g=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:c,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:g,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=UA(e);return h=ae("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g}else{const p=IA(e);return h=ae("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g}}async fetchPredictVideosOperationInternal(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=LA(e);return d=ae("{resourceName}:fetchPredictOperation",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qA(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function _g(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],qA(l)),e}function GA(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],_g(a)),e}function VA(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>GA(c))),r(e,["speakerVoiceConfigs"],a)}return e}function kA(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],_g(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],VA(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function BA(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function HA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function zA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function OA(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],BA(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],HA(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],zA(d));const g=s(n,["thoughtSignature"]);g!=null&&r(e,["thoughtSignature"],g);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=s(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function YA(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>OA(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function FA(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const g=s(n,["parametersJsonSchema"]);g!=null&&r(e,["parametersJsonSchema"],g);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function JA(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function QA(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],JA(l)),e}function XA(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function KA(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],XA(l)),e}function ZA(){return{}}function $A(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>FA(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],QA(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],KA(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],ZA());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function WA(n){const e={},l=s(n,["handle"]);if(l!=null&&r(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yp(){return{}}function jA(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const g=s(n,["silenceDurationMs"]);return g!=null&&r(e,["silenceDurationMs"],g),e}function e1(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],jA(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function t1(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function n1(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],t1(a)),e}function i1(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function l1(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const g=s(n,["topP"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topP"],g);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],kA(du(C)));const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=s(n,["systemInstruction"]);e!==void 0&&b!=null&&r(e,["setup","systemInstruction"],YA(st(b)));const H=s(n,["tools"]);if(e!==void 0&&H!=null){let J=Fi(H);Array.isArray(J)&&(J=J.map(ue=>$A(Yi(ue)))),r(e,["setup","tools"],J)}const k=s(n,["sessionResumption"]);e!==void 0&&k!=null&&r(e,["setup","sessionResumption"],WA(k));const F=s(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&r(e,["setup","inputAudioTranscription"],Yp());const Z=s(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&r(e,["setup","outputAudioTranscription"],Yp());const X=s(n,["realtimeInputConfig"]);e!==void 0&&X!=null&&r(e,["setup","realtimeInputConfig"],e1(X));const W=s(n,["contextWindowCompression"]);e!==void 0&&W!=null&&r(e,["setup","contextWindowCompression"],n1(W));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],i1($)),l}function o1(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Ie(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],l1(c,l)),l}function a1(n,e,l){const a={},c=s(e,["expireTime"]);l!==void 0&&c!=null&&r(l,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);l!==void 0&&d!=null&&r(l,["newSessionExpireTime"],d);const g=s(e,["uses"]);l!==void 0&&g!=null&&r(l,["uses"],g);const h=s(e,["liveConnectConstraints"]);l!==void 0&&h!=null&&r(l,["bidiGenerateContentSetup"],o1(n,h));const y=s(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&r(l,["fieldMask"],y),a}function s1(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],a1(n,a,l)),l}function r1(n){const e={},l=s(n,["name"]);return l!=null&&r(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u1(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const a=n[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(d=>`${l}.${d}`);e.push(...c)}else e.push(l)}return e.join(",")}function c1(n,e){let l=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,l=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(l){const d=u1(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const g=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];c.length>0&&(h=c.map(p=>g.includes(p)?`generationConfig.${p}`:p));const y=[];d&&y.push(d),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class f1 extends Wn{constructor(e){super(),this.apiClient=e}async create(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=s1(this.apiClient,e);d=ae("auth_tokens",h._url),g=h._query,delete h.config,delete h._url,delete h._query;const y=c1(h,e.config);return c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),c.then(p=>r1(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d1(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","name"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function m1(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function p1(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],m1(l,e)),e}function g1(n){const e={},l=s(n,["textInput"]);l!=null&&r(e,["textInput"],l);const a=s(n,["output"]);return a!=null&&r(e,["output"],a),e}function h1(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=s(n,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>g1(c))),r(e,["examples","examples"],a)}return e}function y1(n,e){const l={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=s(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&r(e,["displayName"],a),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(l,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=s(n,["batchSize"]);e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","batchSize"],g);const h=s(n,["learningRate"]);return e!==void 0&&h!=null&&r(e,["tuningTask","hyperparameters","learningRate"],h),l}function v1(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["trainingDataset"]);a!=null&&r(e,["tuningTask","trainingData"],h1(a));const c=s(n,["config"]);return c!=null&&r(e,["config"],y1(c,e)),e}function T1(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","name"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function C1(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function S1(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],C1(l,e)),e}function x1(n,e){const l={},a=s(n,["gcsUri"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function E1(n,e){const l={},a=s(n,["gcsUri"]);a!=null&&r(l,["validationDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),l}function _1(n,e){const l={},a=s(n,["validationDataset"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec"],E1(a,l));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const g=s(n,["epochCount"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],g);const h=s(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function A1(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["trainingDataset"]);a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],x1(a,e));const c=s(n,["config"]);return c!=null&&r(e,["config"],_1(c,e)),e}function M1(n){const e={},l=s(n,["name"]);l!=null&&r(e,["model"],l);const a=s(n,["name"]);return a!=null&&r(e,["endpoint"],a),e}function Ag(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["state"]);a!=null&&r(e,["state"],ng(a));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["tuningTask","startTime"]);d!=null&&r(e,["startTime"],d);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["description"]);y!=null&&r(e,["description"],y);const p=s(n,["baseModel"]);p!=null&&r(e,["baseModel"],p);const v=s(n,["_self"]);v!=null&&r(e,["tunedModel"],M1(v));const C=s(n,["distillationSpec"]);C!=null&&r(e,["distillationSpec"],C);const _=s(n,["experiment"]);_!=null&&r(e,["experiment"],_);const b=s(n,["labels"]);b!=null&&r(e,["labels"],b);const H=s(n,["pipelineJob"]);H!=null&&r(e,["pipelineJob"],H);const k=s(n,["satisfiesPzi"]);k!=null&&r(e,["satisfiesPzi"],k);const F=s(n,["satisfiesPzs"]);F!=null&&r(e,["satisfiesPzs"],F);const Z=s(n,["serviceAccount"]);Z!=null&&r(e,["serviceAccount"],Z);const X=s(n,["tunedModelDisplayName"]);return X!=null&&r(e,["tunedModelDisplayName"],X),e}function R1(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>Ag(g))),r(e,["tuningJobs"],d)}return e}function b1(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],d),e}function N1(n){const e={},l=s(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function w1(n){const e={},l=s(n,["model"]);l!=null&&r(e,["model"],l);const a=s(n,["endpoint"]);a!=null&&r(e,["endpoint"],a);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>N1(g))),r(e,["checkpoints"],d)}return e}function ru(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["state"]);a!=null&&r(e,["state"],ng(a));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["startTime"]);d!=null&&r(e,["startTime"],d);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["error"]);y!=null&&r(e,["error"],y);const p=s(n,["description"]);p!=null&&r(e,["description"],p);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const C=s(n,["tunedModel"]);C!=null&&r(e,["tunedModel"],w1(C));const _=s(n,["supervisedTuningSpec"]);_!=null&&r(e,["supervisedTuningSpec"],_);const b=s(n,["tuningDataStats"]);b!=null&&r(e,["tuningDataStats"],b);const H=s(n,["encryptionSpec"]);H!=null&&r(e,["encryptionSpec"],H);const k=s(n,["partnerModelTuningSpec"]);k!=null&&r(e,["partnerModelTuningSpec"],k);const F=s(n,["distillationSpec"]);F!=null&&r(e,["distillationSpec"],F);const Z=s(n,["experiment"]);Z!=null&&r(e,["experiment"],Z);const X=s(n,["labels"]);X!=null&&r(e,["labels"],X);const W=s(n,["pipelineJob"]);W!=null&&r(e,["pipelineJob"],W);const $=s(n,["satisfiesPzi"]);$!=null&&r(e,["satisfiesPzi"],$);const J=s(n,["satisfiesPzs"]);J!=null&&r(e,["satisfiesPzs"],J);const ue=s(n,["serviceAccount"]);ue!=null&&r(e,["serviceAccount"],ue);const ee=s(n,["tunedModelDisplayName"]);return ee!=null&&r(e,["tunedModelDisplayName"],ee),e}function D1(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>ru(g))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I1 extends Wn{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new eo($n.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const a=await this.tuneMldevInternal(l);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:Wr.JOB_STATE_QUEUED}}}}async getInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=T1(e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),g.then(v=>ru(v))}else{const p=d1(e);return h=ae("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),g.then(v=>Ag(v))}}async listInternal(e){var l,a,c,d;let g,h="",y={};if(this.apiClient.isVertexAI()){const p=S1(e);return h=ae("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=D1(v),_=new Cp;return Object.assign(_,C),_})}else{const p=p1(e);return h=ae("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,g=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:v.headers},_})),g.then(v=>{const C=R1(v),_=new Cp;return Object.assign(_,C),_})}}async tuneInternal(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI()){const h=A1(e);return d=ae("tuningJobs",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>ru(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,a;let c,d="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=v1(e);return d=ae("tunedModels",h._url),g=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>b1(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U1{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const L1=1024*1024*8,P1=3,q1=1e3,G1=2,Zr="x-goog-upload-status";async function V1(n,e,l){var a,c,d;let g=0,h=0,y=new jr(new Response),p="upload";for(g=n.size;h<g;){const C=Math.min(L1,g-h),_=n.slice(h,h+C);h+C>=g&&(p+=", finalize");let b=0,H=q1;for(;b<P1&&(y=await l.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(C)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[Zr]));)b++,await B1(H),H=H*G1;if(h+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Zr])!=="active")break;if(g<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Zr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function k1(n){return{size:n.size,type:n.type}}function B1(n){return new Promise(e=>setTimeout(e,n))}class H1{async upload(e,l,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await V1(e,l,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await k1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z1{create(e,l,a){return new O1(e,l,a)}}class O1{constructor(e,l,a){this.url=e,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fp="x-goog-api-key";class Y1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Fp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Fp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F1="gl-node/";class J1{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const a=K0(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new Y1(this.apiKey);this.apiClient=new fA({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:F1+"web",uploader:new H1,downloader:new U1}),this.models=new DA(this.apiClient),this.live=new _A(this.apiClient,c,new z1),this.batches=new vT(this.apiClient),this.chats=new xC(this.models,this.apiClient),this.caches=new TC(this.apiClient),this.files=new PC(this.apiClient),this.operations=new PA(this.apiClient),this.authTokens=new f1(this.apiClient),this.tunings=new I1(this.apiClient)}}const Mg={articles_a_an:{title:"The Basics: Articles 'a' and 'an'",explanation:"Use 'an' before words that start with a vowel sound (a, e, i, o, u). Use 'a' for all other sounds. This helps words flow smoothly!",examples:[{text:"an orange",icon_name:"orange"},{text:"a cat",icon_name:"cat"},{text:"an idea",icon_name:"idea"}]}};var Q1={};const to=Q1.API_KEY;to||console.warn("API_KEY is not set. Gemini features will be disabled.");const gu=new J1({apiKey:to}),hu=n=>new Promise(e=>setTimeout(e,n)),yu=n=>{const e=JSON.stringify(n)||((n==null?void 0:n.toString())??"");return e.includes("429")||e.includes("RESOURCE_EXHAUSTED")};async function X1(n){const e=()=>(console.log("Using fallback quiz due to API error or missing key."),{sentence:`This is ___ ${n}.`,correctAnswer:["a","e","i","o","u"].includes(n[0].toLowerCase())?"an":"a",options:["a","an"]});if(!to)return{data:e(),errorType:"NETWORK_ERROR"};for(let l=1;l<=3;l++)try{const a=`You are a quiz generator for an educational game. Create a simple 'fill-in-the-blank' question to test a beginner's use of the English articles 'a' or 'an'. The target noun is '${n}'. Provide your response ONLY in a valid JSON format with the following structure: { "sentence": "...", "correct_answer": "...", "options": ["a", "an"] }`,d=(await gu.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{sentence:{type:oe.STRING,description:"A sentence with '___' for the blank."},correct_answer:{type:oe.STRING,description:"The correct article, 'a' or 'an'."},options:{type:oe.ARRAY,description:"An array containing two options: 'a' and 'an'.",items:{type:oe.STRING}}},required:["sentence","correct_answer","options"]}}})).text.trim(),g=JSON.parse(d);if(g&&typeof g.sentence=="string"&&typeof g.correct_answer=="string"&&Array.isArray(g.options))return{data:{sentence:g.sentence,correctAnswer:g.correct_answer,options:g.options},errorType:null};throw new Error(`Gemini response did not match expected schema: ${d}`)}catch(a){if(yu(a))return console.error("API quota exceeded during quiz generation."),{data:e(),errorType:"QUOTA_EXHAUSTED"};console.warn(`Retriable error on quiz generation attempt ${l}:`,a),l<3&&await hu(1e3*Math.pow(2,l-1))}return console.error("API call failed after all retries for quiz generation."),{data:e(),errorType:"NETWORK_ERROR"}}async function K1(n){const e=()=>{const l=Mg[n];return l?(console.log("Using fallback full lesson due to API error or missing key."),l):{title:"Error",explanation:"Lesson not found.",examples:[]}};if(!to)return{data:e(),errorType:"NETWORK_ERROR"};for(let l=1;l<=3;l++)try{const d=(await gu.models.generateContent({model:"gemini-2.5-flash",contents:`You are a friendly and creative English teacher for a game. Generate a complete mini-lesson about using the articles 'a' and 'an'.
The lesson needs a title, a brief explanation (2-3 sentences), and exactly 3 distinct examples.
For each example, provide the text (e.g., 'a clever fox') and an appropriate, simple noun to represent it visually (e.g., 'fox').
Provide your response ONLY in a valid JSON format with the following structure:
{
  "title": "...",
  "explanation": "...",
  "examples": [
    { "text": "...", "icon_name": "..." },
    { "text": "...", "icon_name": "..." },
    { "text": "...", "icon_name": "..." }
  ]
}`,config:{responseMimeType:"application/json",responseSchema:{type:oe.OBJECT,properties:{title:{type:oe.STRING,description:"A short, engaging title for the lesson."},explanation:{type:oe.STRING,description:"A simple, 2-3 sentence explanation of the rule."},examples:{type:oe.ARRAY,description:"An array of exactly 3 examples.",items:{type:oe.OBJECT,properties:{text:{type:oe.STRING,description:"The example text, e.g., 'an awesome adventure'."},icon_name:{type:oe.STRING,description:"A single, simple noun for a visual icon, e.g., 'adventure'."}},required:["text","icon_name"]}}},required:["title","explanation","examples"]}}})).text.trim(),g=JSON.parse(d);if(g&&g.title&&g.explanation&&Array.isArray(g.examples)&&g.examples.length>0)return{data:g,errorType:null};throw new Error(`Gemini response for full lesson did not match schema: ${d}`)}catch(a){if(yu(a))return console.error("API quota exceeded during lesson generation."),{data:e(),errorType:"QUOTA_EXHAUSTED"};console.warn(`Retriable error on lesson generation attempt ${l}:`,a),l<3&&await hu(1500*Math.pow(2,l-1))}return console.error("API call failed after all retries for lesson generation."),{data:e(),errorType:"NETWORK_ERROR"}}const Ne=48,Rg={TILE_SIZE:Ne,levelNumber:1,theme:"meadows",playerSpawn:{x:1,y:7},exitPosition:{x:18,y:12},layout:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,0,0,0,1],[1,0,1,1,0,0,0,0,1,0,0,0,0,1,1,1,0,1,0,1],[1,0,1,1,0,1,1,0,1,1,1,1,0,1,0,0,0,1,0,1],[1,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,1,1,0,1],[1,1,1,0,1,1,0,1,1,1,0,1,0,0,0,1,0,0,0,1],[1,0,0,0,1,0,0,1,0,0,0,1,1,1,0,1,0,1,1,1],[1,0,1,1,1,0,1,1,0,1,0,0,0,1,0,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,1,1,1,0,1,1,1,1,1,0,1],[1,1,1,1,1,0,1,0,1,1,0,0,0,0,0,0,0,1,0,1],[1,0,0,0,1,0,1,0,0,0,0,1,1,1,1,0,1,1,0,1],[1,0,1,0,1,1,1,1,1,1,1,1,0,0,1,0,1,0,0,1],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],npc:{name:"Fitz",position:{x:3,y:7},quest:"I seem to have dropped my things again! Can you find my book, hat, and apple?"},guidingStone:{lessonId:"articles_a_an",position:{x:2,y:2}},questItems:[{id:"item_1",name:"book",pos:{x:18*Ne,y:2*Ne},isCollected:!1,guardianId:"enemy_1"},{id:"item_2",name:"hat",pos:{x:17*Ne,y:8*Ne},isCollected:!1,guardianId:"enemy_2"},{id:"item_3",name:"apple",pos:{x:8*Ne,y:12*Ne},isCollected:!1,guardianId:"enemy_3"}],enemies:[{id:"enemy_1",type:"article_imp",position:{x:17*Ne,y:2*Ne},startPos:{x:17*Ne,y:2*Ne},patrolRange:1*Ne,status:"patrolling",direction:"right",challenge:{type:"article",itemName:"book",sentence:"He is reading ___ book.",options:["a","an"],correctAnswer:"a"},vx:0,vy:0},{id:"enemy_2",type:"article_imp",position:{x:17*Ne,y:9*Ne},startPos:{x:17*Ne,y:9*Ne},patrolRange:1*Ne,status:"patrolling",direction:"right",challenge:{type:"article",itemName:"hat",sentence:"That is ___ nice hat.",options:["a","an"],correctAnswer:"a"},vx:0,vy:0},{id:"enemy_3",type:"article_imp",position:{x:8*Ne,y:11*Ne},startPos:{x:8*Ne,y:11*Ne},patrolRange:1*Ne,status:"patrolling",direction:"right",challenge:{type:"article",itemName:"apple",sentence:"She is eating ___ apple.",options:["a","an"],correctAnswer:"an"},vx:0,vy:0}]};function Z1(n){const{layout:e,playerSpawn:l,TILE_SIZE:a}=n,c=[n.npc.position,n.guidingStone.position,n.exitPosition,...n.questItems.map(p=>({x:Math.floor(p.pos.x/a),y:Math.floor(p.pos.y/a)})),...n.enemies.map(p=>({x:Math.floor(p.position.x/a),y:Math.floor(p.position.y/a)}))],d=`${l.x},${l.y}`,g=[d],h=new Set([d]);for(;g.length>0;){const p=g.shift(),[v,C]=p.split(",").map(Number),_=[[v,C-1],[v,C+1],[v-1,C],[v+1,C]];for(const[b,H]of _)if(H>=0&&H<e.length&&b>=0&&b<e[0].length&&e[H][b]===0){const k=`${b},${H}`;h.has(k)||(h.add(k),g.push(k))}}const y=[];for(const p of c){const v=`${p.x},${p.y}`;h.has(v)||y.push(p)}return y.length>0?(console.warn(`Validation Failed: ${y.length} targets unreachable from spawn ${d}.`),y.forEach(p=>console.warn(`- Unreachable at tile ${p.x},${p.y}`)),{isValid:!1,reachableNodes:h,unreachableTargets:y}):{isValid:!0}}function $1(n,e,l){const a=n.layout.map(d=>[...d]),c=Array.from(l).map(d=>{const[g,h]=d.split(",").map(Number);return{x:g,y:h}});for(const d of e){let g=null,h=1/0;for(const y of c){const p=Math.hypot(d.x-y.x,d.y-y.y);p<h&&(h=p,g=y)}if(g){let y=d.x,p=d.y;const v=g.x,C=g.y,_=Math.abs(v-y),b=-Math.abs(C-p),H=y<v?1:-1,k=p<C?1:-1;let F=_+b;for(;a[p]&&a[p][y]!==void 0&&(a[p][y]=0),!(y===v&&p===C);){const Z=2*F;Z>=b&&(F+=b,y+=H),Z<=_&&(F+=_,p+=k)}}}return a}async function W1(n){const e=()=>{console.log("Using fallback procedural level due to API error or max retries.");const g=JSON.parse(JSON.stringify(Rg));return g.levelNumber=n,g};if(!to)return{data:e(),errorType:"NETWORK_ERROR"};const l=2+Math.min(n,5),a=`
You are a level designer for a 2D tile-based game. Your most important job is to create playable maps.

**The Golden Rule:** Think of the layout as a floor plan. '0' is the open floor, and '1' is a solid wall. You must **NEVER** place any important object (player, NPC, items, enemies, exit) on a '1' tile. Furthermore, you must ensure that there is a clear, walkable path on the '0' tiles from where the player starts to every other important object. **There can be no islands or areas completely surrounded by walls.** Imagine you are the player. If you cannot walk from your spawn point to an item without passing through a '1' (a wall), the level is broken.

**Task:**
Generate the data for a single level in our game, "Lexicon Legends," based on the difficulty ${n}. The grid size is 20x15.

**STRICT REQUIREMENTS based on The Golden Rule:**

1.  **Layout (\`layout\`):** Create a 20x15 2D array of 0s and 1s.
2.  **Player Spawn (\`playerSpawn\`):** Define a single starting position. **This position MUST be on a '0' tile.**
3.  **Exit Point (\`exitPosition\`):** You must define an exit point for this level. **This position MUST be on a walkable '0' tile.**
4.  **Key Elements Placement:**
    -   Generate exactly ${l} **Quest Items**.
    -   Generate exactly ${l} **Enemies** to guard them.
    -   Generate one **NPC** and one **Guiding Stone**.
    -   **CRITICAL:** Place ALL of these elements at different coordinates. Every single one of these coordinates **MUST be on a '0' tile** in your layout.
5.  **Connectivity:**
    -   **ABSOLUTELY CRITICAL:** After you design the layout and place the objects, perform a mental check. Start at \`playerSpawn\`. Can you trace a path of '0's to the NPC? To the Guiding Stone? To every single Quest Item? To the \`exitPosition\`? If the answer is no for even one of them, the layout is invalid and must be fixed. Do not create isolated sections.
6.  **Thematic Content (Based on Level Number):**
    -   **Level 1-3 (The Noun Meadows Theme):** Theme 'meadows', NPC 'Fitz', Quest "Find my lost items!", Guiding Stone 'articles_a_an', Items ('book', 'hat', 'apple', 'map', 'key'), Enemy 'article_imp'.
    -   **Level 4+ (The Verb Volcanoes Theme):** Theme 'volcanoes', NPC 'Vera', Quest "Activate the runes!", Guiding Stone 'tenses_simple_present', Items ('fire_rune', 'lava_stone', 'obsidian_shard', 'magma_core'), Enemy 'tense_terror'.

Provide your response ONLY in a valid, minified JSON format matching the schema. Do not add comments or markdown.
`,c={type:oe.OBJECT,properties:{levelNumber:{type:oe.NUMBER},theme:{type:oe.STRING},layout:{type:oe.ARRAY,items:{type:oe.ARRAY,items:{type:oe.NUMBER}}},playerSpawn:{type:oe.OBJECT,properties:{x:{type:oe.NUMBER},y:{type:oe.NUMBER}},required:["x","y"]},exitPosition:{type:oe.OBJECT,properties:{x:{type:oe.NUMBER},y:{type:oe.NUMBER}},required:["x","y"]},npc:{type:oe.OBJECT,properties:{name:{type:oe.STRING},position:{type:oe.OBJECT,properties:{x:{type:oe.NUMBER},y:{type:oe.NUMBER}},required:["x","y"]},quest:{type:oe.STRING}},required:["name","position","quest"]},guidingStone:{type:oe.OBJECT,properties:{lessonId:{type:oe.STRING},position:{type:oe.OBJECT,properties:{x:{type:oe.NUMBER},y:{type:oe.NUMBER}},required:["x","y"]}},required:["lessonId","position"]},questItems:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{id:{type:oe.STRING},name:{type:oe.STRING},position:{type:oe.OBJECT,properties:{x:{type:oe.NUMBER},y:{type:oe.NUMBER}},required:["x","y"]},guardianId:{type:oe.STRING}},required:["id","name","position","guardianId"]}},enemies:{type:oe.ARRAY,items:{type:oe.OBJECT,properties:{id:{type:oe.STRING},type:{type:oe.STRING},position:{type:oe.OBJECT,properties:{x:{type:oe.NUMBER},y:{type:oe.NUMBER}},required:["x","y"]},challengeTopic:{type:oe.STRING}},required:["id","type","position","challengeTopic"]}}},required:["levelNumber","theme","layout","playerSpawn","exitPosition","npc","guidingStone","questItems","enemies"]},d=3;for(let g=1;g<=d;g++)try{const y=(await gu.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{responseMimeType:"application/json",responseSchema:c}})).text.trim(),p=JSON.parse(y),v=p.enemies.map(k=>{const F=p.questItems.find(X=>X.guardianId===k.id),Z=F?F.name:"item";return{id:k.id,type:k.type,position:{x:k.position.x*Ne,y:k.position.y*Ne},startPos:{x:k.position.x*Ne,y:k.position.y*Ne},patrolRange:2*Ne,status:"patrolling",direction:"right",challengeTopic:k.challengeTopic,challenge:{type:"article",itemName:Z,sentence:`It is ___ ${Z}.`,options:["a","an"],correctAnswer:["a","e","i","o","u"].includes(Z[0].toLowerCase())?"an":"a"},vx:0,vy:0}}),C=p.questItems.map(k=>({id:k.id,name:k.name,pos:{x:k.position.x*Ne,y:k.position.y*Ne},isCollected:!1,guardianId:k.guardianId}));let _={TILE_SIZE:Ne,levelNumber:p.levelNumber,theme:p.theme,layout:p.layout,playerSpawn:p.playerSpawn,npc:p.npc,guidingStone:p.guidingStone,questItems:C,enemies:v,exitPosition:p.exitPosition},b=0;const H=5;for(;b<H;){b++;const k=Z1(_);if(k.isValid)return console.log(`Successfully generated and validated level on API attempt ${g} after ${b-1} fix(es).`),{data:_,errorType:null};console.warn(b===1?`Generated level failed validation on API attempt ${g}. Attempting to fix...`:`Level still invalid. Attempting fix #${b}...`);const F=$1(_,k.unreachableTargets,k.reachableNodes);_={..._,layout:F}}throw new Error(`Failed to fix level connectivity after ${H} attempts.`)}catch(h){if(yu(h))return console.error("API quota exceeded during level generation."),{data:e(),errorType:"QUOTA_EXHAUSTED"};console.error(`API call or level fixing failed on attempt ${g}:`,h),g<d&&await hu(2e3)}return console.error(`Failed to generate a valid level after ${d} attempts. Loading fallback.`),{data:e(),errorType:"NETWORK_ERROR"}}const xa={status:"not_started",fitzDialogueState:"initial_quest",isPortalSpawned:!1,questItems:Vt.interactives.filter(n=>n.type==="quest_item").map(n=>({id:n.id,name:n.itemName,pos:{x:n.x*Vt.TILE_SIZE,y:n.y*Vt.TILE_SIZE},isCollected:!1,guardianId:n.guardianId})),enemies:Vt.enemies.map(n=>({id:n.id,type:n.type,position:{x:n.x*Vt.TILE_SIZE,y:n.y*Vt.TILE_SIZE},startPos:{x:n.x*Vt.TILE_SIZE,y:n.y*Vt.TILE_SIZE},patrolRange:n.patrolRange*Vt.TILE_SIZE,status:"patrolling",direction:"right",challenge:n.challenge,vx:0,vy:0}))},Jp=["book","hat","apple"],j1=["Rune of Run","Rune of Jump","Rune of Climb"],eM=["Restored Red Crystal","Restored Green Crystal","Restored Blue Crystal"],tM=10,nM=100,Qp=3,iM=1500,Zl=40,$l=48,lM=10,Xp=[{id:"Restored Red Crystal",targetObject:"flower",icon:"",requiredAdjectives:["red","small"],availableAdjectives:["red","blue","big","small","shiny","tall"],position:"top-1/4 right-1/4"},{id:"Restored Green Crystal",targetObject:"tree",icon:"",requiredAdjectives:["tall","green"],availableAdjectives:["short","wide","tall","green","leafy","bare"],position:"bottom-1/4 left-1/3"},{id:"Restored Blue Crystal",targetObject:"rock",icon:"",requiredAdjectives:["big","blue"],availableAdjectives:["small","blue","orange","pointy","big","smooth"],position:"bottom-1/2 right-1/4"}],Aa=[{id:"bridge-01",initialState:"broken",solvedState:"whole",position:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",prompt:"The bridge looks like it was whole long ago.",challenge:{subject:"The bridge",verbOptions:{past:"was",present:"is",future:"will be"},complement:"strong.",correctTense:"past"}},{id:"plant-01",initialState:"seed",solvedState:"grown",position:"bottom-1/4 left-1/4",prompt:"This seed holds great potential. It needs a glimpse of its destiny.",challenge:{subject:"This seed",verbOptions:{past:"grew",present:"grows",future:"will grow"},complement:"a great tree.",correctTense:"future"}},{id:"crystal-01",initialState:"phasing",solvedState:"stable",position:"top-1/4 right-1/4",prompt:"To stabilize the crystal, you must ground it in the here and now.",challenge:{subject:"The crystal",verbOptions:{past:"was",present:"is",future:"will be"},complement:"stable.",correctTense:"present"}}],oM=Aa.reduce((n,e)=>(n[e.id]=e.initialState,n),{}),aM={Common:[{type:"xp",name:"+50 XP"}],Rare:[{type:"decoration",name:"Glowing Lantern"},{type:"decoration",name:"Stone Bench"},{type:"companion",name:"Book Owl"}],Epic:[{type:"outfit",name:"Scholar Robe"},{type:"sage",name:"Sage of Synonyms"},{type:"companion",name:"Grammar Gremlin"}]},sM={TILE_SIZE:48,layout:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],interactives:[],playerStart:{x:10,y:7},enemies:[]},rM=()=>{const[n,e]=fe.useState(()=>{var w,D;const S={worldProgress:{noun_meadows:JSON.parse(JSON.stringify(xa)),verb_volcanoes:{status:"not_started"},adjective_isles:{status:"not_started",isColored:!1},tense_tangled_forest:{status:"not_started",objectStates:oM}},inventory:[],playerXP:0,lingoGems:100,wordTome:{nouns:[],verbs:[],adjectives:[]},activeCombat:{isActive:!1,challenge:null,enemyId:null},activePuzzle:{isActive:!1,targetObject:"",requiredAdjectives:[],selectedAdjectives:[],availableAdjectives:[]},activeTimePuzzle:{isActive:!1,targetId:"",prompt:"",challenge:null},activeLesson:null,currentLocation:"hub_main",unlockedWorlds:["noun_meadows"],playerHP:Qp,playerMaxHP:Qp,isGameOver:!1,isPlayerInvincible:!1,isGamePaused:!1,loadingStatus:{isGeneratingLevel:!1,isFetchingLesson:!1,isFetchingQuiz:!1},collection:{outfits:["Default Traveler"],companions:["None"],hubDecorations:[],sages:[]},equippedOutfit:"Default Traveler",equippedCompanion:"None",lastDailyChallengeDate:"",gachaResult:null,dailyChallengeState:{isActive:!1,challengesCompleted:0},isAiming:!1,aimingAngle:0,activeProjectiles:[],koEffects:[],dialogueChoices:null,activeProceduralLevel:null,proceduralQuest:null,gauntletHighestLevel:1,currentRunLevel:1,gauntletCompleted:!1,isApiQuotaExhausted:!1},A=localStorage.getItem("lexiconLegendsSave");if(A){const L=JSON.parse(A),V={...S,...L};return L.worldProgress?(V.worldProgress={...S.worldProgress,...L.worldProgress},(w=L.worldProgress.noun_meadows)!=null&&w.enemies||(V.worldProgress.noun_meadows=JSON.parse(JSON.stringify(xa))),(D=L.worldProgress.noun_meadows)!=null&&D.fitzDialogueState||(V.worldProgress.noun_meadows.fitzDialogueState="initial_quest",V.worldProgress.noun_meadows.isPortalSpawned=!1)):V.worldProgress=S.worldProgress,L.loadingStatus||(V.loadingStatus=S.loadingStatus),V.isGameOver=!1,V.isGamePaused=!1,V.isPlayerInvincible=!1,V.activeCombat={isActive:!1,challenge:null,enemyId:null},V.activeLesson=null,V.isAiming=!1,V.activeProjectiles=[],V.koEffects=[],V.dialogueChoices=null,V.activeProceduralLevel=null,V.proceduralQuest=null,V}return S}),[l,a]=fe.useState(null),[c,d]=fe.useState(null),[g,h]=fe.useState(null),y=fe.useRef(null);fe.useEffect(()=>{localStorage.setItem("lexiconLegendsSave",JSON.stringify(n))},[n]),fe.useEffect(()=>{const S=Jp.every(w=>n.inventory.includes(w)),A=n.worldProgress.noun_meadows;S&&A.status==="in_progress"&&(e(w=>{const D={...w.worldProgress.noun_meadows,status:"completed",fitzDialogueState:"post_quest_choice"},L={...w.worldProgress,noun_meadows:D};return{...w,worldProgress:L,playerXP:w.playerXP+100,lingoGems:w.lingoGems+10}}),a("You found them all! A true hero! Please, speak with me again when you are ready for your next trial."))},[n.inventory,n.worldProgress.noun_meadows]),fe.useEffect(()=>{const{activeProceduralLevel:S,proceduralQuest:A}=n;S&&(A!=null&&A.isStarted)&&!A.isComplete&&S.questItems.every(D=>D.isCollected)&&(e(D=>({...D,proceduralQuest:{...D.proceduralQuest,isComplete:!0},playerXP:D.playerXP+S.levelNumber*50,lingoGems:D.lingoGems+S.levelNumber*5})),a("You've found everything! Incredible work. The portal out of this area is now open... or you can return to the Hub from the map."))},[n.activeProceduralLevel,n.proceduralQuest]),fe.useEffect(()=>{j1.every(A=>n.inventory.includes(A))&&n.worldProgress.verb_volcanoes.status!=="completed"&&(e(A=>{const w={...A.worldProgress,verb_volcanoes:{...A.worldProgress.verb_volcanoes,status:"completed"}};return{...A,worldProgress:w,playerXP:A.playerXP+250,lingoGems:A.lingoGems+20,unlockedWorlds:[...new Set([...A.unlockedWorlds,"adjective_isles"])]}}),a("Amazing! You did it! The Golem lives! A mysterious, colorful archipelago has appeared on your map! The Adjective Isles await your discovery."))},[n.inventory,n.worldProgress.verb_volcanoes.status]),fe.useEffect(()=>{eM.every(A=>n.inventory.includes(A))&&n.worldProgress.adjective_isles.status!=="completed"&&(e(A=>{const w={...A.worldProgress,adjective_isles:{...A.worldProgress.adjective_isles,status:"completed",isColored:!0}};return{...A,worldProgress:w,playerXP:A.playerXP+400,lingoGems:A.lingoGems+30,unlockedWorlds:[...new Set([...A.unlockedWorlds,"tense_tangled_forest"])]}}),a("Incredible! You've brought color back to my world! You feel a strange pull towards the ancient woods. A path veiled in mist has now appeared on your map: The Tense-Tangled Forest."))},[n.inventory,n.worldProgress.adjective_isles.status]),fe.useEffect(()=>{Aa.every(A=>{var w;return((w=n.worldProgress.tense_tangled_forest.objectStates)==null?void 0:w[A.id])===A.solvedState})&&n.worldProgress.tense_tangled_forest.status!=="completed"&&(e(A=>{const w={...A.worldProgress,tense_tangled_forest:{...A.worldProgress.tense_tangled_forest,status:"completed"}};return{...A,worldProgress:w,playerXP:A.playerXP+600,lingoGems:A.lingoGems+50,wordTome:{...A.wordTome,tenseGuide:{past:"'The bridge was strong.' - Past tense describes things that have already happened.",present:"'The crystal is stable.' - Present tense describes things happening now.",future:"'This seed will grow a great tree.' - Future tense describes things that are yet to happen."}}}}),a("Balance... is returning. You have a gift for language... and time. Thank you. The mist in the forest has cleared."))},[n.worldProgress.tense_tangled_forest.objectStates,n.worldProgress.tense_tangled_forest.status]),fe.useEffect(()=>{n.playerHP<=0&&!n.isGameOver&&e(S=>({...S,isGameOver:!0,isGamePaused:!0}))},[n.playerHP,n.isGameOver]);const p=()=>new Date().toISOString().split("T")[0],v=fe.useCallback(async S=>{if(a(`Entering Gauntlet Level ${S}...`),e(L=>({...L,loadingStatus:{...L.loadingStatus,isGeneratingLevel:!0},currentLocation:"procedural_gauntlet"})),n.isApiQuotaExhausted){console.log("Quota exhausted, loading fallback procedural level.");const L=JSON.parse(JSON.stringify(Rg));e(V=>{const q=S>V.gauntletHighestLevel;return{...V,playerHP:V.playerMaxHP,activeProceduralLevel:{...L,levelNumber:S},currentRunLevel:S,gauntletHighestLevel:q?S:V.gauntletHighestLevel,loadingStatus:{...V.loadingStatus,isGeneratingLevel:!1},isGamePaused:!1,proceduralQuest:{isStarted:!1,isComplete:!1}}}),S>n.gauntletHighestLevel&&a(`Checkpoint Saved! You've reached Level ${S}!`);return}const A=await W1(S);A.errorType==="QUOTA_EXHAUSTED"&&!n.isApiQuotaExhausted?a("The well of magic has run dry for today! Standard challenges will be used until tomorrow."):A.errorType==="NETWORK_ERROR"&&console.error("An unexpected error occurred during level generation, using fallback.");const w=A.data,D=S>n.gauntletHighestLevel;D&&A.errorType!=="QUOTA_EXHAUSTED"&&a(`Checkpoint Saved! You've reached Level ${S}!`),e(L=>({...L,playerHP:L.playerMaxHP,activeProceduralLevel:w,currentRunLevel:S,gauntletHighestLevel:D?S:L.gauntletHighestLevel,loadingStatus:{...L.loadingStatus,isGeneratingLevel:!1},isGamePaused:!1,proceduralQuest:{isStarted:!1,isComplete:!1},isApiQuotaExhausted:L.isApiQuotaExhausted||A.errorType==="QUOTA_EXHAUSTED"}))},[n.isApiQuotaExhausted,n.gauntletHighestLevel]),C=fe.useCallback(()=>{n.gauntletCompleted?(a("You have already conquered the Gauntlet! What would you like to do?"),e(S=>({...S,dialogueChoices:[{text:"Start New Gauntlet",onSelect:()=>{a("A new challenge begins! The Gauntlet resets..."),e(A=>({...A,gauntletHighestLevel:1,currentRunLevel:1,gauntletCompleted:!1,dialogueChoices:null})),v(1)}},{text:"Enter at Checkpoint",onSelect:()=>{a(`Returning to your highest level: ${S.gauntletHighestLevel}`),e(A=>({...A,dialogueChoices:null})),v(S.gauntletHighestLevel)}}]}))):(a("The portal hums with power... You are being transported!"),v(n.gauntletHighestLevel))},[n.gauntletHighestLevel,n.gauntletCompleted,v]),_=fe.useCallback(()=>{const{currentRunLevel:S}=n,A=S+1;A>lM?(e(w=>({...w,gauntletCompleted:!0,currentLocation:"hub_main",activeProceduralLevel:null,proceduralQuest:null})),a("Victory! You have conquered the Gauntlet of Grammar! You are a true Lexicon Legend.")):v(A)},[n.currentRunLevel,v]),b=fe.useCallback(()=>{var S;(S=y.current)==null||S.abort(),e(A=>({...A,activeLesson:null,isGamePaused:!1,loadingStatus:{...A.loadingStatus,isFetchingLesson:!1}})),h(null)},[]),H=fe.useCallback(async(S,A)=>{var V;(V=y.current)==null||V.abort();const w=new AbortController;y.current=w,e(q=>({...q,loadingStatus:{...q.loadingStatus,isFetchingLesson:!0}})),A||(e(q=>({...q,activeLesson:S,isGamePaused:!0})),h(null));const D=()=>{h(Mg[S]||null),e(q=>({...q,loadingStatus:{...q.loadingStatus,isFetchingLesson:!1}}))};if(n.isApiQuotaExhausted){console.log("Quota is exhausted, loading fallback lesson."),D();return}if(w.signal.aborted){console.log("Request cancelled before fetch.");return}const L=await K1(S);if(w.signal.aborted){console.log("Request cancelled during fetch.");return}h(L.data),L.errorType==="QUOTA_EXHAUSTED"&&!n.isApiQuotaExhausted?(a("The well of wisdom has run dry for today! Standard lessons will be used until tomorrow."),e(q=>({...q,isApiQuotaExhausted:!0}))):L.errorType==="NETWORK_ERROR"&&console.error("Failed to fetch lesson, using fallback:",L.data),e(q=>({...q,loadingStatus:{...q.loadingStatus,isFetchingLesson:!1}}))},[n.isApiQuotaExhausted,b]),k=fe.useCallback(S=>{const{currentLocation:A,activeProceduralLevel:w,proceduralQuest:D,worldProgress:L}=n;if(A==="procedural_gauntlet"&&w&&D){const V=w.npc;if(S===V.name)if(D.isComplete)a("You're a true legend! Step through the portal to face your next challenge.");else if(D.isStarted){const q=w.questItems.filter(ce=>!ce.isCollected).length;a(`You still need to find ${q} item(s). Good luck!`)}else a(V.quest),e(q=>({...q,proceduralQuest:{...q.proceduralQuest,isStarted:!0}}));return}if(S==="Fitz"){const V=L.noun_meadows;switch(V.fitzDialogueState){case"initial_quest":V.status==="not_started"?(e(q=>{const ce={...q.worldProgress.noun_meadows,status:"in_progress"},pe={...q.worldProgress,noun_meadows:ce};return{...q,worldProgress:pe}}),a("Oh, Traveler, thank goodness! Pesky Article Imps have stolen my favorite things. Please, retrieve my book, hat, and apple for me!")):a("Please hurry! Find my book, hat, and apple. You'll have to defeat their guardians first!");break;case"post_quest_choice":a("Your skill is undeniable. You are ready to face a greater challenge. Will you step into the Gauntlet of Grammar?"),e(q=>({...q,dialogueChoices:[{text:"Yes, I am ready!",onSelect:()=>{a("Excellent! I have opened a gateway for you. It will not last forever. Find the portal and prove your mastery!"),e(ce=>{const pe={...ce.worldProgress.noun_meadows,fitzDialogueState:"quest_completed",isPortalSpawned:!0},Ae={...ce.worldProgress,noun_meadows:pe};return{...ce,dialogueChoices:null,worldProgress:Ae}})}},{text:"No, I need more time.",onSelect:()=>{a("Of course. There is no rush. Prepare yourself and speak to me again when you are ready."),e(ce=>({...ce,dialogueChoices:null}))}}]}));break;case"quest_completed":a("The portal awaits your challenge, Traveler. Show them what a Lexicon Legend you've become!");break}}else if(S==="Vera"){const V=L.verb_volcanoes.status;V==="not_started"?(e(q=>{const ce={...q.worldProgress,verb_volcanoes:{...q.worldProgress.verb_volcanoes,status:"in_progress"}};return{...q,worldProgress:ce}}),a("Traveler! The Great Golem is dormant! We need to reactivate its core. Please find the three Action Runes. Watch out for the Tense Terrors that guard them!")):a(V==="completed"?"The Golem's power flows thanks to you!":"Find the Action Runes to awaken the Golem!")}else if(S==="Arturo"){const V=L.adjective_isles.status;V==="not_started"?(e(q=>{const ce={...q.worldProgress,adjective_isles:{...q.worldProgress.adjective_isles,status:"in_progress"}};return{...q,worldProgress:ce}}),a("Traveler! The world... it's so dull! The Chroma Crystals that give this archipelago its color have gone dim. Please, help me restore them by correctly describing the world around you.")):a(V==="completed"?"My art has never been so vibrant, thank you!":"Bring color back to my canvas by solving the descriptive puzzles!")}else if(S==="Chronos"){const V=L.tense_tangled_forest.status;V==="not_started"?(e(q=>{const ce={...q.worldProgress,tense_tangled_forest:{...q.worldProgress.tense_tangled_forest,status:"in_progress"}};return{...q,worldProgress:ce}}),a("Traveler... time... it is broken here. The three great Time Anchors are unstable. You must... speak to the world as it was, as it is, and as it will be... to restore balance.")):a(V==="completed"?"The forest's timeline is whole once more, thanks to you.":"The Time Anchors are still unstable. The past, present, and future are tangled.")}},[n]),F=fe.useCallback((S,A)=>{const{currentLocation:w,activeProceduralLevel:D,proceduralQuest:L}=n;if(w==="procedural_gauntlet"){if(S==="gauntlet_exit_portal"){_();return}if(A==="npc"&&D&&L){k(S);return}if(A==="guiding_stone"){H(S,!1);return}if(A==="quest_item"&&D&&L){if(!L.isStarted){a("You should probably talk to the person standing over there first.");return}e(q=>{const ce={...q.activeProceduralLevel},pe=ce.questItems.find(qe=>qe.id===S);if(!pe||pe.isCollected)return q;const Ae=ce.enemies.find(qe=>qe.id===pe.guardianId);if((Ae==null?void 0:Ae.status)==="defeated"){a(`You collected the ${pe.name}!`);const qe=ce.questItems.map(He=>He.id===S?{...He,isCollected:!0}:He);return ce.questItems=qe,{...q,inventory:[...new Set([...q.inventory,pe.name])],wordTome:{...q.wordTome,nouns:q.wordTome.nouns.includes(pe.name)?q.wordTome.nouns:[...q.wordTome.nouns,pe.name]},activeProceduralLevel:ce}}else return a(`You can't take this yet! A ${(Ae==null?void 0:Ae.type)||"monster"} is guarding it.`),q})}return}if(S==="portal_gate"){C();return}const V=Vt.interactives.find(q=>q.id===S);if(V)switch(V.type){case"npc":k(V.id);return;case"guiding_stone":H(V.lessonId,!1);return}e(q=>{var qe,He,_t;const ce=q.worldProgress.noun_meadows,pe=(qe=ce.questItems)==null?void 0:qe.find(rt=>rt.id===S);if(!pe||pe.isCollected)return q;const Ae=(He=ce.enemies)==null?void 0:He.find(rt=>rt.id===pe.guardianId);if((Ae==null?void 0:Ae.status)==="defeated"){a(`You collected the ${pe.name}!`);const rt=(_t=ce.questItems)==null?void 0:_t.map(Ki=>Ki.id===S?{...Ki,isCollected:!0}:Ki),Xi={...ce,questItems:rt};return{...q,inventory:[...new Set([...q.inventory,pe.name])],wordTome:{...q.wordTome,nouns:q.wordTome.nouns.includes(pe.name)?q.wordTome.nouns:[...q.wordTome.nouns,pe.name]},worldProgress:{...q.worldProgress,noun_meadows:Xi}}}else return a("You can't take this yet! A pesky Article Imp is guarding it."),q})},[n,k,C,H,_]),Z=fe.useCallback(async S=>{var L;if(n.activeCombat.isActive||n.isAiming)return;if(n.currentLocation==="procedural_gauntlet"){if(!((L=n.proceduralQuest)!=null&&L.isStarted)){a("This creature seems passive. Maybe you should talk to the local first.");return}}else if(n.worldProgress.noun_meadows.status!=="in_progress"){a("Talk to Old Man Fitz to start the quest!");return}e(V=>({...V,loadingStatus:{...V.loadingStatus,isFetchingQuiz:!0},activeCombat:{isActive:!0,challenge:null,enemyId:S.id}}));const A=S.challenge.itemName;let w;if(n.isApiQuotaExhausted)console.log("Quota exhausted, using fallback quiz."),w={sentence:`This is ___ ${A}.`,correctAnswer:["a","e","i","o","u"].includes(A[0].toLowerCase())?"an":"a",options:["a","an"]};else{const V=await X1(A);w=V.data,V.errorType==="QUOTA_EXHAUSTED"&&!n.isApiQuotaExhausted?(a("The well of wit has run dry for today! Standard questions will be used until tomorrow."),e(q=>({...q,isApiQuotaExhausted:!0}))):V.errorType==="NETWORK_ERROR"&&console.error("Unexpected error fetching quiz, using fallback.")}const D={type:"article",itemName:A,sentence:w.sentence,options:w.options,correctAnswer:w.correctAnswer};e(V=>({...V,loadingStatus:{...V.loadingStatus,isFetchingQuiz:!1},activeCombat:{...V.activeCombat,challenge:D}}))},[n.worldProgress.noun_meadows.status,n.activeCombat.isActive,n.isAiming,n.currentLocation,n.proceduralQuest,n.isApiQuotaExhausted]),X=fe.useCallback(()=>{n.isPlayerInvincible||(e(S=>({...S,playerHP:S.playerHP-1,isPlayerInvincible:!0})),setTimeout(()=>{e(S=>({...S,isPlayerInvincible:!1}))},iM))},[n.isPlayerInvincible]),W=fe.useCallback(()=>{if(n.currentLocation==="procedural_gauntlet"){const S=n.gauntletHighestLevel;a(`Defeated! Returning to your checkpoint: Level ${S}.`),e(A=>({...A,isGameOver:!1,playerHP:A.playerMaxHP,isAiming:!1,activeProjectiles:[],koEffects:[]})),v(S)}else e(S=>{const A=JSON.parse(JSON.stringify(xa)),w=S.inventory.filter(D=>!Jp.some(L=>L===D));return{...S,isGameOver:!1,isGamePaused:!1,playerHP:S.playerMaxHP,isAiming:!1,activeProjectiles:[],koEffects:[],dialogueChoices:null,activeCombat:{isActive:!1,challenge:null,enemyId:null},worldProgress:{...S.worldProgress,noun_meadows:A},inventory:w,currentLocation:"noun_meadows"}}),a("You've been defeated, but don't give up! The Noun Meadows have been reset.")},[n.currentLocation,n.gauntletHighestLevel,v]),$=S=>{a(null),e(A=>({...A,currentLocation:S,dialogueChoices:null,isGamePaused:!1}))},J=S=>{d({message:`Reset ${S}?`,detail:"All of your progress in this world will be permanently lost, but you will keep any items earned. This cannot be undone.",onConfirm:()=>{e(A=>{const w={...A.worldProgress};return S==="noun_meadows"&&(w.noun_meadows=JSON.parse(JSON.stringify(xa))),{...A,worldProgress:w}}),d(null),$(S)}})},ue=S=>{const A=S===1?tM:nM;if(n.lingoGems<A){a("You don't have enough Lingo Gems for that.");return}const w=[];for(let D=0;D<S;D++){const L=Math.random()*100;let V;L<5?V="Epic":L<30?V="Rare":V="Common";const q=aM[V],ce=q[Math.floor(Math.random()*q.length)];w.push({...ce,rarity:V})}e(D=>{const L={...D,lingoGems:D.lingoGems-A,gachaResult:w};return w.forEach(V=>{switch(V.type){case"xp":L.playerXP+=50;break;case"outfit":L.collection.outfits.includes(V.name)||L.collection.outfits.push(V.name);break;case"companion":L.collection.companions.includes(V.name)||L.collection.companions.push(V.name);break;case"decoration":L.collection.hubDecorations.includes(V.name)||L.collection.hubDecorations.push(V.name);break;case"sage":L.collection.sages.includes(V.name)||L.collection.sages.push(V.name);break}}),L})},ee=()=>{const S=p();return n.lastDailyChallengeDate===S},Ee=()=>{a("A series of challenges begin! Complete 3 to earn a reward."),e(S=>({...S,dailyChallengeState:{isActive:!0,challengesCompleted:0},currentLocation:"noun_meadows"}))},le=(S,A)=>{S==="outfit"?e(w=>({...w,equippedOutfit:A})):S==="companion"&&e(w=>({...w,equippedCompanion:A}))},j=S=>{const{activeCombat:A,currentLocation:w,activeProceduralLevel:D}=n;if(!A.challenge||!A.enemyId)return;const L=S===A.challenge.correctAnswer,V=A.enemyId;L?(a("Correct! The enemy is defeated!"),w==="noun_meadows"?e(q=>{var qe,He,_t;const ce=(He=(qe=q.worldProgress.noun_meadows.enemies)==null?void 0:qe.find(rt=>rt.id===V))==null?void 0:He.position,pe=((_t=q.worldProgress.noun_meadows.enemies)==null?void 0:_t.map(rt=>rt.id===V?{...rt,status:"defeated"}:rt))||[],Ae={...q.worldProgress.noun_meadows,enemies:pe};return{...q,activeCombat:{isActive:!1,challenge:null,enemyId:null},worldProgress:{...q.worldProgress,noun_meadows:Ae},playerXP:q.playerXP+20,koEffects:[...q.koEffects,{id:`ko-${Date.now()}`,pos:ce||{x:0,y:0}}]}}):w==="procedural_gauntlet"&&D&&e(q=>{var Ae;const ce=(Ae=q.activeProceduralLevel.enemies.find(qe=>qe.id===V))==null?void 0:Ae.position,pe=q.activeProceduralLevel.enemies.map(qe=>qe.id===V?{...qe,status:"defeated"}:qe);return{...q,activeCombat:{isActive:!1,challenge:null,enemyId:null},playerXP:q.playerXP+15,activeProceduralLevel:{...q.activeProceduralLevel,enemies:pe},koEffects:[...q.koEffects,{id:`ko-${Date.now()}`,pos:ce||{x:0,y:0}}]}})):(a("Incorrect! You've taken damage!"),e(q=>({...q,activeCombat:{isActive:!1,challenge:null,enemyId:null}})),X())},ne=S=>{e(A=>({...A,activePuzzle:{isActive:!0,targetObject:S.targetObject,requiredAdjectives:S.requiredAdjectives,availableAdjectives:S.availableAdjectives,selectedAdjectives:[]}}))},re=S=>{e(A=>{const{activePuzzle:w}=A,D=w.selectedAdjectives;return D.includes(S)?{...A,activePuzzle:{...w,selectedAdjectives:D.filter(L=>L!==S)}}:D.length<w.requiredAdjectives.length?{...A,activePuzzle:{...w,selectedAdjectives:[...D,S]}}:A})},Ce=()=>{e(S=>{const{activePuzzle:A}=S,{selectedAdjectives:w,requiredAdjectives:D,targetObject:L}=A,V=D.length===w.length&&D.every(ce=>w.includes(ce)),q=Xp.find(ce=>ce.targetObject===L);return V&&q?(a(`That's it! You described the ${L} perfectly! You received the ${q.id}.`),{...S,inventory:[...new Set([...S.inventory,q.id])],wordTome:{...S.wordTome,adjectives:[...new Set([...S.wordTome.adjectives,...D])]},playerXP:S.playerXP+150,activePuzzle:{...A,isActive:!1}}):(a(`That's not quite right. Try describing the ${L} again.`),{...S,activePuzzle:{...A,selectedAdjectives:[]}})})},be=S=>{e(A=>({...A,activeTimePuzzle:{isActive:!0,targetId:S.id,prompt:S.prompt,challenge:S.challenge}}))},he=S=>{e(A=>{const{activeTimePuzzle:w}=A;if(!w.challenge)return A;if(S===w.challenge.correctTense){const L=Aa.find(ce=>ce.id===w.targetId);if(!L)return A;a("You've mended the timeline for this object!");const V={...A.worldProgress.tense_tangled_forest.objectStates,[L.id]:L.solvedState},q={...A.worldProgress.tense_tangled_forest,objectStates:V};return{...A,playerXP:A.playerXP+200,activeTimePuzzle:{...w,isActive:!1},worldProgress:{...A.worldProgress,tense_tangled_forest:q}}}else return a("That wasn't the right time... The object remains unstable. You take damage from the temporal feedback!"),X(),{...A,activeTimePuzzle:{...w,isActive:!1}}})},B=fe.useCallback(S=>{e(A=>({...A,aimingAngle:(A.aimingAngle+S+360)%360}))},[]),Q=fe.useCallback(S=>{e(A=>({...A,isAiming:!1,activeProjectiles:[...A.activeProjectiles,{id:`proj-${Date.now()}`,pos:{x:S.x+Zl/2,y:S.y+$l/2},angle:A.aimingAngle}]}))},[]),ie=fe.useCallback((S,A)=>{e(w=>{var L;const D={...w,activeProjectiles:w.activeProjectiles.filter(V=>V.id!==S)};if(A){let V;w.currentLocation==="procedural_gauntlet"&&w.activeProceduralLevel?V=w.activeProceduralLevel.enemies.find(q=>q.id===A):w.currentLocation==="noun_meadows"&&(V=(L=w.worldProgress.noun_meadows.enemies)==null?void 0:L.find(q=>q.id===A)),V&&V.status!=="defeated"&&Z(V)}return D})},[Z]),K=()=>{const{currentLocation:S,worldProgress:A,activeProceduralLevel:w}=n;switch(S){case"noun_meadows":return E.jsx(Kr,{location:S,map:Vt,gameState:n,onInteract:F,onPlayerDamage:X,onCombatStart:Z,onAim:B,onFire:Q,onProjectileHit:ie});case"verb_volcanoes":return E.jsx(Kr,{location:S,map:sM,gameState:n,onInteract:F,onPlayerDamage:X,onCombatStart:Z,onAim:B,onFire:Q,onProjectileHit:ie,children:E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center",children:E.jsx(Wl,{name:"Vera",showPrompt:!1,onClick:()=>k("Vera")})})});case"adjective_isles":return E.jsxs("div",{className:`w-full h-screen flex flex-col justify-center items-center p-4 pt-20 transition-colors duration-1000 ${A.adjective_isles.isColored?"bg-cyan-200":"bg-gray-400"}`,children:[E.jsx("div",{className:"absolute top-1/3",children:E.jsx(Wl,{name:"Arturo",showPrompt:!1,onClick:()=>k("Arturo")})}),E.jsx("div",{className:"flex space-x-20 mt-10 w-full justify-around items-end h-1/2",children:Xp.map(D=>E.jsx(_0,{objectName:D.targetObject,icon:D.icon,onClick:()=>ne(D),isPuzzleSolved:n.inventory.includes(D.id),isTarget:!n.inventory.includes(D.id)},D.id))})]});case"tense_tangled_forest":return E.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-slate-800 p-4 pt-20",children:[E.jsx(Wl,{name:"Chronos",showPrompt:!1,onClick:()=>k("Chronos")}),E.jsx("div",{className:"flex space-x-20 mt-10 relative w-full h-1/2",children:Aa.map(D=>{var V;const L=((V=A.tense_tangled_forest.objectStates)==null?void 0:V[D.id])||D.initialState;return E.jsx("div",{className:`absolute ${D.position}`,children:E.jsx(b0,{id:D.id,currentState:L,isSolved:L===D.solvedState,onClick:()=>be(D)})},D.id)})})]});case"procedural_gauntlet":return n.loadingStatus.isGeneratingLevel?E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("h1",{children:"Generating Gauntlet Level..."})}):w?E.jsx(Kr,{location:"procedural_gauntlet",map:w,gameState:n,onInteract:F,onPlayerDamage:X,onCombatStart:Z,onAim:B,onFire:Q,onProjectileHit:ie}):E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("h1",{children:"Loading Gauntlet..."})});default:return null}};return E.jsxs("div",{className:"app-container bg-gray-900 text-white font-sans",children:[E.jsx(r0,{xp:n.playerXP,gems:n.lingoGems,inventory:n.inventory,onShowMap:()=>$("map"),hp:n.playerHP,maxHp:n.playerMaxHP}),n.currentLocation==="map"&&E.jsx(E0,{unlockedWorlds:n.unlockedWorlds,onTravel:$,worldProgress:n.worldProgress,onResetRequest:J}),n.currentLocation==="hub_main"&&E.jsx(w0,{onNavigate:$,collection:n.collection,equippedOutfit:n.equippedOutfit,equippedCompanion:n.equippedCompanion}),n.currentLocation==="well_of_words"&&E.jsx(U0,{gems:n.lingoGems,onDraw:ue,onBack:()=>$("hub_main"),results:n.gachaResult,onCloseResults:()=>e(S=>({...S,gachaResult:null}))}),n.currentLocation==="endless_tower"&&E.jsx(L0,{onBack:()=>$("hub_main"),onStart:Ee,isAvailable:!ee()}),n.currentLocation==="collection_screen"&&E.jsx(P0,{collection:n.collection,onBack:()=>$("hub_main"),onEquip:le,equippedOutfit:n.equippedOutfit,equippedCompanion:n.equippedCompanion}),K(),l&&E.jsx(S0,{message:l,onClose:()=>a(null),choices:n.dialogueChoices}),n.activeCombat.isActive&&E.jsx(x0,{combatState:n.activeCombat,onResolve:j,isFetchingQuiz:n.loadingStatus.isFetchingQuiz}),n.activePuzzle.isActive&&E.jsx(A0,{puzzleState:n.activePuzzle,onSelectAdjective:re,onSubmit:Ce,onClose:()=>e(S=>({...S,activePuzzle:{...S.activePuzzle,isActive:!1}}))}),n.activeTimePuzzle.isActive&&E.jsx(M0,{puzzleState:n.activeTimePuzzle,onSelectTense:he,onClose:()=>e(S=>({...S,activeTimePuzzle:{...S.activeTimePuzzle,isActive:!1}}))}),n.activeLesson&&E.jsx(B0,{lessonData:g,isLoading:n.loadingStatus.isFetchingLesson,onClose:b,onCancel:b,onRefresh:()=>H(n.activeLesson,!0)}),n.isGameOver&&E.jsx(q0,{onRetry:W}),c&&E.jsx(G0,{...c,onCancel:()=>d(null)})]})},bg=document.getElementById("root");if(!bg)throw new Error("Could not find root element to mount to");const uM=s0.createRoot(bg);uM.render(E.jsx(jy.StrictMode,{children:E.jsx(rM,{})}));
